[tool.poetry]
name = "pytmosph3r"
version = "2.2.0"
description = "Pytmosph3R, generating transmission spectra from 3D atmospheric simulations"
authors = ["Aur√©lien Falco <aurelien.falco@u-bordeaux.fr>"]


license = "BSD"
readme = "README.md"
homepage = "https://forge.oasu.u-bordeaux.fr/LAB/whiplash/pytmosph3r-2"
repository = "https://forge.oasu.u-bordeaux.fr/LAB/whiplash/pytmosph3r-2"
documentation = ""

keywords = ['exoplanet', 'simulation', 'pytmosph3r', 'spectra', 'atmosphere', 'atmospheric']
classifiers = [
    'Development Status :: 5 - Production/Stable',
    'Environment :: Console',
    'Intended Audience :: Developers',
    'Intended Audience :: Science/Research',
    'License :: OSI Approved :: BSD License',
    'Operating System :: Microsoft :: Windows',
    'Operating System :: MacOS',
    'Operating System :: POSIX',
    'Operating System :: POSIX :: Linux',
    'Operating System :: Unix',
    'Operating System :: OS Independent',
    'Programming Language :: Python',
    'Topic :: Scientific/Engineering',
    'Topic :: Software Development :: Libraries',
    'Topic :: Scientific/Engineering :: Astronomy',
    'Topic :: Scientific/Engineering :: Atmospheric Science',
]

[tool.poetry-dynamic-versioning]
enable = false
vcs = "git"
style = "pep440"
bump = true
pattern = "default-unprefixed"

[tool.poetry.dependencies]
python = ">=3.8,<3.12"


configobj = ">=5.0.8"
psutil = ">=5.9.5"
tqdm = ">=4.66.1"

"ai.cs" = ">=1.0.7"
netCDF4 = ">=1.6.4"

Wand = ">=0.6.11"


taurex = { version = ">=3.1.4a0", optional = true }
taurex-ace = { version = ">=1.0.2.dev0", optional = true }
pyfastchem = { version = ">=3.0.4", optional = true }
exo-k = "^1.2.2"
matplotlib = [
    { version = ">3.7.3", python = ">=3.9, <3.12" },
    { version = "<=3.7.3", python = "3.8" }]

[tool.poetry.extras]
taurex = ['taurex', 'taurex-ace']
fastchem = ['pyfastchem']


[tool.poetry.group.doc.dependencies]
nbclient = "^0.8.0"
papermill = "^2.4.0"

Sphinx = [
    { version = "^7.2.6", python = ">=3.9, <3.12" },
    { version = "<=7.1.2", python = "3.8" }]
nbsphinx = "^0.9.3"
nbsphinx-link = "^1.3.0"
sphinx-argparse = "^0.4.0"
sphinx-autoapi = "^3.0.0"
sphinx-autobuild = "^2021.3.14"
sphinx-rtd-theme = "2.0.0rc2"
sphinxcontrib-bibtex = "^2.6.1"
sphinxcontrib-napoleon = "^0.7"


[tool.poetry.group.dev.dependencies]
jupyter-server = "^2.9.1"
jupyter = "^1.0.0"
ipympl = "^0.9.3"

[tool.poetry.group.tools.dependencies]
nb-clean = "^3.1.0"
pylint = "^2.17.7"
deptry = "^0.12.0"

[tool.poetry.group.testing.dependencies]
coverage = "^7.3.2"
mypy = "^1.6.1"

tox = "^4.11.3"

pytest = "^7.4.3"
pytest-cov = "^4.1.0"
pytest-clarity = "^1.0.1"
pytest-mypy = "^0.10.3"
pytest-sugar = "^0.9.7"
pytest-xdist = { extras = ["psutil"], version = "^3.3.1" }

hypothesis = { extras = ["numpy"], version = "^6.88.1" }


[tool.poetry.scripts]
#pytmosph3r = "pytmosph3r.cli.p3:main"
#pytmosph3r-nc-to-h5 = "pytmosph3r.cli.interface_nc_to_h5:nc_to_h5"
#pytmosph3r-h5-to-nc = "pytmosph3r.cli.interface_h5_to_nc:h5_to_nc"
#pytmosph3r-nc-to-nc = "pytmosph3r.cli.interface_nc_to_nc:nc_to_nc"
pytmosph3r-plot = "pytmosph3r.plot.plot:main"

[tool.deptry]
ignore_notebooks = true

[tool.pytest.ini_options]
minversion = '7.0'
addopts = '-p no:warnings --cov' # --capture=no
testpaths = ["tests_p3"]


[mypy]


[build-system]
requires = ["poetry-core>=1.1.0", "poetry-dynamic-versioning"]
build-backend = "poetry_dynamic_versioning.backend"