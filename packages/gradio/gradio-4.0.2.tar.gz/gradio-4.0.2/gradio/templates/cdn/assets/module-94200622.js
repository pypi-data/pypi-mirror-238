import{a as tn}from"./Index-37584f50.js";import"./index-0526d562.js";import"./svelte/svelte.js";const sr=e=>t=>{const n=e(t);return t.add(n),n},ar=e=>(t,n)=>(e.set(t,n),n),It=Number.MAX_SAFE_INTEGER===void 0?9007199254740991:Number.MAX_SAFE_INTEGER,nn=536870912,St=nn*2,ir=(e,t)=>n=>{const r=t.get(n);let o=r===void 0?n.size:r<St?r+1:0;if(!n.has(o))return e(n,o);if(n.size<nn){for(;n.has(o);)o=Math.floor(Math.random()*St);return e(n,o)}if(n.size>It)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;n.has(o);)o=Math.floor(Math.random()*It);return e(n,o)},rn=new WeakMap,cr=ar(rn),dt=ir(cr,rn),ur=sr(dt),lr=e=>typeof e.start=="function",kt=new WeakMap,dr=e=>({...e,connect:({call:t})=>async()=>{const{port1:n,port2:r}=new MessageChannel,o=await t("connect",{port:n},[n]);return kt.set(r,o),r},disconnect:({call:t})=>async n=>{const r=kt.get(n);if(r===void 0)throw new Error("The given port is not connected.");await t("disconnect",{portId:r})},isSupported:({call:t})=>()=>t("isSupported")}),Qe=new WeakMap,fr=e=>{if(Qe.has(e))return Qe.get(e);const t=new Map;return Qe.set(e,t),t},hr=e=>{const t=dr(e);return n=>{const r=fr(n);n.addEventListener("message",({data:i})=>{const{id:c}=i;if(c!==null&&r.has(c)){const{reject:u,resolve:d}=r.get(c);r.delete(c),i.error===void 0?d(i.result):u(new Error(i.error.message))}}),lr(n)&&n.start();const o=(i,c=null,u=[])=>new Promise((d,l)=>{const w=dt(r);r.set(w,{reject:l,resolve:d}),c===null?n.postMessage({id:w,method:i},u):n.postMessage({id:w,method:i,params:c},u)}),s=(i,c,u=[])=>{n.postMessage({id:null,method:i,params:c},u)};let a={};for(const[i,c]of Object.entries(t))a={...a,[i]:c({call:o,notify:s})};return{...a}}},Lt=new Set,pr=hr({encode:({call:e})=>async(t,n)=>{const r=await e("encode",{encoderId:t,timeslice:n});return Lt.delete(t),r},instantiate:({call:e})=>async(t,n)=>{const r=ur(Lt),o=await e("instantiate",{encoderId:r,mimeType:t,sampleRate:n});return{encoderId:r,port:o}},register:({call:e})=>t=>e("register",{port:t},[t])}),mr=e=>{const t=new Worker(e);return pr(t)},gr=`(()=>{var e={881:e=>{"use strict";e.exports=(e,t)=>{if("string"!=typeof e)throw new TypeError("expected a string");return e.trim().replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\\W/g,(e=>/[À-ž]/.test(e)?e:"-")).replace(/^-+|-+$/g,"").replace(/-{2,}/g,(e=>t&&t.condense?"-":e)).toLowerCase()}},507:e=>{var t=function(e){var t,r,n=/\\w+/.exec(e);if(!n)return"an";var o=(r=n[0]).toLowerCase(),s=["honest","hour","hono"];for(t in s)if(0==o.indexOf(s[t]))return"an";if(1==o.length)return"aedhilmnorsx".indexOf(o)>=0?"an":"a";if(r.match(/(?!FJO|[HLMNS]Y.|RY[EO]|SQU|(F[LR]?|[HL]|MN?|N|RH?|S[CHKLMNPTVW]?|X(YL)?)[AEIOU])[FHLMNRSX][A-Z]/))return"an";var a=[/^e[uw]/,/^onc?e\\b/,/^uni([^nmd]|mo)/,/^u[bcfhjkqrst][aeiou]/];for(t=0;t<a.length;t++)if(o.match(a[t]))return"a";return r.match(/^U[NK][AIEO]/)?"a":r==r.toUpperCase()?"aedhilmnorsx".indexOf(o[0])>=0?"an":"a":"aeiou".indexOf(o[0])>=0||o.match(/^y(b[lor]|cl[ea]|fere|gg|p[ios]|rou|tt)/)?"an":"a"};void 0!==e.exports?e.exports=t:window.indefiniteArticle=t}},t={};function r(n){var o=t[n];if(void 0!==o)return o.exports;var s=t[n]={exports:{}};return e[n](s,s.exports,r),s.exports}r.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return r.d(t,{a:t}),t},r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=r(881),t=r.n(e),n=r(507),o=r.n(n);const s=(e,r)=>void 0===r?e:r.reduce(((e,r)=>{if("capitalize"===r){const t=e.charAt(0).toUpperCase(),r=e.slice(1);return"".concat(t).concat(r)}return"dashify"===r?t()(e):"prependIndefiniteArticle"===r?"".concat(o()(e)," ").concat(e):e}),e),a=(e,t)=>{const r=/\\\${([^.}]+)((\\.[^(]+\\(\\))*)}/g,n=[];let o=r.exec(e);for(;null!==o;){const t={modifiers:[],name:o[1]};if(void 0!==o[3]){const e=/\\.[^(]+\\(\\)/g;let r=e.exec(o[2]);for(;null!==r;)t.modifiers.push(r[0].slice(1,-2)),r=e.exec(o[2])}n.push(t),o=r.exec(e)}const a=n.reduce(((e,r)=>e.map((e=>"string"==typeof e?e.split((e=>{const t=e.name+e.modifiers.map((e=>"\\\\.".concat(e,"\\\\(\\\\)"))).join("");return new RegExp("\\\\$\\\\{".concat(t,"}"),"g")})(r)).reduce(((e,n,o)=>0===o?[n]:r.name in t?[...e,s(t[r.name],r.modifiers),n]:[...e,e=>s(e[r.name],r.modifiers),n]),[]):[e])).reduce(((e,t)=>[...e,...t]),[])),[e]);return e=>a.reduce(((t,r)=>"string"==typeof r?[...t,r]:[...t,r(e)]),[]).join("")},i=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=void 0===e.code?void 0:a(e.code,t),n=void 0===e.message?void 0:a(e.message,t);return function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},o=arguments.length>1?arguments[1]:void 0;const s=void 0===o&&(t instanceof Error||void 0!==t.code&&"Exception"===t.code.slice(-9)),{cause:a,missingParameters:i}=s?{cause:t,missingParameters:{}}:{cause:o,missingParameters:t},c=void 0===n?new Error:new Error(n(i));return null!==a&&(c.cause=a),void 0!==r&&(c.code=r(i)),void 0!==e.status&&(c.status=e.status),c}},c=-32603,d=-32602,l=i({message:'The requested method called "\${method}" is not supported.',status:-32601}),u=i({message:'The handler of the method called "\${method}" returned no required result.',status:c}),h=i({message:'The handler of the method called "\${method}" returned an unexpected result.',status:c}),m=i({message:'The specified parameter called "portId" with the given value "\${portId}" does not identify a port connected to this worker.',status:d}),p=void 0===Number.MAX_SAFE_INTEGER?9007199254740991:Number.MAX_SAFE_INTEGER,f=536870912,g=1073741824,w=new WeakMap;var v;const y=((e,t)=>r=>{const n=t.get(r);let o=void 0===n?r.size:n<g?n+1:0;if(!r.has(o))return e(r,o);if(r.size<f){for(;r.has(o);)o=Math.floor(Math.random()*g);return e(r,o)}if(r.size>p)throw new Error("Congratulations, you created a collection of unique numbers which uses all available integers!");for(;r.has(o);)o=Math.floor(Math.random()*p);return e(r,o)})((v=w,(e,t)=>(v.set(e,t),t)),w),M=((e=>{})(y),new Map),E=(e,t,r)=>({...t,connect:r=>{let{port:n}=r;n.start();const o=e(n,t),s=y(M);return M.set(s,(()=>{o(),n.close(),M.delete(s)})),{result:s}},disconnect:e=>{let{portId:t}=e;const r=M.get(t);if(void 0===r)throw m({portId:t.toString()});return r(),{result:null}},isSupported:async()=>{if(await new Promise((e=>{const t=new ArrayBuffer(0),{port1:r,port2:n}=new MessageChannel;r.onmessage=t=>{let{data:r}=t;return e(null!==r)},n.postMessage(t,[t])}))){const e=r();return{result:e instanceof Promise?await e:e}}return{result:!1}}}),x=function(e,t){const r=E(x,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>!0),n=((e,t)=>async r=>{let{data:{id:n,method:o,params:s}}=r;const a=t[o];try{if(void 0===a)throw l({method:o});const t=void 0===s?a():a(s);if(void 0===t)throw u({method:o});const r=t instanceof Promise?await t:t;if(null===n){if(void 0!==r.result)throw h({method:o})}else{if(void 0===r.result)throw h({method:o});const{result:t,transferables:s=[]}=r;e.postMessage({id:n,result:t},s)}}catch(t){const{message:r,status:o=-32603}=t;e.postMessage({error:{code:o,message:r},id:n})}})(e,r);return e.addEventListener("message",n),()=>e.removeEventListener("message",n)},b=e=>{e.onmessage=null,e.close()},A=new WeakMap,T=new WeakMap,I=(e=>{const t=(r=e,{...r,connect:e=>{let{call:t}=e;return async()=>{const{port1:e,port2:r}=new MessageChannel,n=await t("connect",{port:e},[e]);return A.set(r,n),r}},disconnect:e=>{let{call:t}=e;return async e=>{const r=A.get(e);if(void 0===r)throw new Error("The given port is not connected.");await t("disconnect",{portId:r})}},isSupported:e=>{let{call:t}=e;return()=>t("isSupported")}});var r;return e=>{const r=(e=>{if(T.has(e))return T.get(e);const t=new Map;return T.set(e,t),t})(e);e.addEventListener("message",(e=>{let{data:t}=e;const{id:n}=t;if(null!==n&&r.has(n)){const{reject:e,resolve:o}=r.get(n);r.delete(n),void 0===t.error?o(t.result):e(new Error(t.error.message))}})),(e=>"function"==typeof e.start)(e)&&e.start();const n=function(t){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];return new Promise(((s,a)=>{const i=y(r);r.set(i,{reject:a,resolve:s}),null===n?e.postMessage({id:i,method:t},o):e.postMessage({id:i,method:t,params:n},o)}))},o=function(t,r){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e.postMessage({id:null,method:t,params:r},n)};let s={};for(const[e,r]of Object.entries(t))s={...s,[e]:r({call:n,notify:o})};return{...s}}})({characterize:e=>{let{call:t}=e;return()=>t("characterize")},encode:e=>{let{call:t}=e;return(e,r)=>t("encode",{recordingId:e,timeslice:r})},record:e=>{let{call:t}=e;return async(e,r,n)=>{await t("record",{recordingId:e,sampleRate:r,typedArrays:n},n.map((e=>{let{buffer:t}=e;return t})))}}}),O=async(e,t)=>{const r=I(t),n=await r.characterize(),o=n.toString();if(e.has(o))throw new Error("There is already an encoder stored which handles exactly the same mime types.");return e.set(o,[n,r]),n},L=new Map,P=(e=>t=>{const r=e.get(t);if(void 0===r)throw new Error("There was no instance of an encoder stored with the given id.");return r})(L),S=((e,t)=>r=>{const n=t(r);return e.delete(r),n})(L,P),N=new Map,C=((e,t)=>r=>{const[n,o,s,a]=t(r);return s?new Promise((t=>{o.onmessage=s=>{let{data:i}=s;0===i.length?(e(o),t(n.encode(r,null))):n.record(r,a,i)}})):n.encode(r,null)})(b,S),R=(e=>t=>{for(const[r,n]of Array.from(e.values()))if(r.test(t))return n;throw new Error("There is no encoder registered which could handle the given mimeType.")})(N),$=((e,t,r)=>(n,o,s)=>{if(t.has(n))throw new Error('There is already an encoder registered with an id called "'.concat(n,'".'));const a=r(o),{port1:i,port2:c}=new MessageChannel,d=[a,i,!0,s];return t.set(n,d),i.onmessage=t=>{let{data:r}=t;0===r.length?(e(i),d[2]=!1):a.record(n,s,r.map((e=>"number"==typeof e?new Float32Array(e):e)))},c})(b,L,R),j=(e=>(t,r)=>{const[n]=e(t);return n.encode(t,r)})(P);x(self,{encode:async e=>{let{encoderId:t,timeslice:r}=e;const n=null===r?await C(t):await j(t,r);return{result:n,transferables:n}},instantiate:e=>{let{encoderId:t,mimeType:r,sampleRate:n}=e;const o=$(t,r,n);return{result:o,transferables:[o]}},register:async e=>{let{port:t}=e;return{result:await O(N,t)}}})})()})();`,wr=new Blob([gr],{type:"application/javascript; charset=utf-8"}),on=URL.createObjectURL(wr),ft=mr(on),Se=ft.encode,sn=ft.instantiate,vr=ft.register;URL.revokeObjectURL(on);const _r=e=>(t,n)=>{if(e===null)throw new Error("A native BlobEvent could not be created.");return new e(t,n)},Er=(e,t)=>(n,r,o)=>{const s=[];let a=r,i=0;for(;i<n.byteLength;)if(a===null){const c=t(n,i);if(c===null)break;const{length:u,type:d}=c;a=d,i+=u}else{const c=e(n,i,a,o);if(c===null)break;const{content:u,length:d}=c;a=null,i+=d,u!==null&&s.push(u)}return{contents:s,currentElementType:a,offset:i}},yr=(e,t)=>class{constructor(r=null){this._listeners=new WeakMap,this._nativeEventTarget=r===null?e():r}addEventListener(r,o,s){if(o!==null){let a=this._listeners.get(o);a===void 0&&(a=t(this,o),typeof o=="function"&&this._listeners.set(o,a)),this._nativeEventTarget.addEventListener(r,a,s)}}dispatchEvent(r){return this._nativeEventTarget.dispatchEvent(r)}removeEventListener(r,o,s){const a=o===null?void 0:this._listeners.get(o);this._nativeEventTarget.removeEventListener(r,a===void 0?null:a,s)}},Ar=e=>()=>{if(e===null)throw new Error("A native EventTarget could not be created.");return e.document.createElement("p")},br=(e="")=>{try{return new DOMException(e,"InvalidModificationError")}catch(t){return t.code=13,t.message=e,t.name="InvalidModificationError",t}},Cr=()=>{try{return new DOMException("","InvalidStateError")}catch(e){return e.code=11,e.name="InvalidStateError",e}},Tr=e=>{if(e!==null&&e.BlobEvent!==void 0&&e.MediaStream!==void 0&&(e.MediaRecorder===void 0||e.MediaRecorder.isTypeSupported!==void 0)){if(e.MediaRecorder===void 0)return Promise.resolve(!0);const t=e.document.createElement("canvas"),n=t.getContext("2d");if(n===null||typeof t.captureStream!="function")return Promise.resolve(!1);const r=t.captureStream();return Promise.all([new Promise(o=>{const s="audio/webm";try{const a=new e.MediaRecorder(r,{mimeType:s});a.addEventListener("dataavailable",({data:i})=>o(i.type===s)),a.start(),setTimeout(()=>a.stop(),10)}catch(a){o(a.name==="NotSupportedError")}}),new Promise(o=>{const s=new e.MediaRecorder(r);let a=!1,i=!1;s.addEventListener("dataavailable",()=>a=!0),s.addEventListener("error",c=>{o(!a&&!i&&"error"in c&&c.error!==null&&typeof c.error=="object"&&"name"in c.error&&c.error.name!=="UnknownError")}),s.addEventListener("stop",()=>i=!0),s.start(),n.fillRect(0,0,1,1),r.removeTrack(r.getVideoTracks()[0])})]).then(o=>o.every(s=>s))}return Promise.resolve(!1)},Mr=(e,t,n,r,o,s,a)=>class extends s{constructor(c,u={}){const{mimeType:d}=u;if(a!==null&&(d===void 0||a.isTypeSupported!==void 0&&a.isTypeSupported(d))){const l=e(a,c,u);super(l),this._internalMediaRecorder=l}else if(d!==void 0&&o.some(l=>l.test(d)))super(),a!==null&&a.isTypeSupported!==void 0&&a.isTypeSupported("audio/webm;codecs=pcm")?this._internalMediaRecorder=r(this,a,c,d):this._internalMediaRecorder=n(this,c,d);else throw a!==null&&e(a,c,u),t();this._ondataavailable=null,this._onerror=null,this._onpause=null,this._onresume=null,this._onstart=null,this._onstop=null}get mimeType(){return this._internalMediaRecorder.mimeType}get ondataavailable(){return this._ondataavailable===null?this._ondataavailable:this._ondataavailable[0]}set ondataavailable(c){if(this._ondataavailable!==null&&this.removeEventListener("dataavailable",this._ondataavailable[1]),typeof c=="function"){const u=c.bind(this);this.addEventListener("dataavailable",u),this._ondataavailable=[c,u]}else this._ondataavailable=null}get onerror(){return this._onerror===null?this._onerror:this._onerror[0]}set onerror(c){if(this._onerror!==null&&this.removeEventListener("error",this._onerror[1]),typeof c=="function"){const u=c.bind(this);this.addEventListener("error",u),this._onerror=[c,u]}else this._onerror=null}get onpause(){return this._onpause===null?this._onpause:this._onpause[0]}set onpause(c){if(this._onpause!==null&&this.removeEventListener("pause",this._onpause[1]),typeof c=="function"){const u=c.bind(this);this.addEventListener("pause",u),this._onpause=[c,u]}else this._onpause=null}get onresume(){return this._onresume===null?this._onresume:this._onresume[0]}set onresume(c){if(this._onresume!==null&&this.removeEventListener("resume",this._onresume[1]),typeof c=="function"){const u=c.bind(this);this.addEventListener("resume",u),this._onresume=[c,u]}else this._onresume=null}get onstart(){return this._onstart===null?this._onstart:this._onstart[0]}set onstart(c){if(this._onstart!==null&&this.removeEventListener("start",this._onstart[1]),typeof c=="function"){const u=c.bind(this);this.addEventListener("start",u),this._onstart=[c,u]}else this._onstart=null}get onstop(){return this._onstop===null?this._onstop:this._onstop[0]}set onstop(c){if(this._onstop!==null&&this.removeEventListener("stop",this._onstop[1]),typeof c=="function"){const u=c.bind(this);this.addEventListener("stop",u),this._onstop=[c,u]}else this._onstop=null}get state(){return this._internalMediaRecorder.state}pause(){return this._internalMediaRecorder.pause()}resume(){return this._internalMediaRecorder.resume()}start(c){return this._internalMediaRecorder.start(c)}stop(){return this._internalMediaRecorder.stop()}static isTypeSupported(c){return a!==null&&a.isTypeSupported!==void 0&&a.isTypeSupported(c)||o.some(u=>u.test(c))}},Nr=e=>e!==null&&e.BlobEvent!==void 0?e.BlobEvent:null,Or=(e,t,n)=>{const r=new Map,o=new WeakMap,s=new WeakMap,a=new e(t,n),i=new WeakMap;let c=!1;return a.addEventListener=(u=>(d,l,w)=>{let g=l;if(typeof l=="function")if(d==="dataavailable"){const h=[];g=f=>{c&&a.state==="inactive"?h.push(f):l.call(a,f)},r.set(l,h),o.set(l,g)}else d==="error"?(g=h=>{h instanceof ErrorEvent?l.call(a,h):l.call(a,new ErrorEvent("error",{error:h.error}))},s.set(l,g)):d==="stop"&&(g=h=>{for(const[f,m]of r.entries())if(m.length>0){const[p]=m;m.length>1&&Object.defineProperty(p,"data",{value:new Blob(m.map(({data:b})=>b),{type:p.data.type})}),m.length=0,f.call(a,p)}c=!1,l.call(a,h)},i.set(l,g));return u.call(a,d,g,w)})(a.addEventListener),a.removeEventListener=(u=>(d,l,w)=>{let g=l;if(typeof l=="function"){if(d==="dataavailable"){r.delete(l);const h=o.get(l);h!==void 0&&(g=h)}else if(d==="error"){const h=s.get(l);h!==void 0&&(g=h)}else if(d==="stop"){const h=i.get(l);h!==void 0&&(g=h)}}return u.call(a,d,g,w)})(a.removeEventListener),a.start=(u=>d=>(c=d!==void 0,d===void 0?u.call(a):u.call(a,d)))(a.start),a},Rr=e=>e===null||e.MediaRecorder===void 0?null:e.MediaRecorder,an=()=>{try{return new DOMException("","NotSupportedError")}catch(e){return e.code=9,e.name="NotSupportedError",e}},Ir=e=>(t,n,r,o=2)=>{const s=e(t,n);if(s===null)return s;const{length:a,value:i}=s;if(r==="master")return{content:null,length:a};if(n+a+i>t.byteLength)return null;if(r==="binary"){const c=(i/Float32Array.BYTES_PER_ELEMENT-1)/o,u=Array.from({length:o},()=>new Float32Array(c));for(let d=0;d<c;d+=1){const l=d*o+1;for(let w=0;w<o;w+=1)u[w][d]=t.getFloat32(n+a+(l+w)*Float32Array.BYTES_PER_ELEMENT,!0)}return{content:u,length:a+i}}return{content:null,length:a+i}},Sr=e=>(t,n)=>{const r=e(t,n);if(r===null)return r;const{length:o,value:s}=r;return s===35?{length:o,type:"binary"}:s===46||s===97||s===88713574||s===106212971||s===139690087||s===172351395||s===256095861?{length:o,type:"master"}:{length:o,type:"unknown"}},kr=e=>(t,n)=>{const r=e(t,n);if(r===null)return r;const o=n+Math.floor((r-1)/8);if(o+r>t.byteLength)return null;let a=t.getUint8(o)&(1<<8-r%8)-1;for(let i=1;i<r;i+=1)a=(a<<8)+t.getUint8(o+i);return{length:r,value:a}},Pt=Symbol.observable||"@@observable";function Lr(e){return Symbol.observable||(typeof e=="function"&&e.prototype&&e.prototype[Symbol.observable]?(e.prototype[Pt]=e.prototype[Symbol.observable],delete e.prototype[Symbol.observable]):(e[Pt]=e[Symbol.observable],delete e[Symbol.observable])),e}const Ne=()=>{},Bt=e=>{throw e};function Pr(e){return e?e.next&&e.error&&e.complete?e:{complete:(e.complete??Ne).bind(e),error:(e.error??Bt).bind(e),next:(e.next??Ne).bind(e)}:{complete:Ne,error:Bt,next:Ne}}const Br=e=>(t,n,r)=>e(o=>{const s=a=>o.next(a);return t.addEventListener(n,s,r),()=>t.removeEventListener(n,s,r)}),Ur=(e,t)=>{const n=()=>{},r=o=>typeof o[0]=="function";return o=>{const s=(...a)=>{const i=o(r(a)?t({next:a[0]}):t(...a));return i!==void 0?i:n};return s[Symbol.observable]=()=>({subscribe:(...a)=>({unsubscribe:s(...a)})}),e(s)}},xr=Ur(Lr,Pr),cn=Br(xr);/*!
 * dashify <https://github.com/jonschlinkert/dashify>
 *
 * Copyright (c) 2015-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var Dr=(e,t)=>{if(typeof e!="string")throw new TypeError("expected a string");return e.trim().replace(/([a-z])([A-Z])/g,"$1-$2").replace(/\W/g,n=>/[À-ž]/.test(n)?n:"-").replace(/^-+|-+$/g,"").replace(/-{2,}/g,n=>t&&t.condense?"-":n).toLowerCase()};const Wr=tn(Dr);var un={exports:{}};(function(e){var t=function(n){var r,o,s=/\w+/.exec(n);if(s)o=s[0];else return"an";var a=o.toLowerCase(),i=["honest","hour","hono"];for(r in i)if(a.indexOf(i[r])==0)return"an";if(a.length==1)return"aedhilmnorsx".indexOf(a)>=0?"an":"a";if(o.match(/(?!FJO|[HLMNS]Y.|RY[EO]|SQU|(F[LR]?|[HL]|MN?|N|RH?|S[CHKLMNPTVW]?|X(YL)?)[AEIOU])[FHLMNRSX][A-Z]/))return"an";var c=[/^e[uw]/,/^onc?e\b/,/^uni([^nmd]|mo)/,/^u[bcfhjkqrst][aeiou]/];for(r=0;r<c.length;r++)if(a.match(c[r]))return"a";return o.match(/^U[NK][AIEO]/)?"a":o==o.toUpperCase()?"aedhilmnorsx".indexOf(a[0])>=0?"an":"a":"aeiou".indexOf(a[0])>=0||a.match(/^y(b[lor]|cl[ea]|fere|gg|p[ios]|rou|tt)/)?"an":"a"};e.exports=t})(un);var Vr=un.exports;const Fr=tn(Vr),Ut=(e,t)=>t===void 0?e:t.reduce((n,r)=>{if(r==="capitalize"){const o=n.charAt(0).toUpperCase(),s=n.slice(1);return`${o}${s}`}return r==="dashify"?Wr(n):r==="prependIndefiniteArticle"?`${Fr(n)} ${n}`:n},e),jr=e=>{const t=e.name+e.modifiers.map(n=>`\\.${n}\\(\\)`).join("");return new RegExp(`\\$\\{${t}}`,"g")},xt=(e,t)=>{const n=/\${([^.}]+)((\.[^(]+\(\))*)}/g,r=[];let o=n.exec(e);for(;o!==null;){const a={modifiers:[],name:o[1]};if(o[3]!==void 0){const i=/\.[^(]+\(\)/g;let c=i.exec(o[2]);for(;c!==null;)a.modifiers.push(c[0].slice(1,-2)),c=i.exec(o[2])}r.push(a),o=n.exec(e)}const s=r.reduce((a,i)=>a.map(c=>typeof c=="string"?c.split(jr(i)).reduce((u,d,l)=>l===0?[d]:i.name in t?[...u,Ut(t[i.name],i.modifiers),d]:[...u,w=>Ut(w[i.name],i.modifiers),d],[]):[c]).reduce((c,u)=>[...c,...u],[]),[e]);return a=>s.reduce((i,c)=>typeof c=="string"?[...i,c]:[...i,c(a)],[]).join("")},We=(e,t={})=>{const n=e.code===void 0?void 0:xt(e.code,t),r=e.message===void 0?void 0:xt(e.message,t);function o(s={},a){const i=a===void 0&&(s instanceof Error||s.code!==void 0&&s.code.slice(-9)==="Exception"),{cause:c,missingParameters:u}=i?{cause:s,missingParameters:{}}:{cause:a,missingParameters:s},d=r===void 0?new Error:new Error(r(u));return c!==null&&(d.cause=c),n!==void 0&&(d.code=n(u)),e.status!==void 0&&(d.status=e.status),d}return o},Ve={INTERNAL_ERROR:-32603,INVALID_PARAMS:-32602,METHOD_NOT_FOUND:-32601};We({message:'The requested method called "${method}" is not supported.',status:Ve.METHOD_NOT_FOUND});We({message:'The handler of the method called "${method}" returned no required result.',status:Ve.INTERNAL_ERROR});We({message:'The handler of the method called "${method}" returned an unexpected result.',status:Ve.INTERNAL_ERROR});We({message:'The specified parameter called "portId" with the given value "${portId}" does not identify a port connected to this worker.',status:Ve.INVALID_PARAMS});const $r=(e,t,n)=>async r=>{const o=new e([n],{type:"application/javascript; charset=utf-8"}),s=t.createObjectURL(o);try{await r(s)}finally{t.revokeObjectURL(s)}},Gr=e=>({data:t})=>{const{id:n}=t;if(n!==null){const r=e.get(n);if(r!==void 0){const{reject:o,resolve:s}=r;e.delete(n),t.error===void 0?s(t.result):o(new Error(t.error.message))}}},qr=e=>(t,n)=>(r,o=[])=>new Promise((s,a)=>{const i=e(t);t.set(i,{reject:a,resolve:s}),n.postMessage({id:i,...r},o)}),zr=(e,t,n,r)=>(o,s,a={})=>{const i=new o(s,"recorder-audio-worklet-processor",{...a,channelCountMode:"explicit",numberOfInputs:1,numberOfOutputs:0}),c=new Map,u=t(c,i.port),d=n(i.port,"message")(e(c));i.port.start();let l="inactive";return Object.defineProperties(i,{pause:{get(){return async()=>(r(["recording"],l),l="paused",u({method:"pause"}))}},port:{get(){throw new Error("The port of a RecorderAudioWorkletNode can't be accessed.")}},record:{get(){return async w=>(r(["inactive"],l),l="recording",u({method:"record",params:{encoderPort:w}},[w]))}},resume:{get(){return async()=>(r(["paused"],l),l="recording",u({method:"resume"}))}},stop:{get(){return async()=>{r(["paused","recording"],l),l="stopped";try{await u({method:"stop"})}finally{d()}}}}}),i},Hr=(e,t)=>{if(!e.includes(t))throw new Error(`Expected the state to be ${e.map(n=>`"${n}"`).join(" or ")} but it was "${t}".`)},Xr='(()=>{"use strict";class e extends AudioWorkletProcessor{constructor(){super(),this._encoderPort=null,this._numberOfChannels=0,this._state="inactive",this.port.onmessage=e=>{let{data:t}=e;"pause"===t.method?"active"===this._state||"recording"===this._state?(this._state="paused",this._sendAcknowledgement(t.id)):this._sendUnexpectedStateError(t.id):"record"===t.method?"inactive"===this._state?(this._encoderPort=t.params.encoderPort,this._state="active",this._sendAcknowledgement(t.id)):this._sendUnexpectedStateError(t.id):"resume"===t.method?"paused"===this._state?(this._state="active",this._sendAcknowledgement(t.id)):this._sendUnexpectedStateError(t.id):"stop"===t.method?"active"!==this._state&&"paused"!==this._state&&"recording"!==this._state||null===this._encoderPort?this._sendUnexpectedStateError(t.id):(this._stop(this._encoderPort),this._sendAcknowledgement(t.id)):"number"==typeof t.id&&this.port.postMessage({error:{code:-32601,message:"The requested method is not supported."},id:t.id})}}process(e){let[t]=e;if("inactive"===this._state||"paused"===this._state)return!0;if("active"===this._state){if(void 0===t)throw new Error("No channelData was received for the first input.");if(0===t.length)return!0;this._state="recording"}if("recording"===this._state&&null!==this._encoderPort){if(void 0===t)throw new Error("No channelData was received for the first input.");return 0===t.length?this._encoderPort.postMessage(Array.from({length:this._numberOfChannels},(()=>128))):(this._encoderPort.postMessage(t,t.map((e=>{let{buffer:t}=e;return t}))),this._numberOfChannels=t.length),!0}return!1}_sendAcknowledgement(e){this.port.postMessage({id:e,result:null})}_sendUnexpectedStateError(e){this.port.postMessage({error:{code:-32603,message:"The internal state does not allow to process the given message."},id:e})}_stop(e){e.postMessage([]),e.close(),this._encoderPort=null,this._state="stopped"}}e.parameterDescriptors=[],registerProcessor("recorder-audio-worklet-processor",e)})();',Yr=$r(Blob,URL,Xr),Zr=zr(Gr,qr(dt),cn,Hr),Dt=(e,t,n)=>({endTime:t,insertTime:n,type:"exponentialRampToValue",value:e}),Wt=(e,t,n)=>({endTime:t,insertTime:n,type:"linearRampToValue",value:e}),tt=(e,t)=>({startTime:t,type:"setValue",value:e}),ln=(e,t,n)=>({duration:n,startTime:t,type:"setValueCurve",values:e}),dn=(e,t,{startTime:n,target:r,timeConstant:o})=>r+(t-r)*Math.exp((n-e)/o),me=e=>e.type==="exponentialRampToValue",ke=e=>e.type==="linearRampToValue",re=e=>me(e)||ke(e),ht=e=>e.type==="setValue",J=e=>e.type==="setValueCurve",Le=(e,t,n,r)=>{const o=e[t];return o===void 0?r:re(o)||ht(o)?o.value:J(o)?o.values[o.values.length-1]:dn(n,Le(e,t-1,o.startTime,r),o)},Vt=(e,t,n,r,o)=>n===void 0?[r.insertTime,o]:re(n)?[n.endTime,n.value]:ht(n)?[n.startTime,n.value]:J(n)?[n.startTime+n.duration,n.values[n.values.length-1]]:[n.startTime,Le(e,t-1,n.startTime,o)],nt=e=>e.type==="cancelAndHold",rt=e=>e.type==="cancelScheduledValues",ne=e=>nt(e)||rt(e)?e.cancelTime:me(e)||ke(e)?e.endTime:e.startTime,Ft=(e,t,n,{endTime:r,value:o})=>n===o?o:0<n&&0<o||n<0&&o<0?n*(o/n)**((e-t)/(r-t)):0,jt=(e,t,n,{endTime:r,value:o})=>n+(e-t)/(r-t)*(o-n),Kr=(e,t)=>{const n=Math.floor(t),r=Math.ceil(t);return n===r?e[n]:(1-(t-n))*e[n]+(1-(r-t))*e[r]},Qr=(e,{duration:t,startTime:n,values:r})=>{const o=(e-n)/t*(r.length-1);return Kr(r,o)},Oe=e=>e.type==="setTarget";class Jr{constructor(t){this._automationEvents=[],this._currenTime=0,this._defaultValue=t}[Symbol.iterator](){return this._automationEvents[Symbol.iterator]()}add(t){const n=ne(t);if(nt(t)||rt(t)){const r=this._automationEvents.findIndex(s=>rt(t)&&J(s)?s.startTime+s.duration>=n:ne(s)>=n),o=this._automationEvents[r];if(r!==-1&&(this._automationEvents=this._automationEvents.slice(0,r)),nt(t)){const s=this._automationEvents[this._automationEvents.length-1];if(o!==void 0&&re(o)){if(s!==void 0&&Oe(s))throw new Error("The internal list is malformed.");const a=s===void 0?o.insertTime:J(s)?s.startTime+s.duration:ne(s),i=s===void 0?this._defaultValue:J(s)?s.values[s.values.length-1]:s.value,c=me(o)?Ft(n,a,i,o):jt(n,a,i,o),u=me(o)?Dt(c,n,this._currenTime):Wt(c,n,this._currenTime);this._automationEvents.push(u)}if(s!==void 0&&Oe(s)&&this._automationEvents.push(tt(this.getValue(n),n)),s!==void 0&&J(s)&&s.startTime+s.duration>n){const a=n-s.startTime,i=(s.values.length-1)/s.duration,c=Math.max(2,1+Math.ceil(a*i)),u=a/(c-1)*i,d=s.values.slice(0,c);if(u<1)for(let l=1;l<c;l+=1){const w=u*l%1;d[l]=s.values[l-1]*(1-w)+s.values[l]*w}this._automationEvents[this._automationEvents.length-1]=ln(d,s.startTime,a)}}}else{const r=this._automationEvents.findIndex(a=>ne(a)>n),o=r===-1?this._automationEvents[this._automationEvents.length-1]:this._automationEvents[r-1];if(o!==void 0&&J(o)&&ne(o)+o.duration>n)return!1;const s=me(t)?Dt(t.value,t.endTime,this._currenTime):ke(t)?Wt(t.value,n,this._currenTime):t;if(r===-1)this._automationEvents.push(s);else{if(J(t)&&n+t.duration>ne(this._automationEvents[r]))return!1;this._automationEvents.splice(r,0,s)}}return!0}flush(t){const n=this._automationEvents.findIndex(r=>ne(r)>t);if(n>1){const r=this._automationEvents.slice(n-1),o=r[0];Oe(o)&&r.unshift(tt(Le(this._automationEvents,n-2,o.startTime,this._defaultValue),o.startTime)),this._automationEvents=r}}getValue(t){if(this._automationEvents.length===0)return this._defaultValue;const n=this._automationEvents.findIndex(a=>ne(a)>t),r=this._automationEvents[n],o=(n===-1?this._automationEvents.length:n)-1,s=this._automationEvents[o];if(s!==void 0&&Oe(s)&&(r===void 0||!re(r)||r.insertTime>t))return dn(t,Le(this._automationEvents,o-1,s.startTime,this._defaultValue),s);if(s!==void 0&&ht(s)&&(r===void 0||!re(r)))return s.value;if(s!==void 0&&J(s)&&(r===void 0||!re(r)||s.startTime+s.duration>t))return t<s.startTime+s.duration?Qr(t,s):s.values[s.values.length-1];if(s!==void 0&&re(s)&&(r===void 0||!re(r)))return s.value;if(r!==void 0&&me(r)){const[a,i]=Vt(this._automationEvents,o,s,r,this._defaultValue);return Ft(t,a,i,r)}if(r!==void 0&&ke(r)){const[a,i]=Vt(this._automationEvents,o,s,r,this._defaultValue);return jt(t,a,i,r)}return this._defaultValue}}const eo=e=>({cancelTime:e,type:"cancelAndHold"}),to=e=>({cancelTime:e,type:"cancelScheduledValues"}),no=(e,t)=>({endTime:t,type:"exponentialRampToValue",value:e}),ro=(e,t)=>({endTime:t,type:"linearRampToValue",value:e}),oo=(e,t,n)=>({startTime:t,target:e,timeConstant:n,type:"setTarget"}),so=()=>new DOMException("","AbortError"),ao=e=>(t,n,[r,o,s],a)=>{e(t[o],[n,r,s],i=>i[0]===n&&i[1]===r,a)},io=e=>(t,n,r)=>{const o=[];for(let s=0;s<r.numberOfInputs;s+=1)o.push(new Set);e.set(t,{activeInputs:o,outputs:new Set,passiveInputs:new WeakMap,renderer:n})},co=e=>(t,n)=>{e.set(t,{activeInputs:new Set,passiveInputs:new WeakMap,renderer:n})},ge=new WeakSet,fn=new WeakMap,hn=new WeakMap,pn=new WeakMap,mn=new WeakMap,gn=new WeakMap,wn=new WeakMap,ot=new WeakMap,st=new WeakMap,at=new WeakMap,vn={construct(){return vn}},uo=e=>{try{const t=new Proxy(e,vn);new t}catch{return!1}return!0},$t=/^import(?:(?:[\s]+[\w]+|(?:[\s]+[\w]+[\s]*,)?[\s]*\{[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?(?:[\s]*,[\s]*[\w]+(?:[\s]+as[\s]+[\w]+)?)*[\s]*}|(?:[\s]+[\w]+[\s]*,)?[\s]*\*[\s]+as[\s]+[\w]+)[\s]+from)?(?:[\s]*)("([^"\\]|\\.)+"|'([^'\\]|\\.)+')(?:[\s]*);?/,Gt=(e,t)=>{const n=[];let r=e.replace(/^[\s]+/,""),o=r.match($t);for(;o!==null;){const s=o[1].slice(1,-1),a=o[0].replace(/([\s]+)?;?$/,"").replace(s,new URL(s,t).toString());n.push(a),r=r.slice(o[0].length).replace(/^[\s]+/,""),o=r.match($t)}return[n.join(";"),r]},qt=e=>{if(e!==void 0&&!Array.isArray(e))throw new TypeError("The parameterDescriptors property of given value for processorCtor is not an array.")},zt=e=>{if(!uo(e))throw new TypeError("The given value for processorCtor should be a constructor.");if(e.prototype===null||typeof e.prototype!="object")throw new TypeError("The given value for processorCtor should have a prototype.")},lo=(e,t,n,r,o,s,a,i,c,u,d,l,w)=>{let g=0;return(h,f,m={credentials:"omit"})=>{const p=d.get(h);if(p!==void 0&&p.has(f))return Promise.resolve();const b=u.get(h);if(b!==void 0){const y=b.get(f);if(y!==void 0)return y}const _=s(h),T=_.audioWorklet===void 0?o(f).then(([y,A])=>{const[E,v]=Gt(y,A),N=`${E};((a,b)=>{(a[b]=a[b]||[]).push((AudioWorkletProcessor,global,registerProcessor,sampleRate,self,window)=>{${v}
})})(window,'_AWGS')`;return n(N)}).then(()=>{const y=w._AWGS.pop();if(y===void 0)throw new SyntaxError;r(_.currentTime,_.sampleRate,()=>y(class{},void 0,(A,E)=>{if(A.trim()==="")throw t();const v=st.get(_);if(v!==void 0){if(v.has(A))throw t();zt(E),qt(E.parameterDescriptors),v.set(A,E)}else zt(E),qt(E.parameterDescriptors),st.set(_,new Map([[A,E]]))},_.sampleRate,void 0,void 0))}):Promise.all([o(f),Promise.resolve(e(l,l))]).then(([[y,A],E])=>{const v=g+1;g=v;const[N,I]=Gt(y,A),D=`${N};((AudioWorkletProcessor,registerProcessor)=>{${I}
})(${E?"AudioWorkletProcessor":"class extends AudioWorkletProcessor {__b=new WeakSet();constructor(){super();(p=>p.postMessage=(q=>(m,t)=>q.call(p,m,t?t.filter(u=>!this.__b.has(u)):t))(p.postMessage))(this.port)}}"},(n,p)=>registerProcessor(n,class extends p{${E?"":"__c = (a) => a.forEach(e=>this.__b.add(e.buffer));"}process(i,o,p){${E?"":"i.forEach(this.__c);o.forEach(this.__c);this.__c(Object.values(p));"}return super.process(i.map(j=>j.some(k=>k.length===0)?[]:j),o,p)}}));registerProcessor('__sac${v}',class extends AudioWorkletProcessor{process(){return !1}})`,B=new Blob([D],{type:"application/javascript; charset=utf-8"}),S=URL.createObjectURL(B);return _.audioWorklet.addModule(S,m).then(()=>{if(i(_))return _;const L=a(_);return L.audioWorklet.addModule(S,m).then(()=>L)}).then(L=>{if(c===null)throw new SyntaxError;try{new c(L,`__sac${v}`)}catch{throw new SyntaxError}}).finally(()=>URL.revokeObjectURL(S))});return b===void 0?u.set(h,new Map([[f,T]])):b.set(f,T),T.then(()=>{const y=d.get(h);y===void 0?d.set(h,new Set([f])):y.add(f)}).finally(()=>{const y=u.get(h);y!==void 0&&y.delete(f)}),T}},K=(e,t)=>{const n=e.get(t);if(n===void 0)throw new Error("A value with the given key could not be found.");return n},Fe=(e,t)=>{const n=Array.from(e).filter(t);if(n.length>1)throw Error("More than one element was found.");if(n.length===0)throw Error("No element was found.");const[r]=n;return e.delete(r),r},_n=(e,t,n,r)=>{const o=K(e,t),s=Fe(o,a=>a[0]===n&&a[1]===r);return o.size===0&&e.delete(t),s},Ae=e=>K(wn,e),Pe=e=>{if(ge.has(e))throw new Error("The AudioNode is already stored.");ge.add(e),Ae(e).forEach(t=>t(!0))},En=e=>"port"in e,pt=e=>{if(!ge.has(e))throw new Error("The AudioNode is not stored.");ge.delete(e),Ae(e).forEach(t=>t(!1))},it=(e,t)=>{!En(e)&&t.every(n=>n.size===0)&&pt(e)},fo=(e,t,n,r,o,s,a,i,c,u,d,l,w)=>{const g=new WeakMap;return(h,f,m,p,b)=>{const{activeInputs:_,passiveInputs:T}=s(f),{outputs:y}=s(h),A=i(h),E=v=>{const N=c(f),I=c(h);if(v){const M=_n(T,h,m,p);e(_,h,M,!1),!b&&!l(h)&&n(I,N,m,p),w(f)&&Pe(f)}else{const M=r(_,h,m,p);t(T,p,M,!1),!b&&!l(h)&&o(I,N,m,p);const U=a(f);if(U===0)d(f)&&it(f,_);else{const k=g.get(f);k!==void 0&&clearTimeout(k),g.set(f,setTimeout(()=>{d(f)&&it(f,_)},U*1e3))}}};return u(y,[f,m,p],v=>v[0]===f&&v[1]===m&&v[2]===p,!0)?(A.add(E),d(h)?e(_,h,[m,p,E],!0):t(T,p,[h,m,E],!0),!0):!1}},ho=e=>(t,n,[r,o,s],a)=>{const i=t.get(r);i===void 0?t.set(r,new Set([[o,n,s]])):e(i,[o,n,s],c=>c[0]===o&&c[1]===n,a)},po=e=>(t,n)=>{const r=e(t,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});n.connect(r).connect(t.destination);const o=()=>{n.removeEventListener("ended",o),n.disconnect(r),r.disconnect()};n.addEventListener("ended",o)},mo=e=>(t,n)=>{e(t).add(n)},yn=(e,t)=>e.context===t,Ht=e=>{try{e.copyToChannel(new Float32Array(1),0,-1)}catch{return!1}return!0},ue=()=>new DOMException("","IndexSizeError"),go=e=>{e.getChannelData=(t=>n=>{try{return t.call(e,n)}catch(r){throw r.code===12?ue():r}})(e.getChannelData)},wo={numberOfChannels:1},vo=(e,t,n,r,o,s,a,i)=>{let c=null;return class An{constructor(d){if(o===null)throw new Error("Missing the native OfflineAudioContext constructor.");const{length:l,numberOfChannels:w,sampleRate:g}={...wo,...d};c===null&&(c=new o(1,1,44100));const h=r!==null&&t(s,s)?new r({length:l,numberOfChannels:w,sampleRate:g}):c.createBuffer(w,l,g);if(h.numberOfChannels===0)throw n();return typeof h.copyFromChannel!="function"?(a(h),go(h)):t(Ht,()=>Ht(h))||i(h),e.add(h),h}static[Symbol.hasInstance](d){return d!==null&&typeof d=="object"&&Object.getPrototypeOf(d)===An.prototype||e.has(d)}}},je=-34028234663852886e22,mt=-je,ae=e=>ge.has(e),_o={buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1},Eo=(e,t,n,r,o,s,a,i)=>class extends e{constructor(u,d){const l=s(u),w={..._o,...d},g=o(l,w),h=a(l),f=h?t():null;super(u,!1,g,f),this._audioBufferSourceNodeRenderer=f,this._isBufferNullified=!1,this._isBufferSet=w.buffer!==null,this._nativeAudioBufferSourceNode=g,this._onended=null,this._playbackRate=n(this,h,g.playbackRate,mt,je)}get buffer(){return this._isBufferNullified?null:this._nativeAudioBufferSourceNode.buffer}set buffer(u){if(this._nativeAudioBufferSourceNode.buffer=u,u!==null){if(this._isBufferSet)throw r();this._isBufferSet=!0}}get loop(){return this._nativeAudioBufferSourceNode.loop}set loop(u){this._nativeAudioBufferSourceNode.loop=u}get loopEnd(){return this._nativeAudioBufferSourceNode.loopEnd}set loopEnd(u){this._nativeAudioBufferSourceNode.loopEnd=u}get loopStart(){return this._nativeAudioBufferSourceNode.loopStart}set loopStart(u){this._nativeAudioBufferSourceNode.loopStart=u}get onended(){return this._onended}set onended(u){const d=typeof u=="function"?i(this,u):null;this._nativeAudioBufferSourceNode.onended=d;const l=this._nativeAudioBufferSourceNode.onended;this._onended=l!==null&&l===d?u:l}get playbackRate(){return this._playbackRate}start(u=0,d=0,l){if(this._nativeAudioBufferSourceNode.start(u,d,l),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.start=l===void 0?[u,d]:[u,d,l]),this.context.state!=="closed"){Pe(this);const w=()=>{this._nativeAudioBufferSourceNode.removeEventListener("ended",w),ae(this)&&pt(this)};this._nativeAudioBufferSourceNode.addEventListener("ended",w)}}stop(u=0){this._nativeAudioBufferSourceNode.stop(u),this._audioBufferSourceNodeRenderer!==null&&(this._audioBufferSourceNodeRenderer.stop=u)}},yo=(e,t,n,r,o)=>()=>{const s=new WeakMap;let a=null,i=null;const c=async(u,d)=>{let l=n(u);const w=yn(l,d);if(!w){const g={buffer:l.buffer,channelCount:l.channelCount,channelCountMode:l.channelCountMode,channelInterpretation:l.channelInterpretation,loop:l.loop,loopEnd:l.loopEnd,loopStart:l.loopStart,playbackRate:l.playbackRate.value};l=t(d,g),a!==null&&l.start(...a),i!==null&&l.stop(i)}return s.set(d,l),w?await e(d,u.playbackRate,l.playbackRate):await r(d,u.playbackRate,l.playbackRate),await o(u,d,l),l};return{set start(u){a=u},set stop(u){i=u},render(u,d){const l=s.get(d);return l!==void 0?Promise.resolve(l):c(u,d)}}},Ao=e=>"playbackRate"in e,bo=e=>"frequency"in e&&"gain"in e,Co=e=>"offset"in e,To=e=>!("frequency"in e)&&"gain"in e,Mo=e=>"detune"in e&&"frequency"in e,No=e=>"pan"in e,z=e=>K(fn,e),be=e=>K(pn,e),ct=(e,t)=>{const{activeInputs:n}=z(e);n.forEach(o=>o.forEach(([s])=>{t.includes(e)||ct(s,[...t,e])}));const r=Ao(e)?[e.playbackRate]:En(e)?Array.from(e.parameters.values()):bo(e)?[e.Q,e.detune,e.frequency,e.gain]:Co(e)?[e.offset]:To(e)?[e.gain]:Mo(e)?[e.detune,e.frequency]:No(e)?[e.pan]:[];for(const o of r){const s=be(o);s!==void 0&&s.activeInputs.forEach(([a])=>ct(a,t))}ae(e)&&pt(e)},Oo=e=>{ct(e.destination,[])},Ro=e=>e===void 0||typeof e=="number"||typeof e=="string"&&(e==="balanced"||e==="interactive"||e==="playback"),Io=(e,t,n,r,o,s,a,i)=>class extends e{constructor(u,d){const l=s(u),w=a(l),g=o(l,d,w),h=w?t(i):null;super(u,!1,g,h),this._isNodeOfNativeOfflineAudioContext=w,this._nativeAudioDestinationNode=g}get channelCount(){return this._nativeAudioDestinationNode.channelCount}set channelCount(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();if(u>this._nativeAudioDestinationNode.maxChannelCount)throw n();this._nativeAudioDestinationNode.channelCount=u}get channelCountMode(){return this._nativeAudioDestinationNode.channelCountMode}set channelCountMode(u){if(this._isNodeOfNativeOfflineAudioContext)throw r();this._nativeAudioDestinationNode.channelCountMode=u}get maxChannelCount(){return this._nativeAudioDestinationNode.maxChannelCount}},So=e=>{const t=new WeakMap,n=async(r,o)=>{const s=o.destination;return t.set(o,s),await e(r,o,s),s};return{render(r,o){const s=t.get(o);return s!==void 0?Promise.resolve(s):n(r,o)}}},ko=(e,t,n,r,o,s,a,i)=>(c,u)=>{const d=u.listener,l=()=>{const y=new Float32Array(1),A=t(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:9}),E=a(u);let v=!1,N=[0,0,-1,0,1,0],I=[0,0,0];const M=()=>{if(v)return;v=!0;const B=r(u,256,9,0);B.onaudioprocess=({inputBuffer:S})=>{const L=[s(S,y,0),s(S,y,1),s(S,y,2),s(S,y,3),s(S,y,4),s(S,y,5)];L.some((O,P)=>O!==N[P])&&(d.setOrientation(...L),N=L);const x=[s(S,y,6),s(S,y,7),s(S,y,8)];x.some((O,P)=>O!==I[P])&&(d.setPosition(...x),I=x)},A.connect(B)},U=B=>S=>{S!==N[B]&&(N[B]=S,d.setOrientation(...N))},k=B=>S=>{S!==I[B]&&(I[B]=S,d.setPosition(...I))},D=(B,S,L)=>{const x=n(u,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:S});x.connect(A,0,B),x.start(),Object.defineProperty(x.offset,"defaultValue",{get(){return S}});const O=e({context:c},E,x.offset,mt,je);return i(O,"value",P=>()=>P.call(O),P=>V=>{try{P.call(O,V)}catch(G){if(G.code!==9)throw G}M(),E&&L(V)}),O.cancelAndHoldAtTime=(P=>E?()=>{throw o()}:(...V)=>{const G=P.apply(O,V);return M(),G})(O.cancelAndHoldAtTime),O.cancelScheduledValues=(P=>E?()=>{throw o()}:(...V)=>{const G=P.apply(O,V);return M(),G})(O.cancelScheduledValues),O.exponentialRampToValueAtTime=(P=>E?()=>{throw o()}:(...V)=>{const G=P.apply(O,V);return M(),G})(O.exponentialRampToValueAtTime),O.linearRampToValueAtTime=(P=>E?()=>{throw o()}:(...V)=>{const G=P.apply(O,V);return M(),G})(O.linearRampToValueAtTime),O.setTargetAtTime=(P=>E?()=>{throw o()}:(...V)=>{const G=P.apply(O,V);return M(),G})(O.setTargetAtTime),O.setValueAtTime=(P=>E?()=>{throw o()}:(...V)=>{const G=P.apply(O,V);return M(),G})(O.setValueAtTime),O.setValueCurveAtTime=(P=>E?()=>{throw o()}:(...V)=>{const G=P.apply(O,V);return M(),G})(O.setValueCurveAtTime),O};return{forwardX:D(0,0,U(0)),forwardY:D(1,0,U(1)),forwardZ:D(2,-1,U(2)),positionX:D(6,0,k(0)),positionY:D(7,0,k(1)),positionZ:D(8,0,k(2)),upX:D(3,0,U(3)),upY:D(4,1,U(4)),upZ:D(5,0,U(5))}},{forwardX:w,forwardY:g,forwardZ:h,positionX:f,positionY:m,positionZ:p,upX:b,upY:_,upZ:T}=d.forwardX===void 0?l():d;return{get forwardX(){return w},get forwardY(){return g},get forwardZ(){return h},get positionX(){return f},get positionY(){return m},get positionZ(){return p},get upX(){return b},get upY(){return _},get upZ(){return T}}},Be=e=>"context"in e,Ce=e=>Be(e[0]),le=(e,t,n,r)=>{for(const o of e)if(n(o)){if(r)return!1;throw Error("The set contains at least one similar element.")}return e.add(t),!0},Xt=(e,t,[n,r],o)=>{le(e,[t,n,r],s=>s[0]===t&&s[1]===n,o)},Yt=(e,[t,n,r],o)=>{const s=e.get(t);s===void 0?e.set(t,new Set([[n,r]])):le(s,[n,r],a=>a[0]===n,o)},bn=e=>"inputs"in e,ut=(e,t,n,r)=>{if(bn(t)){const o=t.inputs[r];return e.connect(o,n,0),[o,n,0]}return e.connect(t,n,r),[t,n,r]},Cn=(e,t,n)=>{for(const r of e)if(r[0]===t&&r[1]===n)return e.delete(r),r;return null},Lo=(e,t,n)=>Fe(e,r=>r[0]===t&&r[1]===n),Tn=(e,t)=>{if(!Ae(e).delete(t))throw new Error("Missing the expected event listener.")},Mn=(e,t,n)=>{const r=K(e,t),o=Fe(r,s=>s[0]===n);return r.size===0&&e.delete(t),o},lt=(e,t,n,r)=>{bn(t)?e.disconnect(t.inputs[r],n,0):e.disconnect(t,n,r)},Y=e=>K(hn,e),Ee=e=>K(mn,e),ie=e=>ot.has(e),Ie=e=>!ge.has(e),Zt=(e,t)=>new Promise(n=>{if(t!==null)n(!0);else{const r=e.createScriptProcessor(256,1,1),o=e.createGain(),s=e.createBuffer(1,2,44100),a=s.getChannelData(0);a[0]=1,a[1]=1;const i=e.createBufferSource();i.buffer=s,i.loop=!0,i.connect(r).connect(e.destination),i.connect(o),i.disconnect(o),r.onaudioprocess=c=>{const u=c.inputBuffer.getChannelData(0);Array.prototype.some.call(u,d=>d===1)?n(!0):n(!1),i.stop(),r.onaudioprocess=null,i.disconnect(r),r.disconnect(e.destination)},i.start()}}),Je=(e,t)=>{const n=new Map;for(const r of e)for(const o of r){const s=n.get(o);n.set(o,s===void 0?1:s+1)}n.forEach((r,o)=>t(o,r))},Ue=e=>"context"in e,Po=e=>{const t=new Map;e.connect=(n=>(r,o=0,s=0)=>{const a=Ue(r)?n(r,o,s):n(r,o),i=t.get(r);return i===void 0?t.set(r,[{input:s,output:o}]):i.every(c=>c.input!==s||c.output!==o)&&i.push({input:s,output:o}),a})(e.connect.bind(e)),e.disconnect=(n=>(r,o,s)=>{if(n.apply(e),r===void 0)t.clear();else if(typeof r=="number")for(const[a,i]of t){const c=i.filter(u=>u.output!==r);c.length===0?t.delete(a):t.set(a,c)}else if(t.has(r))if(o===void 0)t.delete(r);else{const a=t.get(r);if(a!==void 0){const i=a.filter(c=>c.output!==o&&(c.input!==s||s===void 0));i.length===0?t.delete(r):t.set(r,i)}}for(const[a,i]of t)i.forEach(c=>{Ue(a)?e.connect(a,c.output,c.input):e.connect(a,c.output)})})(e.disconnect)},Bo=(e,t,n,r)=>{const{activeInputs:o,passiveInputs:s}=be(t),{outputs:a}=z(e),i=Ae(e),c=u=>{const d=Y(e),l=Ee(t);if(u){const w=Mn(s,e,n);Xt(o,e,w,!1),!r&&!ie(e)&&d.connect(l,n)}else{const w=Lo(o,e,n);Yt(s,w,!1),!r&&!ie(e)&&d.disconnect(l,n)}};return le(a,[t,n],u=>u[0]===t&&u[1]===n,!0)?(i.add(c),ae(e)?Xt(o,e,[n,c],!0):Yt(s,[e,n,c],!0),!0):!1},Uo=(e,t,n,r)=>{const{activeInputs:o,passiveInputs:s}=z(t),a=Cn(o[r],e,n);return a===null?[_n(s,e,n,r)[2],!1]:[a[2],!0]},xo=(e,t,n)=>{const{activeInputs:r,passiveInputs:o}=be(t),s=Cn(r,e,n);return s===null?[Mn(o,e,n)[1],!1]:[s[2],!0]},gt=(e,t,n,r,o)=>{const[s,a]=Uo(e,n,r,o);if(s!==null&&(Tn(e,s),a&&!t&&!ie(e)&&lt(Y(e),Y(n),r,o)),ae(n)){const{activeInputs:i}=z(n);it(n,i)}},wt=(e,t,n,r)=>{const[o,s]=xo(e,n,r);o!==null&&(Tn(e,o),s&&!t&&!ie(e)&&Y(e).disconnect(Ee(n),r))},Do=(e,t)=>{const n=z(e),r=[];for(const o of n.outputs)Ce(o)?gt(e,t,...o):wt(e,t,...o),r.push(o[0]);return n.outputs.clear(),r},Wo=(e,t,n)=>{const r=z(e),o=[];for(const s of r.outputs)s[1]===n&&(Ce(s)?gt(e,t,...s):wt(e,t,...s),o.push(s[0]),r.outputs.delete(s));return o},Vo=(e,t,n,r,o)=>{const s=z(e);return Array.from(s.outputs).filter(a=>a[0]===n&&(r===void 0||a[1]===r)&&(o===void 0||a[2]===o)).map(a=>(Ce(a)?gt(e,t,...a):wt(e,t,...a),s.outputs.delete(a),a[0]))},Fo=(e,t,n,r,o,s,a,i,c,u,d,l,w,g,h,f)=>class extends u{constructor(p,b,_,T){super(_),this._context=p,this._nativeAudioNode=_;const y=d(p);l(y)&&n(Zt,()=>Zt(y,f))!==!0&&Po(_),hn.set(this,_),wn.set(this,new Set),p.state!=="closed"&&b&&Pe(this),e(this,T,_)}get channelCount(){return this._nativeAudioNode.channelCount}set channelCount(p){this._nativeAudioNode.channelCount=p}get channelCountMode(){return this._nativeAudioNode.channelCountMode}set channelCountMode(p){this._nativeAudioNode.channelCountMode=p}get channelInterpretation(){return this._nativeAudioNode.channelInterpretation}set channelInterpretation(p){this._nativeAudioNode.channelInterpretation=p}get context(){return this._context}get numberOfInputs(){return this._nativeAudioNode.numberOfInputs}get numberOfOutputs(){return this._nativeAudioNode.numberOfOutputs}connect(p,b=0,_=0){if(b<0||b>=this._nativeAudioNode.numberOfOutputs)throw o();const T=d(this._context),y=h(T);if(w(p)||g(p))throw s();if(Be(p)){const v=Y(p);try{const I=ut(this._nativeAudioNode,v,b,_),M=Ie(this);(y||M)&&this._nativeAudioNode.disconnect(...I),this.context.state!=="closed"&&!M&&Ie(p)&&Pe(p)}catch(I){throw I.code===12?s():I}if(t(this,p,b,_,y)){const I=c([this],p);Je(I,r(y))}return p}const A=Ee(p);if(A.name==="playbackRate"&&A.maxValue===1024)throw a();try{this._nativeAudioNode.connect(A,b),(y||Ie(this))&&this._nativeAudioNode.disconnect(A,b)}catch(v){throw v.code===12?s():v}if(Bo(this,p,b,y)){const v=c([this],p);Je(v,r(y))}}disconnect(p,b,_){let T;const y=d(this._context),A=h(y);if(p===void 0)T=Do(this,A);else if(typeof p=="number"){if(p<0||p>=this.numberOfOutputs)throw o();T=Wo(this,A,p)}else{if(b!==void 0&&(b<0||b>=this.numberOfOutputs)||Be(p)&&_!==void 0&&(_<0||_>=p.numberOfInputs))throw o();if(T=Vo(this,A,p,b,_),T.length===0)throw s()}for(const E of T){const v=c([this],E);Je(v,i)}}},jo=(e,t,n,r,o,s,a,i,c,u,d,l,w)=>(g,h,f,m=null,p=null)=>{const b=f.value,_=new Jr(b),T=h?r(_):null,y={get defaultValue(){return b},get maxValue(){return m===null?f.maxValue:m},get minValue(){return p===null?f.minValue:p},get value(){return f.value},set value(A){f.value=A,y.setValueAtTime(A,g.context.currentTime)},cancelAndHoldAtTime(A){if(typeof f.cancelAndHoldAtTime=="function")T===null&&_.flush(g.context.currentTime),_.add(o(A)),f.cancelAndHoldAtTime(A);else{const E=Array.from(_).pop();T===null&&_.flush(g.context.currentTime),_.add(o(A));const v=Array.from(_).pop();f.cancelScheduledValues(A),E!==v&&v!==void 0&&(v.type==="exponentialRampToValue"?f.exponentialRampToValueAtTime(v.value,v.endTime):v.type==="linearRampToValue"?f.linearRampToValueAtTime(v.value,v.endTime):v.type==="setValue"?f.setValueAtTime(v.value,v.startTime):v.type==="setValueCurve"&&f.setValueCurveAtTime(v.values,v.startTime,v.duration))}return y},cancelScheduledValues(A){return T===null&&_.flush(g.context.currentTime),_.add(s(A)),f.cancelScheduledValues(A),y},exponentialRampToValueAtTime(A,E){if(A===0)throw new RangeError;if(!Number.isFinite(E)||E<0)throw new RangeError;const v=g.context.currentTime;return T===null&&_.flush(v),Array.from(_).length===0&&(_.add(u(b,v)),f.setValueAtTime(b,v)),_.add(a(A,E)),f.exponentialRampToValueAtTime(A,E),y},linearRampToValueAtTime(A,E){const v=g.context.currentTime;return T===null&&_.flush(v),Array.from(_).length===0&&(_.add(u(b,v)),f.setValueAtTime(b,v)),_.add(i(A,E)),f.linearRampToValueAtTime(A,E),y},setTargetAtTime(A,E,v){return T===null&&_.flush(g.context.currentTime),_.add(c(A,E,v)),f.setTargetAtTime(A,E,v),y},setValueAtTime(A,E){return T===null&&_.flush(g.context.currentTime),_.add(u(A,E)),f.setValueAtTime(A,E),y},setValueCurveAtTime(A,E,v){const N=A instanceof Float32Array?A:new Float32Array(A);if(l!==null&&l.name==="webkitAudioContext"){const I=E+v,M=g.context.sampleRate,U=Math.ceil(E*M),k=Math.floor(I*M),D=k-U,B=new Float32Array(D);for(let L=0;L<D;L+=1){const x=(N.length-1)/v*((U+L)/M-E),O=Math.floor(x),P=Math.ceil(x);B[L]=O===P?N[O]:(1-(x-O))*N[O]+(1-(P-x))*N[P]}T===null&&_.flush(g.context.currentTime),_.add(d(B,E,v)),f.setValueCurveAtTime(B,E,v);const S=k/M;S<I&&w(y,B[B.length-1],S),w(y,N[N.length-1],I)}else T===null&&_.flush(g.context.currentTime),_.add(d(N,E,v)),f.setValueCurveAtTime(N,E,v);return y}};return n.set(y,f),t.set(y,g),e(y,T),y},$o=e=>({replay(t){for(const n of e)if(n.type==="exponentialRampToValue"){const{endTime:r,value:o}=n;t.exponentialRampToValueAtTime(o,r)}else if(n.type==="linearRampToValue"){const{endTime:r,value:o}=n;t.linearRampToValueAtTime(o,r)}else if(n.type==="setTarget"){const{startTime:r,target:o,timeConstant:s}=n;t.setTargetAtTime(o,r,s)}else if(n.type==="setValue"){const{startTime:r,value:o}=n;t.setValueAtTime(o,r)}else if(n.type==="setValueCurve"){const{duration:r,startTime:o,values:s}=n;t.setValueCurveAtTime(s,o,r)}else throw new Error("Can't apply an unknown automation.")}});class Nn{constructor(t){this._map=new Map(t)}get size(){return this._map.size}entries(){return this._map.entries()}forEach(t,n=null){return this._map.forEach((r,o)=>t.call(n,r,o,this))}get(t){return this._map.get(t)}has(t){return this._map.has(t)}keys(){return this._map.keys()}values(){return this._map.values()}}const Go={channelCount:2,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:1,numberOfOutputs:1,parameterData:{},processorOptions:{}},qo=(e,t,n,r,o,s,a,i,c,u,d,l,w,g)=>class extends t{constructor(f,m,p){var b;const _=i(f),T=c(_),y=d({...Go,...p});w(y);const A=st.get(_),E=A?.get(m),v=T||_.state!=="closed"?_:(b=a(_))!==null&&b!==void 0?b:_,N=o(v,T?null:f.baseLatency,u,m,E,y),I=T?r(m,y,E):null;super(f,!0,N,I);const M=[];N.parameters.forEach((k,D)=>{const B=n(this,T,k);M.push([D,B])}),this._nativeAudioWorkletNode=N,this._onprocessorerror=null,this._parameters=new Nn(M),T&&e(_,this);const{activeInputs:U}=s(this);l(N,U)}get onprocessorerror(){return this._onprocessorerror}set onprocessorerror(f){const m=typeof f=="function"?g(this,f):null;this._nativeAudioWorkletNode.onprocessorerror=m;const p=this._nativeAudioWorkletNode.onprocessorerror;this._onprocessorerror=p!==null&&p===m?f:p}get parameters(){return this._parameters===null?this._nativeAudioWorkletNode.parameters:this._parameters}get port(){return this._nativeAudioWorkletNode.port}};function xe(e,t,n,r,o){if(typeof e.copyFromChannel=="function")t[n].byteLength===0&&(t[n]=new Float32Array(128)),e.copyFromChannel(t[n],r,o);else{const s=e.getChannelData(r);if(t[n].byteLength===0)t[n]=s.slice(o,o+128);else{const a=new Float32Array(s.buffer,o*Float32Array.BYTES_PER_ELEMENT,128);t[n].set(a)}}}const On=(e,t,n,r,o)=>{typeof e.copyToChannel=="function"?t[n].byteLength!==0&&e.copyToChannel(t[n],r,o):t[n].byteLength!==0&&e.getChannelData(r).set(t[n],o)},De=(e,t)=>{const n=[];for(let r=0;r<e;r+=1){const o=[],s=typeof t=="number"?t:t[r];for(let a=0;a<s;a+=1)o.push(new Float32Array(128));n.push(o)}return n},zo=(e,t)=>{const n=K(at,e),r=Y(t);return K(n,r)},Ho=async(e,t,n,r,o,s,a)=>{const i=t===null?Math.ceil(e.context.length/128)*128:t.length,c=r.channelCount*r.numberOfInputs,u=o.reduce((m,p)=>m+p,0),d=u===0?null:n.createBuffer(u,i,n.sampleRate);if(s===void 0)throw new Error("Missing the processor constructor.");const l=z(e),w=await zo(n,e),g=De(r.numberOfInputs,r.channelCount),h=De(r.numberOfOutputs,o),f=Array.from(e.parameters.keys()).reduce((m,p)=>({...m,[p]:new Float32Array(128)}),{});for(let m=0;m<i;m+=128){if(r.numberOfInputs>0&&t!==null)for(let p=0;p<r.numberOfInputs;p+=1)for(let b=0;b<r.channelCount;b+=1)xe(t,g[p],b,b,m);s.parameterDescriptors!==void 0&&t!==null&&s.parameterDescriptors.forEach(({name:p},b)=>{xe(t,f,p,c+b,m)});for(let p=0;p<r.numberOfInputs;p+=1)for(let b=0;b<o[p];b+=1)h[p][b].byteLength===0&&(h[p][b]=new Float32Array(128));try{const p=g.map((_,T)=>l.activeInputs[T].size===0?[]:_),b=a(m/n.sampleRate,n.sampleRate,()=>w.process(p,h,f));if(d!==null)for(let _=0,T=0;_<r.numberOfOutputs;_+=1){for(let y=0;y<o[_];y+=1)On(d,h[_],y,T+y,m);T+=o[_]}if(!b)break}catch(p){e.dispatchEvent(new ErrorEvent("processorerror",{colno:p.colno,filename:p.filename,lineno:p.lineno,message:p.message}));break}}return d},Xo=(e,t,n,r,o,s,a,i,c,u,d,l,w,g,h,f)=>(m,p,b)=>{const _=new WeakMap;let T=null;const y=async(A,E)=>{let v=d(A),N=null;const I=yn(v,E),M=Array.isArray(p.outputChannelCount)?p.outputChannelCount:Array.from(p.outputChannelCount);if(l===null){const U=M.reduce((S,L)=>S+L,0),k=o(E,{channelCount:Math.max(1,U),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,U)}),D=[];for(let S=0;S<A.numberOfOutputs;S+=1)D.push(r(E,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:M[S]}));const B=a(E,{channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,gain:1});B.connect=t.bind(null,D),B.disconnect=c.bind(null,D),N=[k,D,B]}else I||(v=new l(E,m));if(_.set(E,N===null?v:N[2]),N!==null){if(T===null){if(b===void 0)throw new Error("Missing the processor constructor.");if(w===null)throw new Error("Missing the native OfflineAudioContext constructor.");const L=A.channelCount*A.numberOfInputs,x=b.parameterDescriptors===void 0?0:b.parameterDescriptors.length,O=L+x;T=Ho(A,O===0?null:await(async()=>{const V=new w(O,Math.ceil(A.context.length/128)*128,E.sampleRate),G=[],fe=[];for(let j=0;j<p.numberOfInputs;j+=1)G.push(a(V,{channelCount:p.channelCount,channelCountMode:p.channelCountMode,channelInterpretation:p.channelInterpretation,gain:1})),fe.push(o(V,{channelCount:p.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:p.channelCount}));const he=await Promise.all(Array.from(A.parameters.values()).map(async j=>{const H=s(V,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:j.value});return await g(V,j,H.offset),H})),pe=r(V,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,L+x)});for(let j=0;j<p.numberOfInputs;j+=1){G[j].connect(fe[j]);for(let H=0;H<p.channelCount;H+=1)fe[j].connect(pe,H,j*p.channelCount+H)}for(const[j,H]of he.entries())H.connect(pe,0,L+j),H.start(0);return pe.connect(V.destination),await Promise.all(G.map(j=>h(A,V,j))),f(V)})(),E,p,M,b,u)}const U=await T,k=n(E,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),[D,B,S]=N;U!==null&&(k.buffer=U,k.start(0)),k.connect(D);for(let L=0,x=0;L<A.numberOfOutputs;L+=1){const O=B[L];for(let P=0;P<M[L];P+=1)D.connect(O,x+P,P);x+=M[L]}return S}if(I)for(const[U,k]of A.parameters.entries())await e(E,k,v.parameters.get(U));else for(const[U,k]of A.parameters.entries())await g(E,k,v.parameters.get(U));return await h(A,E,v),v};return{render(A,E){i(E,A);const v=_.get(E);return v!==void 0?Promise.resolve(v):y(A,E)}}},Yo=(e,t)=>(n,r)=>{const o=t.get(n);if(o!==void 0)return o;const s=e.get(n);if(s!==void 0)return s;try{const a=r();return a instanceof Promise?(e.set(n,a),a.catch(()=>!1).then(i=>(e.delete(n),t.set(n,i),i))):(t.set(n,a),a)}catch{return t.set(n,!1),!1}},Zo=e=>(t,n,r)=>e(n,t,r),Ko=e=>(t,n,r=0,o=0)=>{const s=t[r];if(s===void 0)throw e();return Ue(n)?s.connect(n,0,o):s.connect(n,0)},Qo=e=>t=>(e[0]=t,e[0]),Jo=(e,t,n,r,o,s,a,i)=>(c,u)=>{const d=t.get(c);if(d===void 0)throw new Error("Missing the expected cycle count.");const l=s(c.context),w=i(l);if(d===u){if(t.delete(c),!w&&a(c)){const g=r(c),{outputs:h}=n(c);for(const f of h)if(Ce(f)){const m=r(f[0]);e(g,m,f[1],f[2])}else{const m=o(f[0]);g.connect(m,f[1])}}}else t.set(c,d-u)},es=e=>(t,n,r,o)=>e(t[o],s=>s[0]===n&&s[1]===r),ts=e=>(t,n)=>{e(t).delete(n)},ns=e=>"delayTime"in e,rs=(e,t,n)=>function r(o,s){const a=Be(s)?s:n(e,s);if(ns(a))return[];if(o[0]===a)return[o];if(o.includes(a))return[];const{outputs:i}=t(a);return Array.from(i).map(c=>r([...o,a],c[0])).reduce((c,u)=>c.concat(u),[])},Re=(e,t,n)=>{const r=t[n];if(r===void 0)throw e();return r},os=e=>(t,n=void 0,r=void 0,o=0)=>n===void 0?t.forEach(s=>s.disconnect()):typeof n=="number"?Re(e,t,n).disconnect():Ue(n)?r===void 0?t.forEach(s=>s.disconnect(n)):o===void 0?Re(e,t,r).disconnect(n,0):Re(e,t,r).disconnect(n,0,o):r===void 0?t.forEach(s=>s.disconnect(n)):Re(e,t,r).disconnect(n,0),ss=e=>t=>new Promise((n,r)=>{if(e===null){r(new SyntaxError);return}const o=e.document.head;if(o===null)r(new SyntaxError);else{const s=e.document.createElement("script"),a=new Blob([t],{type:"application/javascript"}),i=URL.createObjectURL(a),c=e.onerror,u=()=>{e.onerror=c,URL.revokeObjectURL(i)};e.onerror=(d,l,w,g,h)=>{if(l===i||l===e.location.href&&w===1&&g===1)return u(),r(h),!1;if(c!==null)return c(d,l,w,g,h)},s.onerror=()=>{u(),r(new SyntaxError)},s.onload=()=>{u(),n()},s.src=i,s.type="module",o.appendChild(s)}}),as=e=>class{constructor(n){this._nativeEventTarget=n,this._listeners=new WeakMap}addEventListener(n,r,o){if(r!==null){let s=this._listeners.get(r);s===void 0&&(s=e(this,r),typeof r=="function"&&this._listeners.set(r,s)),this._nativeEventTarget.addEventListener(n,s,o)}}dispatchEvent(n){return this._nativeEventTarget.dispatchEvent(n)}removeEventListener(n,r,o){const s=r===null?void 0:this._listeners.get(r);this._nativeEventTarget.removeEventListener(n,s===void 0?null:s,o)}},is=e=>(t,n,r)=>{Object.defineProperties(e,{currentFrame:{configurable:!0,get(){return Math.round(t*n)}},currentTime:{configurable:!0,get(){return t}}});try{return r()}finally{e!==null&&(delete e.currentFrame,delete e.currentTime)}},cs=e=>async t=>{try{const n=await fetch(t);if(n.ok)return[await n.text(),n.url]}catch{}throw e()},us=(e,t)=>n=>t(e,n),ls=e=>t=>{const n=e(t);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioNode in the audio graph.");return n.renderer},ds=e=>t=>{var n;return(n=e.get(t))!==null&&n!==void 0?n:0},fs=e=>t=>{const n=e(t);if(n.renderer===null)throw new Error("Missing the renderer of the given AudioParam in the audio graph.");return n.renderer},hs=e=>t=>e.get(t),Z=()=>new DOMException("","InvalidStateError"),ps=e=>t=>{const n=e.get(t);if(n===void 0)throw Z();return n},ms=(e,t)=>n=>{let r=e.get(n);if(r!==void 0)return r;if(t===null)throw new Error("Missing the native OfflineAudioContext constructor.");return r=new t(1,1,44100),e.set(n,r),r},gs=e=>t=>{const n=e.get(t);if(n===void 0)throw new Error("The context has no set of AudioWorkletNodes.");return n},ws=()=>new DOMException("","InvalidAccessError"),vs=(e,t,n,r,o,s)=>a=>(i,c)=>{const u=e.get(i);if(u===void 0){if(!a&&s(i)){const d=r(i),{outputs:l}=n(i);for(const w of l)if(Ce(w)){const g=r(w[0]);t(d,g,w[1],w[2])}else{const g=o(w[0]);d.disconnect(g,w[1])}}e.set(i,c)}else e.set(i,u+c)},_s=e=>t=>e!==null&&t instanceof e,Es=e=>t=>e!==null&&typeof e.AudioNode=="function"&&t instanceof e.AudioNode,ys=e=>t=>e!==null&&typeof e.AudioParam=="function"&&t instanceof e.AudioParam,As=e=>t=>e!==null&&t instanceof e,bs=e=>e!==null&&e.isSecureContext,Cs=(e,t,n,r)=>class extends e{constructor(s,a){const i=n(s),c=t(i,a);if(r(i))throw new TypeError;super(s,!0,c,null),this._nativeMediaStreamAudioSourceNode=c}get mediaStream(){return this._nativeMediaStreamAudioSourceNode.mediaStream}},Ts=(e,t,n,r,o)=>class extends r{constructor(a={}){if(o===null)throw new Error("Missing the native AudioContext constructor.");let i;try{i=new o(a)}catch(d){throw d.code===12&&d.message==="sampleRate is not in range"?t():d}if(i===null)throw n();if(!Ro(a.latencyHint))throw new TypeError(`The provided value '${a.latencyHint}' is not a valid enum value of type AudioContextLatencyCategory.`);if(a.sampleRate!==void 0&&i.sampleRate!==a.sampleRate)throw t();super(i,2);const{latencyHint:c}=a,{sampleRate:u}=i;if(this._baseLatency=typeof i.baseLatency=="number"?i.baseLatency:c==="balanced"?512/u:c==="interactive"||c===void 0?256/u:c==="playback"?1024/u:Math.max(2,Math.min(128,Math.round(c*u/128)))*128/u,this._nativeAudioContext=i,o.name==="webkitAudioContext"?(this._nativeGainNode=i.createGain(),this._nativeOscillatorNode=i.createOscillator(),this._nativeGainNode.gain.value=1e-37,this._nativeOscillatorNode.connect(this._nativeGainNode).connect(i.destination),this._nativeOscillatorNode.start()):(this._nativeGainNode=null,this._nativeOscillatorNode=null),this._state=null,i.state==="running"){this._state="suspended";const d=()=>{this._state==="suspended"&&(this._state=null),i.removeEventListener("statechange",d)};i.addEventListener("statechange",d)}}get baseLatency(){return this._baseLatency}get state(){return this._state!==null?this._state:this._nativeAudioContext.state}close(){return this.state==="closed"?this._nativeAudioContext.close().then(()=>{throw e()}):(this._state==="suspended"&&(this._state=null),this._nativeAudioContext.close().then(()=>{this._nativeGainNode!==null&&this._nativeOscillatorNode!==null&&(this._nativeOscillatorNode.stop(),this._nativeGainNode.disconnect(),this._nativeOscillatorNode.disconnect()),Oo(this)}))}resume(){return this._state==="suspended"?new Promise((a,i)=>{const c=()=>{this._nativeAudioContext.removeEventListener("statechange",c),this._nativeAudioContext.state==="running"?a():this.resume().then(a,i)};this._nativeAudioContext.addEventListener("statechange",c)}):this._nativeAudioContext.resume().catch(a=>{throw a===void 0||a.code===15?e():a})}suspend(){return this._nativeAudioContext.suspend().catch(a=>{throw a===void 0?e():a})}},Ms=(e,t,n,r,o,s)=>class extends n{constructor(i,c){super(i),this._nativeContext=i,gn.set(this,i),r(i)&&o.set(i,new Set),this._destination=new e(this,c),this._listener=t(this,i),this._onstatechange=null}get currentTime(){return this._nativeContext.currentTime}get destination(){return this._destination}get listener(){return this._listener}get onstatechange(){return this._onstatechange}set onstatechange(i){const c=typeof i=="function"?s(this,i):null;this._nativeContext.onstatechange=c;const u=this._nativeContext.onstatechange;this._onstatechange=u!==null&&u===c?i:u}get sampleRate(){return this._nativeContext.sampleRate}get state(){return this._nativeContext.state}},Kt=e=>{const t=new Uint32Array([1179011410,40,1163280727,544501094,16,131073,44100,176400,1048580,1635017060,4,0]);try{const n=e.decodeAudioData(t.buffer,()=>{});return n===void 0?!1:(n.catch(()=>{}),!0)}catch{}return!1},Ns=(e,t)=>(n,r,o)=>{const s=new Set;return n.connect=(a=>(i,c=0,u=0)=>{const d=s.size===0;if(t(i))return a.call(n,i,c,u),e(s,[i,c,u],l=>l[0]===i&&l[1]===c&&l[2]===u,!0),d&&r(),i;a.call(n,i,c),e(s,[i,c],l=>l[0]===i&&l[1]===c,!0),d&&r()})(n.connect),n.disconnect=(a=>(i,c,u)=>{const d=s.size>0;if(i===void 0)a.apply(n),s.clear();else if(typeof i=="number"){a.call(n,i);for(const w of s)w[1]===i&&s.delete(w)}else{t(i)?a.call(n,i,c,u):a.call(n,i,c);for(const w of s)w[0]===i&&(c===void 0||w[1]===c)&&(u===void 0||w[2]===u)&&s.delete(w)}const l=s.size===0;d&&l&&o()})(n.disconnect),n},se=(e,t,n)=>{const r=t[n];r!==void 0&&r!==e[n]&&(e[n]=r)},Te=(e,t)=>{se(e,t,"channelCount"),se(e,t,"channelCountMode"),se(e,t,"channelInterpretation")},Os=e=>e===null?null:e.hasOwnProperty("AudioBuffer")?e.AudioBuffer:null,vt=(e,t,n)=>{const r=t[n];r!==void 0&&r!==e[n].value&&(e[n].value=r)},Rs=e=>{e.start=(t=>{let n=!1;return(r=0,o=0,s)=>{if(n)throw Z();t.call(e,r,o,s),n=!0}})(e.start)},Rn=e=>{e.start=(t=>(n=0,r=0,o)=>{if(typeof o=="number"&&o<0||r<0||n<0)throw new RangeError("The parameters can't be negative.");t.call(e,n,r,o)})(e.start)},In=e=>{e.stop=(t=>(n=0)=>{if(n<0)throw new RangeError("The parameter can't be negative.");t.call(e,n)})(e.stop)},Is=(e,t,n,r,o,s,a,i,c,u,d)=>(l,w)=>{const g=l.createBufferSource();return Te(g,w),vt(g,w,"playbackRate"),se(g,w,"buffer"),se(g,w,"loop"),se(g,w,"loopEnd"),se(g,w,"loopStart"),t(n,()=>n(l))||Rs(g),t(r,()=>r(l))||c(g),t(o,()=>o(l))||u(g,l),t(s,()=>s(l))||Rn(g),t(a,()=>a(l))||d(g,l),t(i,()=>i(l))||In(g),e(l,g),g},Ss=e=>e===null?null:e.hasOwnProperty("AudioContext")?e.AudioContext:e.hasOwnProperty("webkitAudioContext")?e.webkitAudioContext:null,ks=(e,t)=>(n,r,o)=>{const s=n.destination;if(s.channelCount!==r)try{s.channelCount=r}catch{}o&&s.channelCountMode!=="explicit"&&(s.channelCountMode="explicit"),s.maxChannelCount===0&&Object.defineProperty(s,"maxChannelCount",{value:r});const a=e(n,{channelCount:r,channelCountMode:s.channelCountMode,channelInterpretation:s.channelInterpretation,gain:1});return t(a,"channelCount",i=>()=>i.call(a),i=>c=>{i.call(a,c);try{s.channelCount=c}catch(u){if(c>s.maxChannelCount)throw u}}),t(a,"channelCountMode",i=>()=>i.call(a),i=>c=>{i.call(a,c),s.channelCountMode=c}),t(a,"channelInterpretation",i=>()=>i.call(a),i=>c=>{i.call(a,c),s.channelInterpretation=c}),Object.defineProperty(a,"maxChannelCount",{get:()=>s.maxChannelCount}),a.connect(s),a},Ls=e=>e===null?null:e.hasOwnProperty("AudioWorkletNode")?e.AudioWorkletNode:null,Ps=e=>{const{port1:t}=new MessageChannel;try{t.postMessage(e)}finally{t.close()}},Bs=(e,t,n,r,o)=>(s,a,i,c,u,d)=>{if(i!==null)try{const l=new i(s,c,d),w=new Map;let g=null;if(Object.defineProperties(l,{channelCount:{get:()=>d.channelCount,set:()=>{throw e()}},channelCountMode:{get:()=>"explicit",set:()=>{throw e()}},onprocessorerror:{get:()=>g,set:h=>{typeof g=="function"&&l.removeEventListener("processorerror",g),g=typeof h=="function"?h:null,typeof g=="function"&&l.addEventListener("processorerror",g)}}}),l.addEventListener=(h=>(...f)=>{if(f[0]==="processorerror"){const m=typeof f[1]=="function"?f[1]:typeof f[1]=="object"&&f[1]!==null&&typeof f[1].handleEvent=="function"?f[1].handleEvent:null;if(m!==null){const p=w.get(f[1]);p!==void 0?f[1]=p:(f[1]=b=>{b.type==="error"?(Object.defineProperties(b,{type:{value:"processorerror"}}),m(b)):m(new ErrorEvent(f[0],{...b}))},w.set(m,f[1]))}}return h.call(l,"error",f[1],f[2]),h.call(l,...f)})(l.addEventListener),l.removeEventListener=(h=>(...f)=>{if(f[0]==="processorerror"){const m=w.get(f[1]);m!==void 0&&(w.delete(f[1]),f[1]=m)}return h.call(l,"error",f[1],f[2]),h.call(l,f[0],f[1],f[2])})(l.removeEventListener),d.numberOfOutputs!==0){const h=n(s,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return l.connect(h).connect(s.destination),o(l,()=>h.disconnect(),()=>h.connect(s.destination))}return l}catch(l){throw l.code===11?r():l}if(u===void 0)throw r();return Ps(d),t(s,a,u,d)},Us=(e,t)=>e===null?512:Math.max(512,Math.min(16384,Math.pow(2,Math.round(Math.log2(e*t))))),xs=e=>new Promise((t,n)=>{const{port1:r,port2:o}=new MessageChannel;r.onmessage=({data:s})=>{r.close(),o.close(),t(s)},r.onmessageerror=({data:s})=>{r.close(),o.close(),n(s)},o.postMessage(e)}),Ds=async(e,t)=>{const n=await xs(t);return new e(n)},Ws=(e,t,n,r)=>{let o=at.get(e);o===void 0&&(o=new WeakMap,at.set(e,o));const s=Ds(n,r);return o.set(t,s),s},Vs=(e,t,n,r,o,s,a,i,c,u,d,l,w)=>(g,h,f,m)=>{if(m.numberOfInputs===0&&m.numberOfOutputs===0)throw c();const p=Array.isArray(m.outputChannelCount)?m.outputChannelCount:Array.from(m.outputChannelCount);if(p.some(C=>C<1))throw c();if(p.length!==m.numberOfOutputs)throw t();if(m.channelCountMode!=="explicit")throw c();const b=m.channelCount*m.numberOfInputs,_=p.reduce((C,R)=>C+R,0),T=f.parameterDescriptors===void 0?0:f.parameterDescriptors.length;if(b+T>6||_>6)throw c();const y=new MessageChannel,A=[],E=[];for(let C=0;C<m.numberOfInputs;C+=1)A.push(a(g,{channelCount:m.channelCount,channelCountMode:m.channelCountMode,channelInterpretation:m.channelInterpretation,gain:1})),E.push(o(g,{channelCount:m.channelCount,channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:m.channelCount}));const v=[];if(f.parameterDescriptors!==void 0)for(const{defaultValue:C,maxValue:R,minValue:q,name:F}of f.parameterDescriptors){const W=s(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",offset:m.parameterData[F]!==void 0?m.parameterData[F]:C===void 0?0:C});Object.defineProperties(W.offset,{defaultValue:{get:()=>C===void 0?0:C},maxValue:{get:()=>R===void 0?mt:R},minValue:{get:()=>q===void 0?je:q}}),v.push(W)}const N=r(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:Math.max(1,b+T)}),I=Us(h,g.sampleRate),M=i(g,I,b+T,Math.max(1,_)),U=o(g,{channelCount:Math.max(1,_),channelCountMode:"explicit",channelInterpretation:"discrete",numberOfOutputs:Math.max(1,_)}),k=[];for(let C=0;C<m.numberOfOutputs;C+=1)k.push(r(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"speakers",numberOfInputs:p[C]}));for(let C=0;C<m.numberOfInputs;C+=1){A[C].connect(E[C]);for(let R=0;R<m.channelCount;R+=1)E[C].connect(N,R,C*m.channelCount+R)}const D=new Nn(f.parameterDescriptors===void 0?[]:f.parameterDescriptors.map(({name:C},R)=>{const q=v[R];return q.connect(N,0,b+R),q.start(0),[C,q.offset]}));N.connect(M);let B=m.channelInterpretation,S=null;const L=m.numberOfOutputs===0?[M]:k,x={get bufferSize(){return I},get channelCount(){return m.channelCount},set channelCount(C){throw n()},get channelCountMode(){return m.channelCountMode},set channelCountMode(C){throw n()},get channelInterpretation(){return B},set channelInterpretation(C){for(const R of A)R.channelInterpretation=C;B=C},get context(){return M.context},get inputs(){return A},get numberOfInputs(){return m.numberOfInputs},get numberOfOutputs(){return m.numberOfOutputs},get onprocessorerror(){return S},set onprocessorerror(C){typeof S=="function"&&x.removeEventListener("processorerror",S),S=typeof C=="function"?C:null,typeof S=="function"&&x.addEventListener("processorerror",S)},get parameters(){return D},get port(){return y.port2},addEventListener(...C){return M.addEventListener(C[0],C[1],C[2])},connect:e.bind(null,L),disconnect:u.bind(null,L),dispatchEvent(...C){return M.dispatchEvent(C[0])},removeEventListener(...C){return M.removeEventListener(C[0],C[1],C[2])}},O=new Map;y.port1.addEventListener=(C=>(...R)=>{if(R[0]==="message"){const q=typeof R[1]=="function"?R[1]:typeof R[1]=="object"&&R[1]!==null&&typeof R[1].handleEvent=="function"?R[1].handleEvent:null;if(q!==null){const F=O.get(R[1]);F!==void 0?R[1]=F:(R[1]=W=>{d(g.currentTime,g.sampleRate,()=>q(W))},O.set(q,R[1]))}}return C.call(y.port1,R[0],R[1],R[2])})(y.port1.addEventListener),y.port1.removeEventListener=(C=>(...R)=>{if(R[0]==="message"){const q=O.get(R[1]);q!==void 0&&(O.delete(R[1]),R[1]=q)}return C.call(y.port1,R[0],R[1],R[2])})(y.port1.removeEventListener);let P=null;Object.defineProperty(y.port1,"onmessage",{get:()=>P,set:C=>{typeof P=="function"&&y.port1.removeEventListener("message",P),P=typeof C=="function"?C:null,typeof P=="function"&&(y.port1.addEventListener("message",P),y.port1.start())}}),f.prototype.port=y.port1;let V=null;Ws(g,x,f,m).then(C=>V=C);const fe=De(m.numberOfInputs,m.channelCount),he=De(m.numberOfOutputs,p),pe=f.parameterDescriptors===void 0?[]:f.parameterDescriptors.reduce((C,{name:R})=>({...C,[R]:new Float32Array(128)}),{});let j=!0;const H=()=>{m.numberOfOutputs>0&&M.disconnect(U);for(let C=0,R=0;C<m.numberOfOutputs;C+=1){const q=k[C];for(let F=0;F<p[C];F+=1)U.disconnect(q,R+F,F);R+=p[C]}},Me=new Map;M.onaudioprocess=({inputBuffer:C,outputBuffer:R})=>{if(V!==null){const q=l(x);for(let F=0;F<I;F+=128){for(let W=0;W<m.numberOfInputs;W+=1)for(let $=0;$<m.channelCount;$+=1)xe(C,fe[W],$,$,F);f.parameterDescriptors!==void 0&&f.parameterDescriptors.forEach(({name:W},$)=>{xe(C,pe,W,b+$,F)});for(let W=0;W<m.numberOfInputs;W+=1)for(let $=0;$<p[W];$+=1)he[W][$].byteLength===0&&(he[W][$]=new Float32Array(128));try{const W=fe.map((X,te)=>{if(q[te].size>0)return Me.set(te,I/128),X;const Ke=Me.get(te);return Ke===void 0?[]:(X.every(rr=>rr.every(or=>or===0))&&(Ke===1?Me.delete(te):Me.set(te,Ke-1)),X)});j=d(g.currentTime+F/g.sampleRate,g.sampleRate,()=>V.process(W,he,pe));for(let X=0,te=0;X<m.numberOfOutputs;X+=1){for(let _e=0;_e<p[X];_e+=1)On(R,he[X],_e,te+_e,F);te+=p[X]}}catch(W){j=!1,x.dispatchEvent(new ErrorEvent("processorerror",{colno:W.colno,filename:W.filename,lineno:W.lineno,message:W.message}))}if(!j){for(let W=0;W<m.numberOfInputs;W+=1){A[W].disconnect(E[W]);for(let $=0;$<m.channelCount;$+=1)E[F].disconnect(N,$,W*m.channelCount+$)}if(f.parameterDescriptors!==void 0){const W=f.parameterDescriptors.length;for(let $=0;$<W;$+=1){const X=v[$];X.disconnect(N,0,b+$),X.stop()}}N.disconnect(M),M.onaudioprocess=null,Ye?H():Rt();break}}}};let Ye=!1;const Ze=a(g,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0}),Ot=()=>M.connect(Ze).connect(g.destination),Rt=()=>{M.disconnect(Ze),Ze.disconnect()},tr=()=>{if(j){Rt(),m.numberOfOutputs>0&&M.connect(U);for(let C=0,R=0;C<m.numberOfOutputs;C+=1){const q=k[C];for(let F=0;F<p[C];F+=1)U.connect(q,R+F,F);R+=p[C]}}Ye=!0},nr=()=>{j&&(Ot(),H()),Ye=!1};return Ot(),w(x,tr,nr)},Fs=(e,t)=>(n,r)=>{const o=n.createChannelMerger(r.numberOfInputs);return e!==null&&e.name==="webkitAudioContext"&&t(n,o),Te(o,r),o},js=e=>{const t=e.numberOfOutputs;Object.defineProperty(e,"channelCount",{get:()=>t,set:n=>{if(n!==t)throw Z()}}),Object.defineProperty(e,"channelCountMode",{get:()=>"explicit",set:n=>{if(n!=="explicit")throw Z()}}),Object.defineProperty(e,"channelInterpretation",{get:()=>"discrete",set:n=>{if(n!=="discrete")throw Z()}})},Sn=(e,t)=>{const n=e.createChannelSplitter(t.numberOfOutputs);return Te(n,t),js(n),n},$s=(e,t,n,r,o)=>(s,a)=>{if(s.createConstantSource===void 0)return n(s,a);const i=s.createConstantSource();return Te(i,a),vt(i,a,"offset"),t(r,()=>r(s))||Rn(i),t(o,()=>o(s))||In(i),e(s,i),i},kn=(e,t)=>(e.connect=t.connect.bind(t),e.disconnect=t.disconnect.bind(t),e),Gs=(e,t,n,r)=>(o,{offset:s,...a})=>{const i=o.createBuffer(1,2,44100),c=t(o,{buffer:null,channelCount:2,channelCountMode:"max",channelInterpretation:"speakers",loop:!1,loopEnd:0,loopStart:0,playbackRate:1}),u=n(o,{...a,gain:s}),d=i.getChannelData(0);d[0]=1,d[1]=1,c.buffer=i,c.loop=!0;const l={get bufferSize(){},get channelCount(){return u.channelCount},set channelCount(h){u.channelCount=h},get channelCountMode(){return u.channelCountMode},set channelCountMode(h){u.channelCountMode=h},get channelInterpretation(){return u.channelInterpretation},set channelInterpretation(h){u.channelInterpretation=h},get context(){return u.context},get inputs(){return[]},get numberOfInputs(){return c.numberOfInputs},get numberOfOutputs(){return u.numberOfOutputs},get offset(){return u.gain},get onended(){return c.onended},set onended(h){c.onended=h},addEventListener(...h){return c.addEventListener(h[0],h[1],h[2])},dispatchEvent(...h){return c.dispatchEvent(h[0])},removeEventListener(...h){return c.removeEventListener(h[0],h[1],h[2])},start(h=0){c.start.call(c,h)},stop(h=0){c.stop.call(c,h)}},w=()=>c.connect(u),g=()=>c.disconnect(u);return e(o,c),r(kn(l,u),w,g)},oe=(e,t)=>{const n=e.createGain();return Te(n,t),vt(n,t,"gain"),n},qs=(e,{mediaStream:t})=>{const n=t.getAudioTracks();n.sort((s,a)=>s.id<a.id?-1:s.id>a.id?1:0);const r=n.slice(0,1),o=e.createMediaStreamSource(new MediaStream(r));return Object.defineProperty(o,"mediaStream",{value:t}),o},zs=e=>e===null?null:e.hasOwnProperty("OfflineAudioContext")?e.OfflineAudioContext:e.hasOwnProperty("webkitOfflineAudioContext")?e.webkitOfflineAudioContext:null,_t=(e,t,n,r)=>e.createScriptProcessor(t,n,r),de=()=>new DOMException("","NotSupportedError"),Hs=(e,t)=>(n,r,o)=>(e(r).replay(o),t(r,n,o)),Xs=(e,t,n)=>async(r,o,s)=>{const a=e(r);await Promise.all(a.activeInputs.map((i,c)=>Array.from(i).map(async([u,d])=>{const w=await t(u).render(u,o),g=r.context.destination;!n(u)&&(r!==g||!n(r))&&w.connect(s,d,c)})).reduce((i,c)=>[...i,...c],[]))},Ys=(e,t,n)=>async(r,o,s)=>{const a=t(r);await Promise.all(Array.from(a.activeInputs).map(async([i,c])=>{const d=await e(i).render(i,o);n(i)||d.connect(s,c)}))},Zs=(e,t,n,r)=>o=>e(Kt,()=>Kt(o))?Promise.resolve(e(r,r)).then(s=>{if(!s){const a=n(o,512,0,1);o.oncomplete=()=>{a.onaudioprocess=null,a.disconnect()},a.onaudioprocess=()=>o.currentTime,a.connect(o.destination)}return o.startRendering()}):new Promise(s=>{const a=t(o,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});o.oncomplete=i=>{a.disconnect(),s(i.renderedBuffer)},a.connect(o.destination),o.startRendering()}),Ks=e=>(t,n)=>{e.set(t,n)},Qs=e=>()=>{if(e===null)return!1;try{new e({length:1,sampleRate:44100})}catch{return!1}return!0},Js=(e,t)=>async()=>{if(e===null)return!0;if(t===null)return!1;const n=new Blob(['class A extends AudioWorkletProcessor{process(i){this.port.postMessage(i,[i[0][0].buffer])}}registerProcessor("a",A)'],{type:"application/javascript; charset=utf-8"}),r=new t(1,128,44100),o=URL.createObjectURL(n);let s=!1,a=!1;try{await r.audioWorklet.addModule(o);const i=new e(r,"a",{numberOfOutputs:0}),c=r.createOscillator();i.port.onmessage=()=>s=!0,i.onprocessorerror=()=>a=!0,c.connect(i),c.start(0),await r.startRendering(),await new Promise(u=>setTimeout(u))}catch{}finally{URL.revokeObjectURL(o)}return s&&!a},ea=(e,t)=>()=>{if(t===null)return Promise.resolve(!1);const n=new t(1,1,44100),r=e(n,{channelCount:1,channelCountMode:"explicit",channelInterpretation:"discrete",gain:0});return new Promise(o=>{n.oncomplete=()=>{r.disconnect(),o(n.currentTime!==0)},n.startRendering()})},ta=()=>new DOMException("","UnknownError"),na=()=>typeof window>"u"?null:window,ra=(e,t)=>n=>{n.copyFromChannel=(r,o,s=0)=>{const a=e(s),i=e(o);if(i>=n.numberOfChannels)throw t();const c=n.length,u=n.getChannelData(i),d=r.length;for(let l=a<0?-a:0;l+a<c&&l<d;l+=1)r[l]=u[l+a]},n.copyToChannel=(r,o,s=0)=>{const a=e(s),i=e(o);if(i>=n.numberOfChannels)throw t();const c=n.length,u=n.getChannelData(i),d=r.length;for(let l=a<0?-a:0;l+a<c&&l<d;l+=1)u[l+a]=r[l]}},oa=e=>t=>{t.copyFromChannel=(n=>(r,o,s=0)=>{const a=e(s),i=e(o);if(a<t.length)return n.call(t,r,i,a)})(t.copyFromChannel),t.copyToChannel=(n=>(r,o,s=0)=>{const a=e(s),i=e(o);if(a<t.length)return n.call(t,r,i,a)})(t.copyToChannel)},sa=e=>(t,n)=>{const r=n.createBuffer(1,1,44100);t.buffer===null&&(t.buffer=r),e(t,"buffer",o=>()=>{const s=o.call(t);return s===r?null:s},o=>s=>o.call(t,s===null?r:s))},aa=(e,t)=>(n,r)=>{r.channelCount=1,r.channelCountMode="explicit",Object.defineProperty(r,"channelCount",{get:()=>1,set:()=>{throw e()}}),Object.defineProperty(r,"channelCountMode",{get:()=>"explicit",set:()=>{throw e()}});const o=n.createBufferSource();t(r,()=>{const i=r.numberOfInputs;for(let c=0;c<i;c+=1)o.connect(r,0,c)},()=>o.disconnect(r))},ia=(e,t,n)=>e.copyFromChannel===void 0?e.getChannelData(n)[0]:(e.copyFromChannel(t,n),t[0]),Et=(e,t,n,r)=>{let o=e;for(;!o.hasOwnProperty(t);)o=Object.getPrototypeOf(o);const{get:s,set:a}=Object.getOwnPropertyDescriptor(o,t);Object.defineProperty(e,t,{get:n(s),set:r(a)})},ca=e=>({...e,outputChannelCount:e.outputChannelCount!==void 0?e.outputChannelCount:e.numberOfInputs===1&&e.numberOfOutputs===1?[e.channelCount]:Array.from({length:e.numberOfOutputs},()=>1)}),Ln=(e,t,n)=>{try{e.setValueAtTime(t,n)}catch(r){if(r.code!==9)throw r;Ln(e,t,n+1e-7)}},ua=e=>{const t=e.createBufferSource();t.start();try{t.start()}catch{return!0}return!1},la=e=>{const t=e.createBufferSource(),n=e.createBuffer(1,1,44100);t.buffer=n;try{t.start(0,1)}catch{return!1}return!0},da=e=>{const t=e.createBufferSource();t.start();try{t.stop()}catch{return!1}return!0},Pn=e=>{const t=e.createOscillator();try{t.start(-1)}catch(n){return n instanceof RangeError}return!1},fa=e=>{const t=e.createBuffer(1,1,44100),n=e.createBufferSource();n.buffer=t,n.start(),n.stop();try{return n.stop(),!0}catch{return!1}},Bn=e=>{const t=e.createOscillator();try{t.stop(-1)}catch(n){return n instanceof RangeError}return!1},ha=e=>{const{port1:t,port2:n}=new MessageChannel;try{t.postMessage(e)}finally{t.close(),n.close()}},pa=e=>{e.start=(t=>(n=0,r=0,o)=>{const s=e.buffer,a=s===null?r:Math.min(s.duration,r);s!==null&&a>s.duration-.5/e.context.sampleRate?t.call(e,n,0,0):t.call(e,n,a,o)})(e.start)},ma=(e,t)=>{const n=t.createGain();e.connect(n);const r=(o=>()=>{o.call(e,n),e.removeEventListener("ended",r)})(e.disconnect);e.addEventListener("ended",r),kn(e,n),e.stop=(o=>{let s=!1;return(a=0)=>{if(s)try{o.call(e,a)}catch{n.gain.setValueAtTime(0,a)}else o.call(e,a),s=!0}})(e.stop)},$e=(e,t)=>n=>{const r={value:e};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof t=="function"?t.call(e,n):t.handleEvent.call(e,n)},ga=ao(le),wa=ho(le),va=es(Fe),_a=new WeakMap,Ea=ds(_a),we=Yo(new Map,new WeakMap),Q=na(),Un=ls(z),yt=Xs(z,Un,ie),ce=ps(gn),ve=zs(Q),ee=As(ve),xn=new WeakMap,Dn=as($e),Ge=Ss(Q),ya=_s(Ge),Wn=Es(Q),Aa=ys(Q),ye=Ls(Q),qe=Fo(io(fn),fo(ga,wa,ut,va,lt,z,Ea,Ae,Y,le,ae,ie,Ie),we,vs(ot,lt,z,Y,Ee,ae),ue,ws,de,Jo(ut,ot,z,Y,Ee,ce,ae,ee),rs(xn,z,K),Dn,ce,ya,Wn,Aa,ee,ye),ba=new WeakSet,Qt=Os(Q),Vn=Qo(new Uint32Array(1)),Ca=ra(Vn,ue),Ta=oa(Vn),Ma=vo(ba,we,de,Qt,ve,Qs(Qt),Ca,Ta),At=po(oe),Fn=Ys(Un,be,ie),jn=Zo(Fn),ze=Is(At,we,ua,la,da,Pn,fa,Bn,pa,sa(Et),ma),$n=Hs(fs(be),Fn),Na=yo(jn,ze,Y,$n,yt),bt=jo(co(pn),xn,mn,$o,eo,to,no,ro,oo,tt,ln,Ge,Ln),Oa=Eo(qe,Na,bt,Z,ze,ce,ee,$e),Ra=Io(qe,So,ue,Z,ks(oe,Et),ce,ee,yt),He=Ns(le,Wn),Ia=aa(Z,He),Ct=Fs(Ge,Ia),Sa=Gs(At,ze,oe,He),Tt=$s(At,we,Sa,Pn,Bn),ka=Zs(we,oe,_t,ea(oe,ve)),La=ko(bt,Ct,Tt,_t,de,ia,ee,Et),Gn=new WeakMap,Pa=Ms(Ra,La,Dn,ee,Gn,$e),qn=bs(Q),Mt=is(Q),zn=new WeakMap,Ba=ms(zn,ve),Jt=qn?lo(we,de,ss(Q),Mt,cs(so),ce,Ba,ee,ye,new WeakMap,new WeakMap,Js(ye,ve),Q):void 0,Ua=Cs(qe,qs,ce,ee),Hn=gs(Gn),xa=mo(Hn),Xn=Ko(ue),Da=ts(Hn),Yn=os(ue),Zn=new WeakMap,Wa=us(Zn,K),Va=Vs(Xn,ue,Z,Ct,Sn,Tt,oe,_t,de,Yn,Mt,Wa,He),Fa=Bs(Z,Va,oe,de,He),ja=Xo(jn,Xn,ze,Ct,Sn,Tt,oe,Da,Yn,Mt,Y,ye,ve,$n,yt,ka),$a=hs(zn),Ga=Ks(Zn),en=qn?qo(xa,qe,bt,ja,Fa,z,$a,ce,ee,ye,ca,Ga,ha,$e):void 0,qa=Ts(Z,de,ta,Pa,Ge),Kn="Missing AudioWorklet support. Maybe this is not running in a secure context.",za=async(e,t,n,r,o)=>{const{encoderId:s,port:a}=await sn(o,t.sampleRate);if(en===void 0)throw new Error(Kn);const i=new Oa(t,{buffer:e}),c=new Ua(t,{mediaStream:r}),u=Zr(en,t,{channelCount:n});return{audioBufferSourceNode:i,encoderId:s,mediaStreamAudioSourceNode:c,port:a,recorderAudioWorkletNode:u}},Ha=(e,t,n,r)=>(o,s,a)=>{var i;const c=(i=s.getAudioTracks()[0])===null||i===void 0?void 0:i.getSettings().sampleRate,u=new qa({latencyHint:"playback",sampleRate:c}),d=Math.max(1024,Math.ceil(u.baseLatency*u.sampleRate)),l=new Ma({length:d,sampleRate:u.sampleRate}),w=[],g=Yr(v=>{if(Jt===void 0)throw new Error(Kn);return Jt(u,v)});let h=null,f=null,m=null,p=null,b=!0;const _=v=>{o.dispatchEvent(e("dataavailable",{data:new Blob(v,{type:a})}))},T=async(v,N)=>{const I=await Se(v,N);m===null?w.push(...I):(_(I),p=T(v,N))},y=()=>(b=!0,u.resume()),A=()=>{m!==null&&(h!==null&&(s.removeEventListener("addtrack",h),s.removeEventListener("removetrack",h)),f!==null&&clearTimeout(f),m.then(async({encoderId:v,mediaStreamAudioSourceNode:N,recorderAudioWorkletNode:I})=>{p!==null&&(p.catch(()=>{}),p=null),await I.stop(),N.disconnect(I);const M=await Se(v,null);m===null&&await E(),_([...w,...M]),w.length=0,o.dispatchEvent(new Event("stop"))}),m=null)},E=()=>(b=!1,u.suspend());return E(),{get mimeType(){return a},get state(){return m===null?"inactive":b?"recording":"paused"},pause(){if(m===null)throw n();b&&(E(),o.dispatchEvent(new Event("pause")))},resume(){if(m===null)throw n();b||(y(),o.dispatchEvent(new Event("resume")))},start(v){var N;if(m!==null)throw n();if(s.getVideoTracks().length>0)throw r();o.dispatchEvent(new Event("start"));const I=s.getAudioTracks(),M=I.length===0?2:(N=I[0].getSettings().channelCount)!==null&&N!==void 0?N:2;m=Promise.all([y(),g.then(()=>za(l,u,M,s,a))]).then(async([,{audioBufferSourceNode:k,encoderId:D,mediaStreamAudioSourceNode:B,port:S,recorderAudioWorkletNode:L}])=>(B.connect(L),await new Promise(x=>{k.onended=x,k.connect(L),k.start(u.currentTime+d/u.sampleRate)}),k.disconnect(L),await L.record(S),v!==void 0&&(p=T(D,v)),{encoderId:D,mediaStreamAudioSourceNode:B,recorderAudioWorkletNode:L}));const U=s.getTracks();h=()=>{A(),o.dispatchEvent(new ErrorEvent("error",{error:t()}))},s.addEventListener("addtrack",h),s.addEventListener("removetrack",h),f=setInterval(()=>{const k=s.getTracks();(k.length!==U.length||k.some((D,B)=>D!==U[B]))&&h!==null&&h()},1e3)},stop:A}};class et{constructor(t,n=0,r){if(n<0||r!==void 0&&r<0)throw new RangeError;const o=t.reduce((d,l)=>d+l.byteLength,0);if(n>o||r!==void 0&&n+r>o)throw new RangeError;const s=[],a=r===void 0?o-n:r,i=[];let c=0,u=n;for(const d of t)if(i.length===0)if(d.byteLength>u){c=d.byteLength-u;const l=c>a?a:c;s.push(new DataView(d,u,l)),i.push(d)}else u-=d.byteLength;else if(c<a){c+=d.byteLength;const l=c>a?d.byteLength-c+a:d.byteLength;s.push(new DataView(d,0,l)),i.push(d)}this._buffers=i,this._byteLength=a,this._byteOffset=u,this._dataViews=s,this._internalBuffer=new DataView(new ArrayBuffer(8))}get buffers(){return this._buffers}get byteLength(){return this._byteLength}get byteOffset(){return this._byteOffset}getFloat32(t,n){return this._internalBuffer.setUint8(0,this.getUint8(t+0)),this._internalBuffer.setUint8(1,this.getUint8(t+1)),this._internalBuffer.setUint8(2,this.getUint8(t+2)),this._internalBuffer.setUint8(3,this.getUint8(t+3)),this._internalBuffer.getFloat32(0,n)}getFloat64(t,n){return this._internalBuffer.setUint8(0,this.getUint8(t+0)),this._internalBuffer.setUint8(1,this.getUint8(t+1)),this._internalBuffer.setUint8(2,this.getUint8(t+2)),this._internalBuffer.setUint8(3,this.getUint8(t+3)),this._internalBuffer.setUint8(4,this.getUint8(t+4)),this._internalBuffer.setUint8(5,this.getUint8(t+5)),this._internalBuffer.setUint8(6,this.getUint8(t+6)),this._internalBuffer.setUint8(7,this.getUint8(t+7)),this._internalBuffer.getFloat64(0,n)}getInt16(t,n){return this._internalBuffer.setUint8(0,this.getUint8(t+0)),this._internalBuffer.setUint8(1,this.getUint8(t+1)),this._internalBuffer.getInt16(0,n)}getInt32(t,n){return this._internalBuffer.setUint8(0,this.getUint8(t+0)),this._internalBuffer.setUint8(1,this.getUint8(t+1)),this._internalBuffer.setUint8(2,this.getUint8(t+2)),this._internalBuffer.setUint8(3,this.getUint8(t+3)),this._internalBuffer.getInt32(0,n)}getInt8(t){const[n,r]=this._findDataViewWithOffset(t);return n.getInt8(t-r)}getUint16(t,n){return this._internalBuffer.setUint8(0,this.getUint8(t+0)),this._internalBuffer.setUint8(1,this.getUint8(t+1)),this._internalBuffer.getUint16(0,n)}getUint32(t,n){return this._internalBuffer.setUint8(0,this.getUint8(t+0)),this._internalBuffer.setUint8(1,this.getUint8(t+1)),this._internalBuffer.setUint8(2,this.getUint8(t+2)),this._internalBuffer.setUint8(3,this.getUint8(t+3)),this._internalBuffer.getUint32(0,n)}getUint8(t){const[n,r]=this._findDataViewWithOffset(t);return n.getUint8(t-r)}setFloat32(t,n,r){this._internalBuffer.setFloat32(0,n,r),this.setUint8(t,this._internalBuffer.getUint8(0)),this.setUint8(t+1,this._internalBuffer.getUint8(1)),this.setUint8(t+2,this._internalBuffer.getUint8(2)),this.setUint8(t+3,this._internalBuffer.getUint8(3))}setFloat64(t,n,r){this._internalBuffer.setFloat64(0,n,r),this.setUint8(t,this._internalBuffer.getUint8(0)),this.setUint8(t+1,this._internalBuffer.getUint8(1)),this.setUint8(t+2,this._internalBuffer.getUint8(2)),this.setUint8(t+3,this._internalBuffer.getUint8(3)),this.setUint8(t+4,this._internalBuffer.getUint8(4)),this.setUint8(t+5,this._internalBuffer.getUint8(5)),this.setUint8(t+6,this._internalBuffer.getUint8(6)),this.setUint8(t+7,this._internalBuffer.getUint8(7))}setInt16(t,n,r){this._internalBuffer.setInt16(0,n,r),this.setUint8(t,this._internalBuffer.getUint8(0)),this.setUint8(t+1,this._internalBuffer.getUint8(1))}setInt32(t,n,r){this._internalBuffer.setInt32(0,n,r),this.setUint8(t,this._internalBuffer.getUint8(0)),this.setUint8(t+1,this._internalBuffer.getUint8(1)),this.setUint8(t+2,this._internalBuffer.getUint8(2)),this.setUint8(t+3,this._internalBuffer.getUint8(3))}setInt8(t,n){const[r,o]=this._findDataViewWithOffset(t);r.setInt8(t-o,n)}setUint16(t,n,r){this._internalBuffer.setUint16(0,n,r),this.setUint8(t,this._internalBuffer.getUint8(0)),this.setUint8(t+1,this._internalBuffer.getUint8(1))}setUint32(t,n,r){this._internalBuffer.setUint32(0,n,r),this.setUint8(t,this._internalBuffer.getUint8(0)),this.setUint8(t+1,this._internalBuffer.getUint8(1)),this.setUint8(t+2,this._internalBuffer.getUint8(2)),this.setUint8(t+3,this._internalBuffer.getUint8(3))}setUint8(t,n){const[r,o]=this._findDataViewWithOffset(t);r.setUint8(t-o,n)}_findDataViewWithOffset(t){let n=0;for(const r of this._dataViews){const o=n+r.byteLength;if(t>=n&&t<o)return[r,n];n=o}throw new RangeError}}const Xa=(e,t,n)=>(r,o,s,a)=>{const i=[],c=new o(s,{mimeType:"audio/webm;codecs=pcm"});let u=null,d=()=>{};const l=h=>{r.dispatchEvent(e("dataavailable",{data:new Blob(h,{type:a})}))},w=async(h,f)=>{const m=await Se(h,f);c.state==="inactive"?i.push(...m):(l(m),u=w(h,f))},g=()=>{c.state!=="inactive"&&(u!==null&&(u.catch(()=>{}),u=null),d(),d=()=>{},c.stop())};return c.addEventListener("error",h=>{g(),r.dispatchEvent(new ErrorEvent("error",{error:h.error}))}),c.addEventListener("pause",()=>r.dispatchEvent(new Event("pause"))),c.addEventListener("resume",()=>r.dispatchEvent(new Event("resume"))),c.addEventListener("start",()=>r.dispatchEvent(new Event("start"))),{get mimeType(){return a},get state(){return c.state},pause(){return c.pause()},resume(){return c.resume()},start(h){const[f]=s.getAudioTracks();if(f!==void 0&&c.state==="inactive"){const{channelCount:m,sampleRate:p}=f.getSettings();if(m===void 0)throw new Error("The channelCount is not defined.");if(p===void 0)throw new Error("The sampleRate is not defined.");let b=!1,_=!1,T=0,y=sn(a,p);d=()=>{_=!0};const A=cn(c,"dataavailable")(({data:E})=>{T+=1,y=y.then(async({dataView:v=null,elementType:N=null,encoderId:I,port:M})=>{const U=await E.arrayBuffer();T-=1;const k=v===null?new et([U]):new et([...v.buffers,U],v.byteOffset);if(!b&&c.state==="recording"&&!_){const x=n(k,0);if(x===null)return{dataView:k,elementType:N,encoderId:I,port:M};const{value:O}=x;if(O!==172351395)return{dataView:v,elementType:N,encoderId:I,port:M};b=!0}const{currentElementType:D,offset:B,contents:S}=t(k,N,m),L=B<k.byteLength?new et(k.buffers,k.byteOffset+B):null;return S.forEach(x=>M.postMessage(x,x.map(({buffer:O})=>O))),T===0&&(c.state==="inactive"||_)&&(Se(I,null).then(x=>{l([...i,...x]),i.length=0,r.dispatchEvent(new Event("stop"))}),M.postMessage([]),M.close(),A()),{dataView:L,elementType:D,encoderId:I,port:M}})});h!==void 0&&y.then(({encoderId:E})=>u=w(E,h))}c.start(100)},stop:g}},Ya=()=>typeof window>"u"?null:window,Qn=(e,t)=>{if(t>=e.byteLength)return null;const n=e.getUint8(t);if(n>127)return 1;if(n>63)return 2;if(n>31)return 3;if(n>15)return 4;if(n>7)return 5;if(n>3)return 6;if(n>1)return 7;if(n>0)return 8;const r=Qn(e,t+1);return r===null?null:r+8},Za=(e,t)=>n=>{const r={value:e};return Object.defineProperties(n,{currentTarget:r,target:r}),typeof t=="function"?t.call(e,n):t.handleEvent.call(e,n)},Jn=[],Xe=Ya(),Ka=Nr(Xe),er=_r(Ka),Qa=Ha(er,br,Cr,an),Nt=kr(Qn),Ja=Ir(Nt),ei=Sr(Nt),ti=Er(Ja,ei),ni=Xa(er,ti,Nt),ri=Ar(Xe),oi=Rr(Xe),_i=Mr(Or,an,Qa,ni,Jn,yr(ri,Za),oi),Ei=()=>Tr(Xe),yi=async e=>{Jn.push(await vr(e))};export{_i as MediaRecorder,Ei as isSupported,yi as register};
//# sourceMappingURL=module-94200622.js.map
