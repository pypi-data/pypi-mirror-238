import{p as N,u as O}from"./index-806c9b86.js";import"./Index-b65c66ac.js";/* empty css                                                   */const{SvelteComponent:P,append:C,attr:c,binding_callbacks:Q,bubble:b,create_slot:R,detach:V,element:T,get_all_dirty_from_scope:X,get_slot_changes:Y,init:Z,insert:x,listen:o,prevent_default:y,run_all:$,safe_not_equal:ee,space:ne,stop_propagation:w,toggle_class:g,transition_in:te,transition_out:ie,update_slot_base:le}=window.__gradio__svelte__internal,{createEventDispatcher:re,tick:ae,getContext:de}=window.__gradio__svelte__internal;function ue(t){let n,l,a,h,s,f,r,k,v;const m=t[16].default,d=R(m,t,t[15],null);return{c(){n=T("button"),d&&d.c(),l=ne(),a=T("input"),c(a,"type","file"),c(a,"accept",t[0]),a.multiple=h=t[4]==="multiple"||void 0,c(a,"webkitdirectory",s=t[4]==="directory"||void 0),c(a,"mozdirectory",f=t[4]==="directory"||void 0),c(a,"class","svelte-13vmdoh"),c(n,"class","svelte-13vmdoh"),g(n,"hidden",t[5]),g(n,"center",t[2]),g(n,"boundedheight",t[1]),g(n,"flex",t[3])},m(i,u){x(i,n,u),d&&d.m(n,null),C(n,l),C(n,a),t[24](a),r=!0,k||(v=[o(a,"change",t[9]),o(n,"drag",w(y(t[17]))),o(n,"dragstart",w(y(t[18]))),o(n,"dragend",w(y(t[19]))),o(n,"dragover",w(y(t[20]))),o(n,"dragenter",w(y(t[21]))),o(n,"dragleave",w(y(t[22]))),o(n,"drop",w(y(t[23]))),o(n,"click",t[6]),o(n,"drop",t[10]),o(n,"dragenter",t[8]),o(n,"dragleave",t[8])],k=!0)},p(i,[u]){d&&d.p&&(!r||u&32768)&&le(d,m,i,i[15],r?Y(m,i[15],u,null):X(i[15]),null),(!r||u&1)&&c(a,"accept",i[0]),(!r||u&16&&h!==(h=i[4]==="multiple"||void 0))&&(a.multiple=h),(!r||u&16&&s!==(s=i[4]==="directory"||void 0))&&c(a,"webkitdirectory",s),(!r||u&16&&f!==(f=i[4]==="directory"||void 0))&&c(a,"mozdirectory",f),(!r||u&32)&&g(n,"hidden",i[5]),(!r||u&4)&&g(n,"center",i[2]),(!r||u&2)&&g(n,"boundedheight",i[1]),(!r||u&8)&&g(n,"flex",i[3])},i(i){r||(te(d,i),r=!0)},o(i){ie(d,i),r=!1},d(i){i&&V(n),d&&d.d(i),t[24](null),k=!1,$(v)}}}function oe(t,n){return!t||t==="*"?!0:t.endsWith("/*")?n.startsWith(t.slice(0,-1)):t===n}function fe(t,n,l){let{$$slots:a={},$$scope:h}=n,{filetype:s=null}=n,{dragging:f=!1}=n,{boundedheight:r=!0}=n,{center:k=!0}=n,{flex:v=!0}=n,{file_count:m="single"}=n,{disable_click:d=!1}=n,{root:i}=n,{hidden:u=!1}=n;const U=de("upload_files");let p;const F=re();function W(){l(11,f=!f)}function q(){d||(l(7,p.value="",p),p.click())}async function E(e){await ae();const _=await O(e,i,U);return F("load",m==="single"?_?.[0]:_),_||[]}async function z(e){if(!e.length)return;let _=e.map(A=>new File([A],A.name)),D=await N(_);return await E(D)}async function I(e){const _=e.target;_.files&&await z(Array.from(_.files))}async function S(e){if(l(11,f=!1),!e.dataTransfer?.files)return;const _=Array.from(e.dataTransfer.files).filter(D=>oe(s,D.type)?!0:(F("error",`Invalid file type only ${s} allowed.`),!1));await z(_)}function j(e){b.call(this,t,e)}function B(e){b.call(this,t,e)}function G(e){b.call(this,t,e)}function H(e){b.call(this,t,e)}function J(e){b.call(this,t,e)}function K(e){b.call(this,t,e)}function L(e){b.call(this,t,e)}function M(e){Q[e?"unshift":"push"](()=>{p=e,l(7,p)})}return t.$$set=e=>{"filetype"in e&&l(0,s=e.filetype),"dragging"in e&&l(11,f=e.dragging),"boundedheight"in e&&l(1,r=e.boundedheight),"center"in e&&l(2,k=e.center),"flex"in e&&l(3,v=e.flex),"file_count"in e&&l(4,m=e.file_count),"disable_click"in e&&l(12,d=e.disable_click),"root"in e&&l(13,i=e.root),"hidden"in e&&l(5,u=e.hidden),"$$scope"in e&&l(15,h=e.$$scope)},[s,r,k,v,m,u,q,p,W,I,S,f,d,i,z,h,a,j,B,G,H,J,K,L,M]}class ge extends P{constructor(n){super(),Z(this,n,fe,ue,ee,{filetype:0,dragging:11,boundedheight:1,center:2,flex:3,file_count:4,disable_click:12,root:13,hidden:5,open_file_upload:6,load_files:14})}get open_file_upload(){return this.$$.ctx[6]}get load_files(){return this.$$.ctx[14]}}export{ge as U};
//# sourceMappingURL=Upload-4ace7e8f.js.map
