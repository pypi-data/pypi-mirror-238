import{U as gn}from"./Upload-4ace7e8f.js";import{U as en,M as bn}from"./ModifyUpload-6a3fcb74.js";import{B as tn}from"./Button-a5a40815.js";import{B as nn}from"./BlockLabel-bd7b6ddd.js";import{S as ln}from"./Index-b65c66ac.js";import{a as pn,U as wn}from"./UploadText-a75e6f1d.js";import{W as vn}from"./ImageUploader-5e0d37ce.js";/* empty css                                              */import{l as kn,t as yn,V as En,p as Vt,a as Tn}from"./Example-90e76bcc.js";import{E as oo,b as ro}from"./Example-90e76bcc.js";import{T as Sn,P as Vn,a as qn}from"./Trim-78ec077e.js";import{p as Cn,u as Dn,n as qt}from"./index-806c9b86.js";import{I as Mn}from"./IconButton-fa43e5dd.js";import{E as Rn}from"./Empty-ae6d3cf5.js";import{S as Bn}from"./ShareButton-18ac5378.js";import{D as Ln}from"./Download-696bd40c.js";import{u as Nn}from"./utils-c3e3db58.js";/* empty css                                                   */import"./Clear-2c7bae91.js";import"./Image-eaba773f.js";import"./DropdownArrow-45178513.js";import"./file-url-d32e654f.js";import"./svelte/svelte.js";const{SvelteComponent:Pn,append:In,attr:ee,detach:Un,init:An,insert:Hn,noop:ct,safe_not_equal:Xn,svg_element:Ct}=window.__gradio__svelte__internal;function zn(l){let e,n;return{c(){e=Ct("svg"),n=Ct("path"),ee(n,"d","M8 3H5a2 2 0 0 0-2 2v3m18 0V5a2 2 0 0 0-2-2h-3m0 18h3a2 2 0 0 0 2-2v-3M3 16v3a2 2 0 0 0 2 2h3"),ee(e,"xmlns","http://www.w3.org/2000/svg"),ee(e,"width","100%"),ee(e,"height","100%"),ee(e,"viewBox","0 0 24 24"),ee(e,"fill","none"),ee(e,"stroke","currentColor"),ee(e,"stroke-width","1.5"),ee(e,"stroke-linecap","round"),ee(e,"stroke-linejoin","round")},m(t,i){Hn(t,e,i),In(e,n)},p:ct,i:ct,o:ct,d(t){t&&Un(e)}}}class Fn extends Pn{constructor(e){super(),An(this,e,null,zn,Xn,{})}}const{SvelteComponent:jn,append:Dt,attr:U,detach:On,init:Wn,insert:Jn,noop:dt,safe_not_equal:Gn,svg_element:mt}=window.__gradio__svelte__internal;function Kn(l){let e,n,t;return{c(){e=mt("svg"),n=mt("polygon"),t=mt("rect"),U(n,"points","23 7 16 12 23 17 23 7"),U(t,"x","1"),U(t,"y","5"),U(t,"width","15"),U(t,"height","14"),U(t,"rx","2"),U(t,"ry","2"),U(e,"xmlns","http://www.w3.org/2000/svg"),U(e,"width","100%"),U(e,"height","100%"),U(e,"viewBox","0 0 24 24"),U(e,"fill","none"),U(e,"stroke","currentColor"),U(e,"stroke-width","1.5"),U(e,"stroke-linecap","round"),U(e,"stroke-linejoin","round"),U(e,"class","feather feather-video")},m(i,r){Jn(i,e,r),Dt(e,n),Dt(e,t)},p:dt,i:dt,o:dt,d(i){i&&On(e)}}}let at=class extends jn{constructor(e){super(),Wn(this,e,null,Kn,Gn,{})}};const{SvelteComponent:Qn,append:Ee,attr:J,destroy_block:Yn,detach:st,element:ge,ensure_array_like:Mt,init:Zn,insert:ut,listen:Te,noop:pt,run_all:$n,safe_not_equal:xn,set_style:ue,space:ht,src_url_equal:Rt,update_keyed_each:el}=window.__gradio__svelte__internal,{onMount:Bt,onDestroy:tl}=window.__gradio__svelte__internal;function Lt(l,e,n){const t=l.slice();return t[20]=e[n],t[22]=n,t}function nl(l){let e,n,t,i,r,o=[],s=new Map,a,_,u,d,f=Mt(l[1]);const c=m=>m[22];for(let m=0;m<f.length;m+=1){let h=Lt(l,f,m),E=c(h);s.set(E,o[m]=Nt(E,h))}return{c(){e=ge("div"),n=ge("button"),t=ht(),i=ge("div"),r=ht();for(let m=0;m<o.length;m+=1)o[m].c();a=ht(),_=ge("button"),J(n,"class","handle left svelte-1wi8on7"),ue(n,"left",l[2]+"%"),J(i,"class","opaque-layer svelte-1wi8on7"),ue(i,"left",l[2]+"%"),ue(i,"right",100-l[3]+"%"),J(_,"class","handle right svelte-1wi8on7"),ue(_,"left",l[3]+"%"),J(e,"id","timeline"),J(e,"class","thumbnail-wrapper svelte-1wi8on7")},m(m,h){ut(m,e,h),Ee(e,n),Ee(e,t),Ee(e,i),Ee(e,r);for(let E=0;E<o.length;E+=1)o[E]&&o[E].m(e,null);Ee(e,a),Ee(e,_),u||(d=[Te(n,"mousedown",l[10]),Te(n,"blur",l[5]),Te(n,"keydown",l[11]),Te(_,"mousedown",l[12]),Te(_,"blur",l[5]),Te(_,"keydown",l[13])],u=!0)},p(m,h){h&4&&ue(n,"left",m[2]+"%"),h&4&&ue(i,"left",m[2]+"%"),h&8&&ue(i,"right",100-m[3]+"%"),h&2&&(f=Mt(m[1]),o=el(o,h,c,1,m,f,s,e,Yn,Nt,a,Lt)),h&8&&ue(_,"left",m[3]+"%")},d(m){m&&st(e);for(let h=0;h<o.length;h+=1)o[h].d();u=!1,$n(d)}}}function ll(l){let e;return{c(){e=ge("div"),e.innerHTML='<span aria-label="loading timeline" class="loader svelte-1wi8on7"></span>',J(e,"class","load-wrap svelte-1wi8on7")},m(n,t){ut(n,e,t)},p:pt,d(n){n&&st(e)}}}function Nt(l,e){let n,t,i;return{key:l,first:null,c(){n=ge("img"),Rt(n.src,t=e[20])||J(n,"src",t),J(n,"alt",i=`frame-${e[22]}`),J(n,"draggable","false"),J(n,"class","svelte-1wi8on7"),this.first=n},m(r,o){ut(r,n,o)},p(r,o){e=r,o&2&&!Rt(n.src,t=e[20])&&J(n,"src",t),o&2&&i!==(i=`frame-${e[22]}`)&&J(n,"alt",i)},d(r){r&&st(n)}}}function il(l){let e;function n(r,o){return r[0]?ll:nl}let t=n(l),i=t(l);return{c(){e=ge("div"),i.c(),J(e,"class","container svelte-1wi8on7")},m(r,o){ut(r,e,o),i.m(e,null)},p(r,[o]){t===(t=n(r))&&i?i.p(r,o):(i.d(1),i=t(r),i&&(i.c(),i.m(e,null)))},i:pt,o:pt,d(r){r&&st(e),i.d()}}}let gt=10;function ol(l,e,n){let{videoElement:t}=e,{trimmedDuration:i}=e,{dragStart:r}=e,{dragEnd:o}=e,{loadingTimeline:s}=e,a=[],_,u=0,d=100,f=null;const c=w=>{f=w},m=()=>{f=null},h=(w,k)=>{if(f){const B=document.getElementById("timeline");if(!B)return;const T=B.getBoundingClientRect();let q=(w.clientX-T.left)/T.width*100;if(k?q=f==="left"?u+k:d+k:q=(w.clientX-T.left)/T.width*100,q=Math.max(0,Math.min(q,100)),f==="left"){n(2,u=Math.min(q,d));const D=u/100*_;n(6,t.currentTime=D,t),n(8,r=D)}else if(f==="right"){n(3,d=Math.max(q,u));const D=d/100*_;n(6,t.currentTime=D,t),n(9,o=D)}const W=u/100*_,N=d/100*_;n(7,i=N-W),n(2,u),n(3,d)}},E=w=>{if(f){const k=1/_*100;w.key==="ArrowLeft"?h({clientX:0},-k):w.key==="ArrowRight"&&h({clientX:0},k)}},S=()=>{const w=document.createElement("canvas"),k=w.getContext("2d");if(!k)return;w.width=t.videoWidth,w.height=t.videoHeight,k.drawImage(t,0,0,w.width,w.height);const B=w.toDataURL("image/jpeg",.7);n(1,a=[...a,B])};Bt(()=>{const w=()=>{_=t.duration;const k=_/gt;let B=0;const T=()=>{S(),B++,B<gt?n(6,t.currentTime+=k,t):t.removeEventListener("seeked",T)};t.addEventListener("seeked",T),n(6,t.currentTime=0,t)};t.readyState>=1?w():t.addEventListener("loadedmetadata",w)}),tl(()=>{window.removeEventListener("mousemove",h),window.removeEventListener("mouseup",m),window.removeEventListener("keydown",E)}),Bt(()=>{window.addEventListener("mousemove",h),window.addEventListener("mouseup",m),window.addEventListener("keydown",E)});const X=()=>c("left"),R=w=>{(w.key==="ArrowLeft"||w.key=="ArrowRight")&&c("left")},I=()=>c("right"),g=w=>{(w.key==="ArrowLeft"||w.key=="ArrowRight")&&c("right")};return l.$$set=w=>{"videoElement"in w&&n(6,t=w.videoElement),"trimmedDuration"in w&&n(7,i=w.trimmedDuration),"dragStart"in w&&n(8,r=w.dragStart),"dragEnd"in w&&n(9,o=w.dragEnd),"loadingTimeline"in w&&n(0,s=w.loadingTimeline)},l.$$.update=()=>{l.$$.dirty&2&&n(0,s=a.length!==gt)},[s,a,u,d,c,m,t,i,r,o,X,R,I,g]}class rl extends Qn{constructor(e){super(),Zn(this,e,ol,il,xn,{videoElement:6,trimmedDuration:7,dragStart:8,dragEnd:9,loadingTimeline:0})}}const{SvelteComponent:al,add_flush_callback:Ke,append:Ve,attr:O,bind:Qe,binding_callbacks:Ye,check_outros:$e,create_component:kt,destroy_component:yt,detach:ne,element:le,empty:sl,group_outros:xe,init:ul,insert:ie,listen:ot,mount_component:Et,noop:wt,run_all:_l,safe_not_equal:fl,set_data:cl,space:et,text:dl,toggle_class:qe,transition_in:F,transition_out:Y}=window.__gradio__svelte__internal,{onMount:ml}=window.__gradio__svelte__internal;function Pt(l){let e,n,t,i,r,o,s;function a(c){l[14](c)}function _(c){l[15](c)}function u(c){l[16](c)}function d(c){l[17](c)}let f={videoElement:l[2]};return l[9]!==void 0&&(f.dragStart=l[9]),l[10]!==void 0&&(f.dragEnd=l[10]),l[7]!==void 0&&(f.trimmedDuration=l[7]),l[11]!==void 0&&(f.loadingTimeline=l[11]),n=new rl({props:f}),Ye.push(()=>Qe(n,"dragStart",a)),Ye.push(()=>Qe(n,"dragEnd",_)),Ye.push(()=>Qe(n,"trimmedDuration",u)),Ye.push(()=>Qe(n,"loadingTimeline",d)),{c(){e=le("div"),kt(n.$$.fragment),O(e,"class","timeline-wrapper svelte-sxyn79")},m(c,m){ie(c,e,m),Et(n,e,null),s=!0},p(c,m){const h={};m&4&&(h.videoElement=c[2]),!t&&m&512&&(t=!0,h.dragStart=c[9],Ke(()=>t=!1)),!i&&m&1024&&(i=!0,h.dragEnd=c[10],Ke(()=>i=!1)),!r&&m&128&&(r=!0,h.trimmedDuration=c[7],Ke(()=>r=!1)),!o&&m&2048&&(o=!0,h.loadingTimeline=c[11],Ke(()=>o=!1)),n.$set(h)},i(c){s||(F(n.$$.fragment,c),s=!0)},o(c){Y(n.$$.fragment,c),s=!1},d(c){c&&ne(e),yt(n)}}}function hl(l){let e;return{c(){e=le("div"),O(e,"class","svelte-sxyn79")},m(n,t){ie(n,e,t)},p:wt,d(n){n&&ne(e)}}}function gl(l){let e,n=l[12](l[7])+"",t;return{c(){e=le("time"),t=dl(n),O(e,"aria-label","duration of selected region in seconds"),O(e,"class","svelte-sxyn79"),qe(e,"hidden",l[11])},m(i,r){ie(i,e,r),Ve(e,t)},p(i,r){r&128&&n!==(n=i[12](i[7])+"")&&cl(t,n),r&2048&&qe(e,"hidden",i[11])},d(i){i&&ne(e)}}}function It(l){let e,n,t,i,r;return n=new en({}),{c(){e=le("button"),kt(n.$$.fragment),O(e,"class","action icon svelte-sxyn79"),e.disabled=l[1],O(e,"aria-label","Reset video to initial value")},m(o,s){ie(o,e,s),Et(n,e,null),t=!0,i||(r=ot(e,"click",l[18]),i=!0)},p(o,s){(!t||s&2)&&(e.disabled=o[1])},i(o){t||(F(n.$$.fragment,o),t=!0)},o(o){Y(n.$$.fragment,o),t=!1},d(o){o&&ne(e),yt(n),i=!1,r()}}}function Ut(l){let e,n,t,i;const r=[pl,bl],o=[];function s(a,_){return a[0]===""?0:1}return e=s(l),n=o[e]=r[e](l),{c(){n.c(),t=sl()},m(a,_){o[e].m(a,_),ie(a,t,_),i=!0},p(a,_){let u=e;e=s(a),e===u?o[e].p(a,_):(xe(),Y(o[u],1,1,()=>{o[u]=null}),$e(),n=o[e],n?n.p(a,_):(n=o[e]=r[e](a),n.c()),F(n,1),n.m(t.parentNode,t))},i(a){i||(F(n),i=!0)},o(a){Y(n),i=!1},d(a){a&&ne(t),o[e].d(a)}}}function bl(l){let e,n,t,i,r;return{c(){e=le("button"),e.textContent="Trim",n=et(),t=le("button"),t.textContent="Cancel",O(e,"class","text-button svelte-sxyn79"),qe(e,"hidden",l[11]),O(t,"class","text-button svelte-sxyn79"),qe(t,"hidden",l[11])},m(o,s){ie(o,e,s),ie(o,n,s),ie(o,t,s),i||(r=[ot(e,"click",l[19]),ot(t,"click",l[13])],i=!0)},p(o,s){s&2048&&qe(e,"hidden",o[11]),s&2048&&qe(t,"hidden",o[11])},i:wt,o:wt,d(o){o&&(ne(e),ne(n),ne(t)),i=!1,_l(r)}}}function pl(l){let e,n,t,i,r;return n=new Sn({}),{c(){e=le("button"),kt(n.$$.fragment),e.disabled=l[1],O(e,"class","action icon svelte-sxyn79"),O(e,"aria-label","Trim video to selection")},m(o,s){ie(o,e,s),Et(n,e,null),t=!0,i||(r=ot(e,"click",l[13]),i=!0)},p(o,s){(!t||s&2)&&(e.disabled=o[1])},i(o){t||(F(n.$$.fragment,o),t=!0)},o(o){Y(n.$$.fragment,o),t=!1},d(o){o&&ne(e),yt(n),i=!1,r()}}}function wl(l){let e,n,t,i,r,o,s,a=l[0]==="edit"&&Pt(l);function _(m,h){return m[0]==="edit"&&m[7]!==null?gl:hl}let u=_(l),d=u(l),f=l[3]&&l[0]===""&&It(l),c=l[4]&&Ut(l);return{c(){e=le("div"),a&&a.c(),n=et(),t=le("div"),d.c(),i=et(),r=le("div"),f&&f.c(),o=et(),c&&c.c(),O(r,"class","settings-wrapper svelte-sxyn79"),O(t,"class","controls svelte-sxyn79"),O(t,"data-testid","waveform-controls"),O(e,"class","container svelte-sxyn79")},m(m,h){ie(m,e,h),a&&a.m(e,null),Ve(e,n),Ve(e,t),d.m(t,null),Ve(t,i),Ve(t,r),f&&f.m(r,null),Ve(r,o),c&&c.m(r,null),s=!0},p(m,[h]){m[0]==="edit"?a?(a.p(m,h),h&1&&F(a,1)):(a=Pt(m),a.c(),F(a,1),a.m(e,n)):a&&(xe(),Y(a,1,1,()=>{a=null}),$e()),u===(u=_(m))&&d?d.p(m,h):(d.d(1),d=u(m),d&&(d.c(),d.m(t,i))),m[3]&&m[0]===""?f?(f.p(m,h),h&9&&F(f,1)):(f=It(m),f.c(),F(f,1),f.m(r,o)):f&&(xe(),Y(f,1,1,()=>{f=null}),$e()),m[4]?c?(c.p(m,h),h&16&&F(c,1)):(c=Ut(m),c.c(),F(c,1),c.m(r,null)):c&&(xe(),Y(c,1,1,()=>{c=null}),$e())},i(m){s||(F(a),F(f),F(c),s=!0)},o(m){Y(a),Y(f),Y(c),s=!1},d(m){m&&ne(e),a&&a.d(),d.d(),f&&f.d(),c&&c.d()}}}function vl(l,e,n){let{videoElement:t}=e,{showRedo:i=!1}=e,{interactive:r=!0}=e,{mode:o=""}=e,{handle_reset_value:s}=e,{handle_trim_video:a}=e,{processingVideo:_=!1}=e,u;ml(async()=>{n(8,u=await kn())});const d=k=>{const B=Math.floor(k/60),q=`0${Math.round(k)%60}`.slice(-2);return`${B}:${q}`};let f=null,c=0,m=0,h=!1;const E=()=>{o==="edit"?(n(0,o=""),n(7,f=t.duration)):n(0,o="edit")};function S(k){c=k,n(9,c)}function X(k){m=k,n(10,m)}function R(k){f=k,n(7,f),n(0,o),n(2,t)}function I(k){h=k,n(11,h)}const g=()=>{s(),n(0,o="")},w=()=>{n(0,o=""),n(1,_=!0),yn(u,c,m,t).then(k=>{a(k)}).then(()=>{n(1,_=!1)})};return l.$$set=k=>{"videoElement"in k&&n(2,t=k.videoElement),"showRedo"in k&&n(3,i=k.showRedo),"interactive"in k&&n(4,r=k.interactive),"mode"in k&&n(0,o=k.mode),"handle_reset_value"in k&&n(5,s=k.handle_reset_value),"handle_trim_video"in k&&n(6,a=k.handle_trim_video),"processingVideo"in k&&n(1,_=k.processingVideo)},l.$$.update=()=>{l.$$.dirty&133&&o==="edit"&&f===null&&t&&n(7,f=t.duration)},[o,_,t,i,r,s,a,f,u,c,m,h,d,E,S,X,R,I,g,w]}class kl extends al{constructor(e){super(),ul(this,e,vl,wl,fl,{videoElement:2,showRedo:3,interactive:4,mode:0,handle_reset_value:5,handle_trim_video:6,processingVideo:1})}}const{SvelteComponent:yl,add_flush_callback:Ie,append:z,attr:A,bind:Ue,binding_callbacks:Ae,bubble:At,check_outros:Ht,create_component:Ce,destroy_component:De,detach:tt,element:re,empty:El,group_outros:Xt,init:Tl,insert:nt,listen:ce,mount_component:Me,prevent_default:zt,run_all:Sl,safe_not_equal:Vl,set_data:Ft,space:Pe,src_url_equal:jt,stop_propagation:ql,text:bt,toggle_class:Ot,transition_in:Q,transition_out:te}=window.__gradio__svelte__internal,{createEventDispatcher:Cl}=window.__gradio__svelte__internal;function Dl(l){let e,n;return{c(){e=re("track"),A(e,"kind","captions"),jt(e.src,n=l[1])||A(e,"src",n),e.default=!0},m(t,i){nt(t,e,i)},p(t,i){i&2&&!jt(e.src,n=t[1])&&A(e,"src",n)},d(t){t&&tt(e)}}}function Ml(l){let e,n;return e=new Vn({}),{c(){Ce(e.$$.fragment)},m(t,i){Me(e,t,i),n=!0},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){De(e,t)}}}function Rl(l){let e,n;return e=new qn({}),{c(){Ce(e.$$.fragment)},m(t,i){Me(e,t,i),n=!0},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){De(e,t)}}}function Bl(l){let e,n;return e=new en({}),{c(){Ce(e.$$.fragment)},m(t,i){Me(e,t,i),n=!0},i(t){n||(Q(e.$$.fragment,t),n=!0)},o(t){te(e.$$.fragment,t),n=!1},d(t){De(e,t)}}}function Wt(l){let e,n,t;function i(o){l[26](o)}let r={videoElement:l[10],showRedo:!0,handle_trim_video:l[16],handle_reset_value:l[6]};return l[11]!==void 0&&(r.processingVideo=l[11]),e=new kl({props:r}),Ae.push(()=>Ue(e,"processingVideo",i)),{c(){Ce(e.$$.fragment)},m(o,s){Me(e,o,s),t=!0},p(o,s){const a={};s&1024&&(a.videoElement=o[10]),s&64&&(a.handle_reset_value=o[6]),!n&&s&2048&&(n=!0,a.processingVideo=o[11],Ie(()=>n=!1)),e.$set(a)},i(o){t||(Q(e.$$.fragment,o),t=!0)},o(o){te(e.$$.fragment,o),t=!1},d(o){De(e,o)}}}function Ll(l){let e,n,t,i,r,o,s,a,_,u,d,f,c,m,h,E=Ze(l[7])+"",S,X,R=Ze(l[8])+"",I,g,w,k,B,T,q,W,N,D,x,p;function G(y){l[20](y)}function b(y){l[21](y)}function _e(y){l[22](y)}function ft(y){l[23](y)}let fe={src:l[0],preload:"auto",autoplay:l[3],"data-testid":`${l[4]}-player`,processingVideo:l[11],$$slots:{default:[Dl]},$$scope:{ctx:l}};l[7]!==void 0&&(fe.currentTime=l[7]),l[8]!==void 0&&(fe.duration=l[8]),l[9]!==void 0&&(fe.paused=l[9]),l[10]!==void 0&&(fe.node=l[10]),t=new En({props:fe}),Ae.push(()=>Ue(t,"currentTime",G)),Ae.push(()=>Ue(t,"duration",b)),Ae.push(()=>Ue(t,"paused",_e)),Ae.push(()=>Ue(t,"node",ft)),t.$on("click",l[13]),t.$on("play",l[24]),t.$on("pause",l[25]),t.$on("ended",l[15]);const Je=[Bl,Rl,Ml],oe=[];function Ge(y,V){return y[7]===y[8]?0:y[9]?1:2}f=Ge(l),c=oe[f]=Je[f](l),q=new Fn({});let M=l[5]&&Wt(l);return{c(){e=re("div"),n=re("div"),Ce(t.$$.fragment),a=Pe(),_=re("div"),u=re("div"),d=re("span"),c.c(),m=Pe(),h=re("span"),S=bt(E),X=bt(" / "),I=bt(R),g=Pe(),w=re("progress"),B=Pe(),T=re("div"),Ce(q.$$.fragment),W=Pe(),M&&M.c(),N=El(),A(n,"class","svelte-1i3qraf"),Ot(n,"mirror",l[2]),A(d,"role","button"),A(d,"tabindex","0"),A(d,"class","icon svelte-1i3qraf"),A(d,"aria-label","play-pause-replay-button"),A(h,"class","time svelte-1i3qraf"),w.value=k=l[7]/l[8]||0,A(w,"class","svelte-1i3qraf"),A(T,"role","button"),A(T,"tabindex","0"),A(T,"class","icon svelte-1i3qraf"),A(T,"aria-label","full-screen"),A(u,"class","inner svelte-1i3qraf"),A(_,"class","controls svelte-1i3qraf"),A(e,"class","wrap svelte-1i3qraf")},m(y,V){nt(y,e,V),z(e,n),Me(t,n,null),z(e,a),z(e,_),z(_,u),z(u,d),oe[f].m(d,null),z(u,m),z(u,h),z(h,S),z(h,X),z(h,I),z(u,g),z(u,w),z(u,B),z(u,T),Me(q,T,null),nt(y,W,V),M&&M.m(y,V),nt(y,N,V),D=!0,x||(p=[ce(d,"click",l[13]),ce(d,"keydown",l[13]),ce(w,"mousemove",l[12]),ce(w,"touchmove",zt(l[12])),ce(w,"click",ql(zt(l[14]))),ce(T,"click",l[17]),ce(T,"keypress",l[17])],x=!0)},p(y,[V]){const K={};V&1&&(K.src=y[0]),V&8&&(K.autoplay=y[3]),V&16&&(K["data-testid"]=`${y[4]}-player`),V&2048&&(K.processingVideo=y[11]),V&268435458&&(K.$$scope={dirty:V,ctx:y}),!i&&V&128&&(i=!0,K.currentTime=y[7],Ie(()=>i=!1)),!r&&V&256&&(r=!0,K.duration=y[8],Ie(()=>r=!1)),!o&&V&512&&(o=!0,K.paused=y[9],Ie(()=>o=!1)),!s&&V&1024&&(s=!0,K.node=y[10],Ie(()=>s=!1)),t.$set(K),(!D||V&4)&&Ot(n,"mirror",y[2]);let Ne=f;f=Ge(y),f!==Ne&&(Xt(),te(oe[Ne],1,1,()=>{oe[Ne]=null}),Ht(),c=oe[f],c||(c=oe[f]=Je[f](y),c.c()),Q(c,1),c.m(d,null)),(!D||V&128)&&E!==(E=Ze(y[7])+"")&&Ft(S,E),(!D||V&256)&&R!==(R=Ze(y[8])+"")&&Ft(I,R),(!D||V&384&&k!==(k=y[7]/y[8]||0))&&(w.value=k),y[5]?M?(M.p(y,V),V&32&&Q(M,1)):(M=Wt(y),M.c(),Q(M,1),M.m(N.parentNode,N)):M&&(Xt(),te(M,1,1,()=>{M=null}),Ht())},i(y){D||(Q(t.$$.fragment,y),Q(c),Q(q.$$.fragment,y),Q(M),D=!0)},o(y){te(t.$$.fragment,y),te(c),te(q.$$.fragment,y),te(M),D=!1},d(y){y&&(tt(e),tt(W),tt(N)),De(t),oe[f].d(),De(q),M&&M.d(y),x=!1,Sl(p)}}}function Ze(l){if(isNaN(l)||!isFinite(l))return"...";const e=Math.floor(l/60);let n=Math.floor(l%60);return n<10&&(n=`0${n}`),`${e}:${n}`}function Nl(l,e,n){let{root:t=""}=e,{src:i}=e,{subtitle:r=null}=e,{mirror:o}=e,{autoplay:s}=e,{label:a="test"}=e,{interactive:_=!1}=e,{handle_change:u=()=>{}}=e,{handle_reset_value:d=()=>{}}=e;const f=Cl();let c=0,m,h=!0,E,S=!1;function X(p){if(!m)return;if(p.type==="click"){I(p);return}if(p.type!=="touchmove"&&!(p.buttons&1))return;const G=p.type==="touchmove"?p.touches[0].clientX:p.clientX,{left:b,right:_e}=p.currentTarget.getBoundingClientRect();n(7,c=m*(G-b)/(_e-b))}async function R(){document.fullscreenElement!=E&&(E.currentTime>0&&!E.paused&&!E.ended&&E.readyState>E.HAVE_CURRENT_DATA?E.pause():await E.play())}function I(p){const{left:G,right:b}=p.currentTarget.getBoundingClientRect();n(7,c=m*(p.clientX-G)/(b-G))}function g(){f("stop"),f("end")}const w=async p=>{let G=new File([p],"video.mp4");const b=await Cn([G]);let _e=(await Dn(b,t))?.filter(Boolean)[0];u(_e)};function k(){E.requestFullscreen()}function B(p){c=p,n(7,c)}function T(p){m=p,n(8,m)}function q(p){h=p,n(9,h)}function W(p){E=p,n(10,E)}function N(p){At.call(this,l,p)}function D(p){At.call(this,l,p)}function x(p){S=p,n(11,S)}return l.$$set=p=>{"root"in p&&n(18,t=p.root),"src"in p&&n(0,i=p.src),"subtitle"in p&&n(1,r=p.subtitle),"mirror"in p&&n(2,o=p.mirror),"autoplay"in p&&n(3,s=p.autoplay),"label"in p&&n(4,a=p.label),"interactive"in p&&n(5,_=p.interactive),"handle_change"in p&&n(19,u=p.handle_change),"handle_reset_value"in p&&n(6,d=p.handle_reset_value)},[i,r,o,s,a,_,d,c,m,h,E,S,X,R,I,g,w,k,t,u,B,T,q,W,N,D,x]}class Pl extends yl{constructor(e){super(),Tl(this,e,Nl,Ll,Vl,{root:18,src:0,subtitle:1,mirror:2,autoplay:3,label:4,interactive:5,handle_change:19,handle_reset_value:6})}}const on=Pl;const{SvelteComponent:Il,add_flush_callback:Ul,append:He,attr:me,bind:Al,binding_callbacks:Hl,bubble:de,check_outros:ze,create_component:be,create_slot:Xl,destroy_component:pe,detach:Z,element:Xe,empty:_t,get_all_dirty_from_scope:zl,get_slot_changes:Fl,group_outros:Fe,init:jl,insert:$,listen:Jt,mount_component:we,noop:rt,run_all:Ol,safe_not_equal:rn,set_data:Gt,space:je,text:Kt,transition_in:L,transition_out:P,update_slot_base:Wl}=window.__gradio__svelte__internal,{createEventDispatcher:Jl}=window.__gradio__svelte__internal;function Gl(l){let e,n,t,i,r,o,s;e=new bn({props:{i18n:l[10]}}),e.$on("clear",l[15]);const a=[Yl,Ql],_=[];function u(d,f){return t==null&&(t=!!Tn()),t?0:d[0].size?1:-1}return~(i=u(l))&&(r=_[i]=a[i](l)),{c(){be(e.$$.fragment),n=je(),r&&r.c(),o=_t()},m(d,f){we(e,d,f),$(d,n,f),~i&&_[i].m(d,f),$(d,o,f),s=!0},p(d,f){const c={};f&1024&&(c.i18n=d[10]),e.$set(c);let m=i;i=u(d),i===m?~i&&_[i].p(d,f):(r&&(Fe(),P(_[m],1,1,()=>{_[m]=null}),ze()),~i?(r=_[i],r?r.p(d,f):(r=_[i]=a[i](d),r.c()),L(r,1),r.m(o.parentNode,o)):r=null)},i(d){s||(L(e.$$.fragment,d),L(r),s=!0)},o(d){P(e.$$.fragment,d),P(r),s=!1},d(d){d&&(Z(n),Z(o)),pe(e,d),~i&&_[i].d(d)}}}function Kl(l){let e,n,t,i;const r=[$l,Zl],o=[];function s(a,_){return a[1]==="upload"?0:a[1]==="webcam"?1:-1}return~(e=s(l))&&(n=o[e]=r[e](l)),{c(){n&&n.c(),t=_t()},m(a,_){~e&&o[e].m(a,_),$(a,t,_),i=!0},p(a,_){let u=e;e=s(a),e===u?~e&&o[e].p(a,_):(n&&(Fe(),P(o[u],1,1,()=>{o[u]=null}),ze()),~e?(n=o[e],n?n.p(a,_):(n=o[e]=r[e](a),n.c()),L(n,1),n.m(t.parentNode,t)):n=null)},i(a){i||(L(n),i=!0)},o(a){P(n),i=!1},d(a){a&&Z(t),~e&&o[e].d(a)}}}function Ql(l){let e,n=(l[0].orig_name||l[0].url)+"",t,i,r,o=Vt(l[0].size)+"",s;return{c(){e=Xe("div"),t=Kt(n),i=je(),r=Xe("div"),s=Kt(o),me(e,"class","file-name svelte-1ipnm0o"),me(r,"class","file-size svelte-1ipnm0o")},m(a,_){$(a,e,_),He(e,t),$(a,i,_),$(a,r,_),He(r,s)},p(a,_){_&1&&n!==(n=(a[0].orig_name||a[0].url)+"")&&Gt(t,n),_&1&&o!==(o=Vt(a[0].size)+"")&&Gt(s,o)},i:rt,o:rt,d(a){a&&(Z(e),Z(i),Z(r))}}}function Yl(l){let e=l[0]?.url,n,t,i=Qt(l);return{c(){i.c(),n=_t()},m(r,o){i.m(r,o),$(r,n,o),t=!0},p(r,o){o&1&&rn(e,e=r[0]?.url)?(Fe(),P(i,1,1,rt),ze(),i=Qt(r),i.c(),L(i,1),i.m(n.parentNode,n)):i.p(r,o)},i(r){t||(L(i),t=!0)},o(r){P(i),t=!1},d(r){r&&Z(n),i.d(r)}}}function Qt(l){let e,n;return e=new on({props:{root:l[9],interactive:!0,autoplay:l[8],src:l[0].url,subtitle:l[2]?.url,mirror:l[6]&&l[1]==="webcam",label:l[4],handle_change:l[16],handle_reset_value:l[11]}}),e.$on("play",l[23]),e.$on("pause",l[24]),e.$on("stop",l[25]),e.$on("end",l[26]),{c(){be(e.$$.fragment)},m(t,i){we(e,t,i),n=!0},p(t,i){const r={};i&512&&(r.root=t[9]),i&256&&(r.autoplay=t[8]),i&1&&(r.src=t[0].url),i&4&&(r.subtitle=t[2]?.url),i&66&&(r.mirror=t[6]&&t[1]==="webcam"),i&16&&(r.label=t[4]),i&2048&&(r.handle_reset_value=t[11]),e.$set(r)},i(t){n||(L(e.$$.fragment,t),n=!0)},o(t){P(e.$$.fragment,t),n=!1},d(t){pe(e,t)}}}function Zl(l){let e,n;return e=new vn({props:{mirror_webcam:l[6],include_audio:l[7],mode:"video",i18n:l[10]}}),e.$on("error",l[19]),e.$on("capture",l[20]),e.$on("start_recording",l[21]),e.$on("stop_recording",l[22]),{c(){be(e.$$.fragment)},m(t,i){we(e,t,i),n=!0},p(t,i){const r={};i&64&&(r.mirror_webcam=t[6]),i&128&&(r.include_audio=t[7]),i&1024&&(r.i18n=t[10]),e.$set(r)},i(t){n||(L(e.$$.fragment,t),n=!0)},o(t){P(e.$$.fragment,t),n=!1},d(t){pe(e,t)}}}function $l(l){let e,n,t;function i(o){l[18](o)}let r={filetype:"video/x-m4v,video/*",root:l[9],$$slots:{default:[xl]},$$scope:{ctx:l}};return l[12]!==void 0&&(r.dragging=l[12]),e=new gn({props:r}),Hl.push(()=>Al(e,"dragging",i)),e.$on("load",l[14]),{c(){be(e.$$.fragment)},m(o,s){we(e,o,s),t=!0},p(o,s){const a={};s&512&&(a.root=o[9]),s&536870912&&(a.$$scope={dirty:s,ctx:o}),!n&&s&4096&&(n=!0,a.dragging=o[12],Ul(()=>n=!1)),e.$set(a)},i(o){t||(L(e.$$.fragment,o),t=!0)},o(o){P(e.$$.fragment,o),t=!1},d(o){pe(e,o)}}}function xl(l){let e;const n=l[17].default,t=Xl(n,l,l[29],null);return{c(){t&&t.c()},m(i,r){t&&t.m(i,r),e=!0},p(i,r){t&&t.p&&(!e||r&536870912)&&Wl(t,n,i,i[29],e?Fl(n,i[29],r,null):zl(i[29]),null)},i(i){e||(L(t,i),e=!0)},o(i){P(t,i),e=!1},d(i){t&&t.d(i)}}}function Yt(l){let e,n,t,i,r,o,s,a,_;return t=new pn({}),o=new at({}),{c(){e=Xe("span"),n=Xe("button"),be(t.$$.fragment),i=je(),r=Xe("button"),be(o.$$.fragment),me(n,"class","icon svelte-1ipnm0o"),me(n,"aria-label","Upload video"),me(r,"class","icon svelte-1ipnm0o"),me(r,"aria-label","Record audio"),me(e,"class","source-selection svelte-1ipnm0o")},m(u,d){$(u,e,d),He(e,n),we(t,n,null),He(e,i),He(e,r),we(o,r,null),s=!0,a||(_=[Jt(n,"click",l[27]),Jt(r,"click",l[28])],a=!0)},p:rt,i(u){s||(L(t.$$.fragment,u),L(o.$$.fragment,u),s=!0)},o(u){P(t.$$.fragment,u),P(o.$$.fragment,u),s=!1},d(u){u&&Z(e),pe(t),pe(o),a=!1,Ol(_)}}}function ei(l){let e,n,t,i,r,o,s;e=new nn({props:{show_label:l[5],Icon:at,label:l[4]||"Video"}});const a=[Kl,Gl],_=[];function u(f,c){return f[0]===null||f[0].url===void 0?0:1}t=u(l),i=_[t]=a[t](l);let d=l[3].length>1&&Yt(l);return{c(){be(e.$$.fragment),n=je(),i.c(),r=je(),d&&d.c(),o=_t()},m(f,c){we(e,f,c),$(f,n,c),_[t].m(f,c),$(f,r,c),d&&d.m(f,c),$(f,o,c),s=!0},p(f,[c]){const m={};c&32&&(m.show_label=f[5]),c&16&&(m.label=f[4]||"Video"),e.$set(m);let h=t;t=u(f),t===h?_[t].p(f,c):(Fe(),P(_[h],1,1,()=>{_[h]=null}),ze(),i=_[t],i?i.p(f,c):(i=_[t]=a[t](f),i.c()),L(i,1),i.m(r.parentNode,r)),f[3].length>1?d?(d.p(f,c),c&8&&L(d,1)):(d=Yt(f),d.c(),L(d,1),d.m(o.parentNode,o)):d&&(Fe(),P(d,1,1,()=>{d=null}),ze())},i(f){s||(L(e.$$.fragment,f),L(i),L(d),s=!0)},o(f){P(e.$$.fragment,f),P(i),P(d),s=!1},d(f){f&&(Z(n),Z(r),Z(o)),pe(e,f),_[t].d(f),d&&d.d(f)}}}function ti(l,e,n){let{$$slots:t={},$$scope:i}=e,{value:r=null}=e,{subtitle:o=null}=e,{sources:s=["webcam","upload"]}=e,{label:a=void 0}=e,{show_label:_=!0}=e,{mirror_webcam:u=!1}=e,{include_audio:d}=e,{autoplay:f}=e,{root:c}=e,{i18n:m}=e,{active_source:h="webcam"}=e,{handle_reset_value:E=()=>{}}=e;const S=Jl();function X({detail:b}){n(0,r=b),S("change",b),S("upload",b)}function R(){n(0,r=null),n(1,h=s[0]),S("change",null),S("clear")}function I(b){S("change",b)}let g=!1;function w(b){g=b,n(12,g)}function k(b){de.call(this,l,b)}const B=()=>S("change");function T(b){de.call(this,l,b)}function q(b){de.call(this,l,b)}function W(b){de.call(this,l,b)}function N(b){de.call(this,l,b)}function D(b){de.call(this,l,b)}function x(b){de.call(this,l,b)}const p=()=>{R(),n(1,h="upload")},G=()=>{R(),n(1,h="webcam")};return l.$$set=b=>{"value"in b&&n(0,r=b.value),"subtitle"in b&&n(2,o=b.subtitle),"sources"in b&&n(3,s=b.sources),"label"in b&&n(4,a=b.label),"show_label"in b&&n(5,_=b.show_label),"mirror_webcam"in b&&n(6,u=b.mirror_webcam),"include_audio"in b&&n(7,d=b.include_audio),"autoplay"in b&&n(8,f=b.autoplay),"root"in b&&n(9,c=b.root),"i18n"in b&&n(10,m=b.i18n),"active_source"in b&&n(1,h=b.active_source),"handle_reset_value"in b&&n(11,E=b.handle_reset_value),"$$scope"in b&&n(29,i=b.$$scope)},l.$$.update=()=>{l.$$.dirty&4096&&S("drag",g)},[r,h,o,s,a,_,u,d,f,c,m,E,g,S,X,R,I,t,w,k,B,T,q,W,N,D,x,p,G,i]}class ni extends Il{constructor(e){super(),jl(this,e,ti,ei,rn,{value:0,subtitle:2,sources:3,label:4,show_label:5,mirror_webcam:6,include_audio:7,autoplay:8,root:9,i18n:10,active_source:1,handle_reset_value:11})}}const li=ni;const{SvelteComponent:ii,append:oi,attr:he,bubble:Se,check_outros:lt,create_component:Re,destroy_component:Be,detach:Oe,element:an,empty:ri,group_outros:it,init:ai,insert:We,mount_component:Le,noop:si,safe_not_equal:sn,space:vt,transition_in:H,transition_out:j}=window.__gradio__svelte__internal,{createEventDispatcher:ui,afterUpdate:_i,tick:fi}=window.__gradio__svelte__internal;function ci(l){let e=l[0].url,n,t,i,r,o=Zt(l),s=l[6]&&$t(l),a=l[5]&&xt(l);return{c(){o.c(),n=vt(),t=an("div"),s&&s.c(),i=vt(),a&&a.c(),he(t,"class","icon-buttons svelte-rvdo70"),he(t,"data-testid","download-div")},m(_,u){o.m(_,u),We(_,n,u),We(_,t,u),s&&s.m(t,null),oi(t,i),a&&a.m(t,null),r=!0},p(_,u){u&1&&sn(e,e=_[0].url)?(it(),j(o,1,1,si),lt(),o=Zt(_),o.c(),H(o,1),o.m(n.parentNode,n)):o.p(_,u),_[6]?s?(s.p(_,u),u&64&&H(s,1)):(s=$t(_),s.c(),H(s,1),s.m(t,i)):s&&(it(),j(s,1,1,()=>{s=null}),lt()),_[5]?a?(a.p(_,u),u&32&&H(a,1)):(a=xt(_),a.c(),H(a,1),a.m(t,null)):a&&(it(),j(a,1,1,()=>{a=null}),lt())},i(_){r||(H(o),H(s),H(a),r=!0)},o(_){j(o),j(s),j(a),r=!1},d(_){_&&(Oe(n),Oe(t)),o.d(_),s&&s.d(),a&&a.d()}}}function di(l){let e,n;return e=new Rn({props:{unpadded_box:!0,size:"large",$$slots:{default:[mi]},$$scope:{ctx:l}}}),{c(){Re(e.$$.fragment)},m(t,i){Le(e,t,i),n=!0},p(t,i){const r={};i&262144&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){j(e.$$.fragment,t),n=!1},d(t){Be(e,t)}}}function Zt(l){let e,n;return e=new on({props:{src:l[0].url,subtitle:l[1]?.url,autoplay:l[4],mirror:!1,label:l[2],interactive:!1}}),e.$on("play",l[8]),e.$on("pause",l[9]),e.$on("stop",l[10]),e.$on("end",l[11]),{c(){Re(e.$$.fragment)},m(t,i){Le(e,t,i),n=!0},p(t,i){const r={};i&1&&(r.src=t[0].url),i&2&&(r.subtitle=t[1]?.url),i&16&&(r.autoplay=t[4]),i&4&&(r.label=t[2]),e.$set(r)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){j(e.$$.fragment,t),n=!1},d(t){Be(e,t)}}}function $t(l){let e,n,t,i,r;return n=new Mn({props:{Icon:Ln,label:"Download"}}),{c(){e=an("a"),Re(n.$$.fragment),he(e,"href",t=l[0].url),he(e,"target",window.__is_colab__?"_blank":null),he(e,"download",i=l[0].orig_name||l[0].path)},m(o,s){We(o,e,s),Le(n,e,null),r=!0},p(o,s){(!r||s&1&&t!==(t=o[0].url))&&he(e,"href",t),(!r||s&1&&i!==(i=o[0].orig_name||o[0].path))&&he(e,"download",i)},i(o){r||(H(n.$$.fragment,o),r=!0)},o(o){j(n.$$.fragment,o),r=!1},d(o){o&&Oe(e),Be(n)}}}function xt(l){let e,n;return e=new Bn({props:{i18n:l[7],value:l[0],formatter:l[12]}}),e.$on("error",l[13]),e.$on("share",l[14]),{c(){Re(e.$$.fragment)},m(t,i){Le(e,t,i),n=!0},p(t,i){const r={};i&128&&(r.i18n=t[7]),i&1&&(r.value=t[0]),e.$set(r)},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){j(e.$$.fragment,t),n=!1},d(t){Be(e,t)}}}function mi(l){let e,n;return e=new at({}),{c(){Re(e.$$.fragment)},m(t,i){Le(e,t,i),n=!0},i(t){n||(H(e.$$.fragment,t),n=!0)},o(t){j(e.$$.fragment,t),n=!1},d(t){Be(e,t)}}}function hi(l){let e,n,t,i,r,o;e=new nn({props:{show_label:l[3],Icon:at,label:l[2]||"Video"}});const s=[di,ci],a=[];function _(u,d){return u[0]===null||u[0].url===void 0?0:1}return t=_(l),i=a[t]=s[t](l),{c(){Re(e.$$.fragment),n=vt(),i.c(),r=ri()},m(u,d){Le(e,u,d),We(u,n,d),a[t].m(u,d),We(u,r,d),o=!0},p(u,[d]){const f={};d&8&&(f.show_label=u[3]),d&4&&(f.label=u[2]||"Video"),e.$set(f);let c=t;t=_(u),t===c?a[t].p(u,d):(it(),j(a[c],1,1,()=>{a[c]=null}),lt(),i=a[t],i?i.p(u,d):(i=a[t]=s[t](u),i.c()),H(i,1),i.m(r.parentNode,r))},i(u){o||(H(e.$$.fragment,u),H(i),o=!0)},o(u){j(e.$$.fragment,u),j(i),o=!1},d(u){u&&(Oe(n),Oe(r)),Be(e,u),a[t].d(u)}}}function gi(l,e,n){let{value:t=null}=e,{subtitle:i=null}=e,{label:r=void 0}=e,{show_label:o=!0}=e,{autoplay:s}=e,{show_share_button:a=!0}=e,{show_download_button:_=!0}=e,{i18n:u}=e,d=null,f=null;const c=ui();_i(async()=>{t!==d&&i!==f&&f!==null&&(d=t,n(0,t=null),await fi(),n(0,t=d)),d=t,f=i});function m(g){Se.call(this,l,g)}function h(g){Se.call(this,l,g)}function E(g){Se.call(this,l,g)}function S(g){Se.call(this,l,g)}const X=async g=>g?await Nn(g.data,"url"):"";function R(g){Se.call(this,l,g)}function I(g){Se.call(this,l,g)}return l.$$set=g=>{"value"in g&&n(0,t=g.value),"subtitle"in g&&n(1,i=g.subtitle),"label"in g&&n(2,r=g.label),"show_label"in g&&n(3,o=g.show_label),"autoplay"in g&&n(4,s=g.autoplay),"show_share_button"in g&&n(5,a=g.show_share_button),"show_download_button"in g&&n(6,_=g.show_download_button),"i18n"in g&&n(7,u=g.i18n)},l.$$.update=()=>{l.$$.dirty&1&&t&&c("change",t)},[t,i,r,o,s,a,_,u,m,h,E,S,X,R,I]}class bi extends ii{constructor(e){super(),ai(this,e,gi,hi,sn,{value:0,subtitle:1,label:2,show_label:3,autoplay:4,show_share_button:5,show_download_button:6,i18n:7})}}const pi=bi,{SvelteComponent:wi,assign:un,check_outros:vi,create_component:ve,destroy_component:ke,detach:Tt,empty:ki,flush:C,get_spread_object:_n,get_spread_update:fn,group_outros:yi,init:Ei,insert:St,mount_component:ye,safe_not_equal:Ti,space:cn,transition_in:ae,transition_out:se}=window.__gradio__svelte__internal;function Si(l){let e,n;return e=new tn({props:{visible:l[4],variant:l[0]===null&&l[22]==="upload"?"dashed":"solid",border_mode:l[23]?"focus":"base",padding:!1,elem_id:l[2],elem_classes:l[3],height:l[9],width:l[10],container:l[11],scale:l[12],min_width:l[13],allow_overflow:!1,$$slots:{default:[Ci]},$$scope:{ctx:l}}}),{c(){ve(e.$$.fragment)},m(t,i){ye(e,t,i),n=!0},p(t,i){const r={};i[0]&16&&(r.visible=t[4]),i[0]&4194305&&(r.variant=t[0]===null&&t[22]==="upload"?"dashed":"solid"),i[0]&8388608&&(r.border_mode=t[23]?"focus":"base"),i[0]&4&&(r.elem_id=t[2]),i[0]&8&&(r.elem_classes=t[3]),i[0]&512&&(r.height=t[9]),i[0]&1024&&(r.width=t[10]),i[0]&2048&&(r.container=t[11]),i[0]&4096&&(r.scale=t[12]),i[0]&8192&&(r.min_width=t[13]),i[0]&16597474|i[1]&16384&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(ae(e.$$.fragment,t),n=!0)},o(t){se(e.$$.fragment,t),n=!1},d(t){ke(e,t)}}}function Vi(l){let e,n;return e=new tn({props:{visible:l[4],variant:l[0]===null&&l[22]==="upload"?"dashed":"solid",border_mode:l[23]?"focus":"base",padding:!1,elem_id:l[2],elem_classes:l[3],height:l[9],width:l[10],container:l[11],scale:l[12],min_width:l[13],allow_overflow:!1,$$slots:{default:[Di]},$$scope:{ctx:l}}}),{c(){ve(e.$$.fragment)},m(t,i){ye(e,t,i),n=!0},p(t,i){const r={};i[0]&16&&(r.visible=t[4]),i[0]&4194305&&(r.variant=t[0]===null&&t[22]==="upload"?"dashed":"solid"),i[0]&8388608&&(r.border_mode=t[23]?"focus":"base"),i[0]&4&&(r.elem_id=t[2]),i[0]&8&&(r.elem_classes=t[3]),i[0]&512&&(r.height=t[9]),i[0]&1024&&(r.width=t[10]),i[0]&2048&&(r.container=t[11]),i[0]&4096&&(r.scale=t[12]),i[0]&8192&&(r.min_width=t[13]),i[0]&3260706|i[1]&16384&&(r.$$scope={dirty:i,ctx:t}),e.$set(r)},i(t){n||(ae(e.$$.fragment,t),n=!0)},o(t){se(e.$$.fragment,t),n=!1},d(t){ke(e,t)}}}function qi(l){let e,n;return e=new wn({props:{i18n:l[16].i18n,type:"video"}}),{c(){ve(e.$$.fragment)},m(t,i){ye(e,t,i),n=!0},p(t,i){const r={};i[0]&65536&&(r.i18n=t[16].i18n),e.$set(r)},i(t){n||(ae(e.$$.fragment,t),n=!0)},o(t){se(e.$$.fragment,t),n=!1},d(t){ke(e,t)}}}function Ci(l){let e,n,t,i;const r=[{autoscroll:l[16].autoscroll},{i18n:l[16].i18n},l[1]];let o={};for(let s=0;s<r.length;s+=1)o=un(o,r[s]);return e=new ln({props:o}),t=new li({props:{value:l[20],subtitle:l[21],label:l[5],show_label:l[8],sources:l[6],active_source:l[22],mirror_webcam:l[18],include_audio:l[19],autoplay:l[14],root:l[7],handle_reset_value:l[24],i18n:l[16].i18n,$$slots:{default:[qi]},$$scope:{ctx:l}}}),t.$on("change",l[25]),t.$on("drag",l[35]),t.$on("error",l[36]),t.$on("clear",l[37]),t.$on("play",l[38]),t.$on("pause",l[39]),t.$on("upload",l[40]),t.$on("stop",l[41]),t.$on("end",l[42]),t.$on("start_recording",l[43]),t.$on("stop_recording",l[44]),{c(){ve(e.$$.fragment),n=cn(),ve(t.$$.fragment)},m(s,a){ye(e,s,a),St(s,n,a),ye(t,s,a),i=!0},p(s,a){const _=a[0]&65538?fn(r,[a[0]&65536&&{autoscroll:s[16].autoscroll},a[0]&65536&&{i18n:s[16].i18n},a[0]&2&&_n(s[1])]):{};e.$set(_);const u={};a[0]&1048576&&(u.value=s[20]),a[0]&2097152&&(u.subtitle=s[21]),a[0]&32&&(u.label=s[5]),a[0]&256&&(u.show_label=s[8]),a[0]&64&&(u.sources=s[6]),a[0]&4194304&&(u.active_source=s[22]),a[0]&262144&&(u.mirror_webcam=s[18]),a[0]&524288&&(u.include_audio=s[19]),a[0]&16384&&(u.autoplay=s[14]),a[0]&128&&(u.root=s[7]),a[0]&65536&&(u.i18n=s[16].i18n),a[0]&65536|a[1]&16384&&(u.$$scope={dirty:a,ctx:s}),t.$set(u)},i(s){i||(ae(e.$$.fragment,s),ae(t.$$.fragment,s),i=!0)},o(s){se(e.$$.fragment,s),se(t.$$.fragment,s),i=!1},d(s){s&&Tt(n),ke(e,s),ke(t,s)}}}function Di(l){let e,n,t,i;const r=[{autoscroll:l[16].autoscroll},{i18n:l[16].i18n},l[1]];let o={};for(let s=0;s<r.length;s+=1)o=un(o,r[s]);return e=new ln({props:o}),t=new pi({props:{value:l[20],subtitle:l[21],label:l[5],show_label:l[8],autoplay:l[14],show_share_button:l[15],show_download_button:!0,i18n:l[16].i18n}}),t.$on("play",l[29]),t.$on("pause",l[30]),t.$on("stop",l[31]),t.$on("end",l[32]),t.$on("share",l[33]),t.$on("error",l[34]),{c(){ve(e.$$.fragment),n=cn(),ve(t.$$.fragment)},m(s,a){ye(e,s,a),St(s,n,a),ye(t,s,a),i=!0},p(s,a){const _=a[0]&65538?fn(r,[a[0]&65536&&{autoscroll:s[16].autoscroll},a[0]&65536&&{i18n:s[16].i18n},a[0]&2&&_n(s[1])]):{};e.$set(_);const u={};a[0]&1048576&&(u.value=s[20]),a[0]&2097152&&(u.subtitle=s[21]),a[0]&32&&(u.label=s[5]),a[0]&256&&(u.show_label=s[8]),a[0]&16384&&(u.autoplay=s[14]),a[0]&32768&&(u.show_share_button=s[15]),a[0]&65536&&(u.i18n=s[16].i18n),t.$set(u)},i(s){i||(ae(e.$$.fragment,s),ae(t.$$.fragment,s),i=!0)},o(s){se(e.$$.fragment,s),se(t.$$.fragment,s),i=!1},d(s){s&&Tt(n),ke(e,s),ke(t,s)}}}function Mi(l){let e,n,t,i;const r=[Vi,Si],o=[];function s(a,_){return a[17]?1:0}return e=s(l),n=o[e]=r[e](l),{c(){n.c(),t=ki()},m(a,_){o[e].m(a,_),St(a,t,_),i=!0},p(a,_){let u=e;e=s(a),e===u?o[e].p(a,_):(yi(),se(o[u],1,1,()=>{o[u]=null}),vi(),n=o[e],n?n.p(a,_):(n=o[e]=r[e](a),n.c()),ae(n,1),n.m(t.parentNode,t))},i(a){i||(ae(n),i=!0)},o(a){se(n),i=!1},d(a){a&&Tt(t),o[e].d(a)}}}function Ri(l,e,n){let{elem_id:t=""}=e,{elem_classes:i=[]}=e,{visible:r=!0}=e,{value:o=null}=e,s=null,{label:a}=e,{sources:_}=e,{root:u}=e,{proxy_url:d}=e,{show_label:f}=e,{loading_status:c}=e,{height:m}=e,{width:h}=e,{container:E=!1}=e,{scale:S=null}=e,{min_width:X=void 0}=e,{autoplay:R=!1}=e,{show_share_button:I=!0}=e,{gradio:g}=e,{interactive:w}=e,{mirror_webcam:k}=e,{include_audio:B}=e,T=null,q=null,W,N=o;const D=()=>{N===null||o===N||n(0,o=N)};let x=!1;function p({detail:v}){v!=null?n(0,o={video:v,subtitles:null}):n(0,o=null)}const G=()=>g.dispatch("play"),b=()=>g.dispatch("pause"),_e=()=>g.dispatch("stop"),ft=()=>g.dispatch("end"),fe=({detail:v})=>g.dispatch("share",v),Je=({detail:v})=>g.dispatch("error",v),oe=({detail:v})=>n(23,x=v),Ge=({detail:v})=>{n(1,c=c||{}),n(1,c.status="error",c),n(1,c.message=v,c)},M=()=>g.dispatch("clear"),y=()=>g.dispatch("play"),V=()=>g.dispatch("pause"),K=()=>g.dispatch("upload"),Ne=()=>g.dispatch("stop"),dn=()=>g.dispatch("end"),mn=()=>g.dispatch("start_recording"),hn=()=>g.dispatch("stop_recording");return l.$$set=v=>{"elem_id"in v&&n(2,t=v.elem_id),"elem_classes"in v&&n(3,i=v.elem_classes),"visible"in v&&n(4,r=v.visible),"value"in v&&n(0,o=v.value),"label"in v&&n(5,a=v.label),"sources"in v&&n(6,_=v.sources),"root"in v&&n(7,u=v.root),"proxy_url"in v&&n(26,d=v.proxy_url),"show_label"in v&&n(8,f=v.show_label),"loading_status"in v&&n(1,c=v.loading_status),"height"in v&&n(9,m=v.height),"width"in v&&n(10,h=v.width),"container"in v&&n(11,E=v.container),"scale"in v&&n(12,S=v.scale),"min_width"in v&&n(13,X=v.min_width),"autoplay"in v&&n(14,R=v.autoplay),"show_share_button"in v&&n(15,I=v.show_share_button),"gradio"in v&&n(16,g=v.gradio),"interactive"in v&&n(17,w=v.interactive),"mirror_webcam"in v&&n(18,k=v.mirror_webcam),"include_audio"in v&&n(19,B=v.include_audio)},l.$$.update=()=>{l.$$.dirty[0]&268435457&&o&&N===null&&n(28,N=o),l.$$.dirty[0]&64&&_&&(_.length>1?n(22,W="upload"):n(22,W=_[0])),l.$$.dirty[0]&67108993&&(o!=null?(n(20,T=qt(o.video,u,d)),n(21,q=qt(o.subtitles,u,d))):(n(20,T=null),n(21,q=null))),l.$$.dirty[0]&134283265&&JSON.stringify(o)!==JSON.stringify(s)&&(n(27,s=o),g.dispatch("change"))},[o,c,t,i,r,a,_,u,f,m,h,E,S,X,R,I,g,w,k,B,T,q,W,x,D,p,d,s,N,G,b,_e,ft,fe,Je,oe,Ge,M,y,V,K,Ne,dn,mn,hn]}class Bi extends wi{constructor(e){super(),Ei(this,e,Ri,Mi,Ti,{elem_id:2,elem_classes:3,visible:4,value:0,label:5,sources:6,root:7,proxy_url:26,show_label:8,loading_status:1,height:9,width:10,container:11,scale:12,min_width:13,autoplay:14,show_share_button:15,gradio:16,interactive:17,mirror_webcam:18,include_audio:19},null,[-1,-1])}get elem_id(){return this.$$.ctx[2]}set elem_id(e){this.$$set({elem_id:e}),C()}get elem_classes(){return this.$$.ctx[3]}set elem_classes(e){this.$$set({elem_classes:e}),C()}get visible(){return this.$$.ctx[4]}set visible(e){this.$$set({visible:e}),C()}get value(){return this.$$.ctx[0]}set value(e){this.$$set({value:e}),C()}get label(){return this.$$.ctx[5]}set label(e){this.$$set({label:e}),C()}get sources(){return this.$$.ctx[6]}set sources(e){this.$$set({sources:e}),C()}get root(){return this.$$.ctx[7]}set root(e){this.$$set({root:e}),C()}get proxy_url(){return this.$$.ctx[26]}set proxy_url(e){this.$$set({proxy_url:e}),C()}get show_label(){return this.$$.ctx[8]}set show_label(e){this.$$set({show_label:e}),C()}get loading_status(){return this.$$.ctx[1]}set loading_status(e){this.$$set({loading_status:e}),C()}get height(){return this.$$.ctx[9]}set height(e){this.$$set({height:e}),C()}get width(){return this.$$.ctx[10]}set width(e){this.$$set({width:e}),C()}get container(){return this.$$.ctx[11]}set container(e){this.$$set({container:e}),C()}get scale(){return this.$$.ctx[12]}set scale(e){this.$$set({scale:e}),C()}get min_width(){return this.$$.ctx[13]}set min_width(e){this.$$set({min_width:e}),C()}get autoplay(){return this.$$.ctx[14]}set autoplay(e){this.$$set({autoplay:e}),C()}get show_share_button(){return this.$$.ctx[15]}set show_share_button(e){this.$$set({show_share_button:e}),C()}get gradio(){return this.$$.ctx[16]}set gradio(e){this.$$set({gradio:e}),C()}get interactive(){return this.$$.ctx[17]}set interactive(e){this.$$set({interactive:e}),C()}get mirror_webcam(){return this.$$.ctx[18]}set mirror_webcam(e){this.$$set({mirror_webcam:e}),C()}get include_audio(){return this.$$.ctx[19]}set include_audio(e){this.$$set({include_audio:e}),C()}}const no=Bi;export{oo as BaseExample,li as BaseInteractiveVideo,on as BasePlayer,pi as BaseStaticVideo,no as default,ro as loaded,Tn as playable,Vt as prettyBytes};
//# sourceMappingURL=index-bd4301a3.js.map
