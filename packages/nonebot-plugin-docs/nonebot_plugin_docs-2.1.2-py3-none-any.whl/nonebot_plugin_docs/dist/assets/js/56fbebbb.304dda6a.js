"use strict";(self.webpackChunknonebot=self.webpackChunknonebot||[]).push([[367],{7817:(e,t,a)=>{a.d(t,{Z:()=>u});var n=a(27378),r=a(38944),o=a(99213),s=a(75484);const l={note:{className:"note",iconComponent:function(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"admonition-icon",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))},label:n.createElement(o.Z,{id:"theme.admonition.note",description:"The default label used for the Note admonition (:::note)"},"note")},tip:{className:"success",iconComponent:function(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"admonition-icon",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"}))},label:n.createElement(o.Z,{id:"theme.admonition.tip",description:"The default label used for the Tip admonition (:::tip)"},"tip")},danger:{className:"error",iconComponent:function(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"admonition-icon",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"}))},label:n.createElement(o.Z,{id:"theme.admonition.danger",description:"The default label used for the Danger admonition (:::danger)"},"danger")},info:{className:"info",iconComponent:function(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"admonition-icon",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 16h-1v-4h-1m1-4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"}))},label:n.createElement(o.Z,{id:"theme.admonition.info",description:"The default label used for the Info admonition (:::info)"},"info")},caution:{className:"warning",iconComponent:function(){return n.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",className:"admonition-icon",viewBox:"0 0 24 24"},n.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-3L13.732 4c-.77-1.333-2.694-1.333-3.464 0L3.34 16c-.77 1.333.192 3 1.732 3z"}))},label:n.createElement(o.Z,{id:"theme.admonition.caution",description:"The default label used for the Caution admonition (:::caution)"},"caution")}},c={secondary:"note",important:"info",success:"tip",warning:"caution"};function i(e){const{mdxAdmonitionTitle:t,rest:a}=function(e){const t=n.Children.toArray(e),a=t.find((e=>n.isValidElement(e)&&"mdxAdmonitionTitle"===e.props?.mdxType)),r=n.createElement(n.Fragment,null,t.filter((e=>e!==a)));return{mdxAdmonitionTitle:a,rest:r}}(e.children);return{...e,title:e.title??t,children:a}}function u(e){const{children:t,type:a,title:o,icon:u}=i(e),m=function(e){const t=c[e]??e,a=l[t];return a||(console.warn(`No admonition config found for admonition type "${t}". Using Info as fallback.`),l.info)}(a),d=o??m.label,{iconComponent:p}=m,h=u??n.createElement(p,null);return n.createElement("div",{className:(0,r.Z)("admonition",m.className&&`admonition-${m.className}`,s.k.common.admonition,s.k.common.admonitionType(e.type))},n.createElement("div",null,n.createElement("div",{className:"admonition-title"},h,n.createElement("span",null,d)),n.createElement("div",{className:"admonition-content"},t)))}},37582:(e,t,a)=>{a.d(t,{Z:()=>i});var n=a(27378),r=a(38944),o=a(99213),s=a(75484),l=a(69169),c=a(92739);function i(){const{shown:e,scrollToTop:t}=(0,l.a)({threshold:300});return n.createElement("button",{"aria-label":(0,o.I)({id:"theme.BackToTopButton.buttonAriaLabel",message:"Scroll back to top",description:"The ARIA label for the back to top button"}),className:(0,r.Z)("back-to-top",e&&"shown",s.k.common.backToTopButton),type:"button",onClick:t},n.createElement("span",{className:"sr-only"},n.createElement(o.Z,{id:"theme.BackToTopButton.buttonAlt",description:"The alt message for the back to top button"},"Back to top")),n.createElement(c.G,{className:"h-6 w-6 fill-current",icon:["fas","chevron-up"]}))}},12440:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(27378),r=a(38944),o=a(92739);const s=7;function l(e){let{className:t,totalPages:a,currentPage:l,setPreviousPage:c,setNextPage:i,setPage:u,previousEnabled:m,nextEnabled:d}=e;const p=(0,n.useCallback)(((e,t)=>{const a=[];for(let n=e=e>0?e:1;n<=t;n++)a.push(n);return a}),[]),h=[],g=n.createElement(o.G,{icon:"ellipsis-h"}),f=s%2==0?1:0,E=Math.floor(s/2),b=a-E+f+1;if(l+=1,a<=s)h.push(...p(1,a));else if(l>E&&l<b){const e=l-E+2,t=l+E-2-f,n=e-1===1+1?2:g,r=t+1===a-1?t+1:g;h.push(1,n,...p(e,t),r,a)}else if(l===E){const e=l+E-1-f;h.push(...p(1,e),g,a)}else if(l===b){const e=l-E+1;h.push(1,g,...p(e,a))}else h.push(...p(1,E),g,...p(b,a));return n.createElement("nav",{className:(0,r.Z)("paginate-container",t),role:"navigation","aria-label":"Pagination Navigation"},n.createElement("button",{className:"paginate-button",onClick:c,disabled:!m},n.createElement(o.G,{icon:["fas","chevron-left"]})),n.createElement("ul",{className:"paginate-pager"},h.map(((e,t)=>n.createElement("li",{key:t,className:(0,r.Z)("paginate-button","number"!=typeof e&&"ellipsis",l===e&&"active"),onClick:()=>"number"==typeof e&&l!==e&&u(e-1)},e)))),n.createElement("button",{className:"paginate-button",onClick:i,disabled:!d},n.createElement(o.G,{icon:["fas","chevron-right"]})))}},80654:(e,t,a)=>{a.d(t,{Z:()=>u});var n=a(25773),r=a(27378),o=a(38944),s=a(81884),l=a(92739);function c(e,t,a){const n="#"===e.charAt(0)?e.substring(1,7):e;return.299*parseInt(n.substring(0,2),16)+.587*parseInt(n.substring(2,4),16)+.114*parseInt(n.substring(4,6),16)>186?a:t}function i(e){let{label:t,color:a,className:n,onClick:s}=e;return r.createElement("span",{className:(0,o.Z)("resource-tag",n),style:{backgroundColor:a,color:c(a,"#fff","#000")},onClick:s},t)}function u(e){let{resource:t,onClick:a,onTagClick:c,onAuthorClick:u,className:m}=e;const d=/^https:\/\/github.com\/[^/]+\/[^/]+/.test(t.homepage),p="plugin"===t.resourceType,h=p&&`https://registry.nonebot.dev/plugin/${t.project_link}:${t.module_name}`,g=`https://github.com/${t.author}`,f=`${g}.png?size=80`;return r.createElement("div",{className:(0,o.Z)("resource-card-container",a&&"resource-card-container-clickable",m),onClick:a},r.createElement("div",{className:"resource-card-header"},r.createElement("div",{className:"resource-card-header-title"},t.name,t.is_official&&r.createElement(l.G,{className:"resource-card-header-check",icon:["fas","circle-check"]})),r.createElement("div",{className:"resource-card-header-expand"},r.createElement(l.G,{icon:["fas","expand"]}))),r.createElement("div",{className:"resource-card-desc"},t.desc),r.createElement("div",{className:"resource-card-footer"},r.createElement("div",{className:"resource-card-footer-tags"},t.tags.map(((e,t)=>r.createElement(i,(0,n.Z)({className:"resource-card-footer-tag",key:t},e,{onClick:()=>c(e.label)}))))),r.createElement("div",{className:"divider resource-card-footer-divider"}),r.createElement("div",{className:"resource-card-footer-info"},r.createElement("div",{className:"resource-card-footer-group"},r.createElement(s.Z,{href:t.homepage},d?r.createElement(l.G,{className:"resource-card-footer-icon",icon:["fab","github"]}):r.createElement(l.G,{className:"resource-card-footer-icon",icon:["fas","link"]})),p&&r.createElement(s.Z,{href:h},r.createElement(l.G,{className:"resource-card-footer-icon",icon:["fas","cube"]}))),r.createElement("div",{className:"resource-card-footer-group"},r.createElement("div",{className:"avatar"},r.createElement("div",{className:"resource-card-footer-avatar"},r.createElement(s.Z,{href:g},r.createElement("img",{src:f,key:t.author})))),r.createElement("span",{className:"resource-card-footer-author",onClick:u},t.author)))))}},30442:(e,t,a)=>{a.d(t,{Z:()=>l});var n=a(27378),r=a(38944),o=a(99213),s=a(92739);function l(e){let{onChange:t,onSubmit:a,onBackspace:l,onClear:c,onTagClick:i,tags:u=[],className:m,placeholder:d,disabled:p=!1}=e;const h=(0,n.useRef)(null);return n.createElement("div",{className:(0,r.Z)("searcher-box",m)},n.createElement("div",{className:"searcher-container"},u.map(((e,t)=>n.createElement("div",{key:t,className:"badge badge-primary searcher-tag",onClick:()=>i(t)},e))),n.createElement("input",{ref:h,className:"searcher-input",placeholder:d??(0,o.I)({id:"theme.searcher.input.placeholder",description:"Search input placeholder",message:"\u641c\u7d22"}),onChange:e=>t(e.currentTarget.value),onKeyDown:e=>{switch(e.key){case"Enter":(e=>{a(e.currentTarget.value),e.currentTarget.value="",e.preventDefault()})(e);break;case"Escape":(e=>{e.currentTarget.value=""})(e);break;case"Backspace":(e=>{""===e.currentTarget.value&&(l(),e.preventDefault())})(e)}},disabled:p})),n.createElement("div",{className:"searcher-action",onClick:()=>{h.current&&(h.current.value="",h.current.focus()),c()}},n.createElement(s.G,{className:"searcher-action-icon search",icon:["fas","magnifying-glass"]}),n.createElement(s.G,{className:"searcher-action-icon close",icon:["fas","xmark"]})))}},99387:(e,t,a)=>{a.d(t,{Z:()=>E});var n=a(25773),r=a(27378),o=a(1123),s=a(45161),l=a(45688),c=a(31869);const i=(e,t)=>{const a=(0,c.eZ)("docusaurus-plugin-getsidebar",void 0,{failfast:!1});if(a)return a[t??l.m]?.loadedVersions.find((t=>t.versionName===e))},u=(e,t,a)=>{const n=i(e,a);if(n)return n.sidebars[t]};var m=a(22256),d=a(37582),p=a(35279),h=a(92784);const g="ecosystem";function f(e){let{title:t,children:a}=e;const n=u((0,s.lO)()[0].name,g);return r.createElement(h.Z,{hideTableOfContents:!0,reduceContentWidth:!1},r.createElement(m.uB,{items:n}),r.createElement("article",{className:"prose max-w-full"},r.createElement("h1",{className:"store-title"},t),a))}function E(e){let{title:t,...a}=e;return r.createElement(r.Fragment,null,r.createElement(o.d,{title:t}),r.createElement(p.Z,null,r.createElement(d.Z,null),r.createElement(f,(0,n.Z)({title:t},a))))}},59015:(e,t,a)=>{a.d(t,{Z:()=>c});var n=a(25773),r=a(27378),o=a(38944),s=a(92739);function l(e){let{label:t,icon:a,choices:n,onSubmit:o}=e;const[l,c]=(0,r.useState)(""),i=n?.filter((e=>e.toLowerCase().includes(l.toLowerCase())))?.slice(0,5),u=e=>{"Enter"===e.key&&(o(e.currentTarget.innerText),e.preventDefault())};return r.createElement("div",{className:"dropdown"},r.createElement("label",{className:"btn btn-sm btn-outline btn-primary no-animation",tabIndex:0},r.createElement(s.G,{icon:a}),t),r.createElement("div",{className:"dropdown-content store-toolbar-dropdown"},r.createElement("input",{type:"text",placeholder:"\u641c\u7d22",value:l,onChange:e=>c(e.target.value),onKeyDown:e=>{"Enter"===e.key&&(i&&i.length>0?o(i[0]):null===n&&o(l),e.preventDefault())},className:"input input-sm input-bordered w-full"}),i&&r.createElement("ul",{className:"menu menu-sm"},i.map(((e,t)=>r.createElement("li",{key:t,onClick:()=>o(e),onKeyDown:u},r.createElement("a",{tabIndex:0},e)))))))}function c(e){let{filters:t,action:a,className:c}=e;return t&&t.length>0||a?r.createElement("div",{className:(0,o.Z)("store-toolbar",c)},t&&t.length>0&&r.createElement("div",{className:"store-toolbar-filters"},t.map(((e,t)=>r.createElement(l,(0,n.Z)({key:t},e))))),a&&r.createElement("div",{className:"store-toolbar-action"},r.createElement("button",{className:"btn btn-sm btn-primary no-animation",onClick:a.onClick},r.createElement(s.G,{icon:a.icon}),a.label))):null}},28927:(e,t,a)=>{a.d(t,{Ac:()=>s,IA:()=>l,RQ:()=>o,SY:()=>c});var n=a(27378),r=a(99213);const o=e=>({type:"tag",id:`tag-${e}`,displayName:(0,r.I)({id:"pages.store.filter.tagDisplayName",description:"The display name of tag filter",message:"\u6807\u7b7e: {tag}"},{tag:e}),filter:t=>t.tags.map((e=>e.label)).includes(e)}),s=e=>({type:"author",id:`author-${e}`,displayName:(0,r.I)({id:"pages.store.filter.authorDisplayName",description:"The display name of author filter",message:"\u4f5c\u8005: {author}"},{author:e}),filter:t=>t.author===e}),l=e=>({type:"query",id:`query-${e}`,displayName:e,filter:t=>{if(!e)return!0;const a=e.toLowerCase(),n="plugin"===t.resourceType&&(t.module_name?.toLowerCase().includes(a)||t.project_link?.toLowerCase().includes(a)),r=t.name.toLowerCase().includes(a)||t.desc.toLowerCase().includes(a)||t.author.toLowerCase().includes(a)||t.tags.filter((e=>e.label.toLowerCase().includes(a))).length>0;return n||r}});function c(e){const[t,a]=(0,n.useState)([]),r=(0,n.useCallback)((e=>{t.some((t=>t.id===e.id))||a((t=>[...t,e]))}),[t,a]),o=(0,n.useCallback)((e=>{a((t=>t.filter((t=>"string"==typeof e?t.id!==e:t!==e))))}),[a]),s=(0,n.useCallback)((()=>function(e,t){return e.filter((e=>t.every((t=>t.filter(e)))))}(e,t)),[e,t]);return{filters:t,addFilter:r,removeFilter:o,filteredResources:s()}}},75799:(e,t,a)=>{a.d(t,{r:()=>o});var n=a(27378),r=a(28927);function o(e){const[t,a]=(0,n.useState)(null),{filters:o,addFilter:s,removeFilter:l,filteredResources:c}=(0,r.SY)(e),[i,u]=(0,n.useState)([]);(0,n.useEffect)((()=>{u(o.filter((e=>!(t&&e===t))))}),[o,t]);const m=(0,n.useCallback)((e=>{if(""===e)return t&&l(t),void a(null);const n=(0,r.IA)(e);t?.id!==n.id&&(t&&l(t),a(n),s(n))}),[t,a,s,l]),d=(0,n.useCallback)((()=>{a(null)}),[a]),p=(0,n.useCallback)((()=>{l(i[i.length-1])}),[l,i]),h=(0,n.useCallback)((()=>{i.forEach((e=>l(e)))}),[l,i]),g=(0,n.useCallback)((e=>{l(i[e])}),[l,i]);return{filteredResources:c,searcherTags:i.map((e=>e.displayName)),addFilter:s,onSearchQueryChange:m,onSearchQuerySubmit:d,onSearchBackspace:p,onSearchClear:h,onSearchTagClick:g}}},62434:(e,t,a)=>{async function n(e){const t=await fetch(`https://registry.nonebot.dev/${e}s.json`).catch((t=>{throw new Error(`Failed to fetch ${e}s: ${t}`)}));if(!t.ok)throw new Error(`Failed to fetch ${e}s: ${t.status} ${t.statusText}`);return(await t.json()).map((t=>({...t,resourceType:e})))}a.d(t,{J:()=>r,q:()=>n});const r=(0,a(99213).I)({id:"pages.store.loadFailed.title",message:"\u52a0\u8f7d\u5931\u8d25",description:"Title to display when loading content failed"})},34338:(e,t,a)=>{a.d(t,{S:()=>r});var n=a(28927);function r(e){let{resources:t,addFilter:a}=e;return{filters:[{label:"\u4f5c\u8005",icon:["fas","user"],choices:Array.from(new Set(t.map((e=>e.author)))),onSubmit:e=>{a((0,n.Ac)(e))}},{label:"\u6807\u7b7e",icon:["fas","tag"],choices:Array.from(new Set(t.flatMap((e=>e.tags.map((e=>e.label)))))),onSubmit:e=>{a((0,n.RQ)(e))}}]}}},83969:(e,t,a)=>{a.r(t),a.d(t,{default:()=>E});var n=a(27378),r=a(99213),o=a(22600),s=a(7817),l=a(12440),c=a(80654),i=a(30442),u=a(59015),m=a(28927),d=a(75799),p=a(62434),h=a(34338);function g(){const[e,t]=(0,n.useState)(null),a=e?.length??0,g=null===e,[f,E]=(0,n.useState)(null),{filteredResources:b,searcherTags:v,addFilter:k,onSearchQueryChange:N,onSearchQuerySubmit:C,onSearchBackspace:y,onSearchClear:w,onSearchTagClick:T}=(0,d.r)(e??[]),S=b.length,{startIndex:P,endIndex:I,totalPages:Z,currentPage:x,setNextPage:A,setPreviousPage:L,setPage:B,previousEnabled:G,nextEnabled:z}=(0,o.h0)({totalItems:b.length,initialPageSize:12}),_=b.slice(P,I+1);(0,n.useEffect)((()=>{(0,p.q)("bot").then(t).catch((e=>{E(e),console.error(e)}))}),[]);const{filters:M}=(0,h.S)({resources:e??[],addFilter:k}),$={label:"\u53d1\u5e03\u673a\u5668\u4eba",icon:["fas","plus"],onClick:()=>{window.open("https://github.com/nonebot/nonebot2/issues/new?template=bot_publish.yml&title=Bot%3A+%7Bname%7D&labels=Bot")}},F=(0,n.useCallback)((e=>{k((0,m.RQ)(e))}),[k]),R=(0,n.useCallback)((e=>{k((0,m.Ac)(e))}),[k]);return n.createElement(n.Fragment,null,n.createElement("p",{className:"store-description"},a===S?n.createElement(r.Z,{id:"pages.store.bot.info",description:"Bots info of the bot store page",values:{botCount:a}},"\u5f53\u524d\u5171\u6709 {botCount} \u4e2a\u673a\u5668\u4eba"):n.createElement(r.Z,{id:"pages.store.bot.searchInfo",description:"Bots search info of the bot store page",values:{botCount:a,filteredBotCount:S}},"\u5f53\u524d\u5171\u6709 {filteredBotCount} / {botCount} \u4e2a\u673a\u5668\u4eba")),n.createElement(i.Z,{className:"store-searcher not-prose",onChange:N,onSubmit:C,onBackspace:y,onClear:w,onTagClick:T,tags:v,disabled:g}),n.createElement(u.Z,{className:"not-prose",filters:M,action:$}),f?n.createElement(s.Z,{type:"caution",title:p.J},f.message):g?n.createElement("p",{className:"store-loading-container"},n.createElement("span",{className:"loading loading-dots loading-lg store-loading"})):n.createElement("div",{className:"store-container"},_.map(((e,t)=>n.createElement(c.Z,{key:t,className:"not-prose",resource:e,onTagClick:F,onAuthorClick:()=>R(e.author)})))),n.createElement(l.Z,{className:"not-prose",totalPages:Z,currentPage:x,setNextPage:A,setPreviousPage:L,setPage:B,nextEnabled:z,previousEnabled:G}))}var f=a(99387);function E(){const e=(0,r.I)({id:"pages.store.bot.title",message:"\u673a\u5668\u4eba\u5546\u5e97",description:"Title for the bot store page"});return n.createElement(f.Z,{title:e},n.createElement(g,null))}},22600:(e,t,a)=>{a.d(t,{h0:()=>g});var n=a(27378),r=e=>e>0,o=(e,t)=>e+1<t,s=(e,t)=>Math.ceil(e/t),l=(e,t)=>e*t,c=(e,t,a)=>{const n=e*(t+1);return n>a?a-1:n-1},i=(e,t)=>a=>Math.min(Math.max(a,0),s(e,t)-1),u=({totalItems:e,pageSize:t,currentPage:a})=>{const n=s(e,t);return{totalPages:n,startIndex:l(t,a),endIndex:c(t,a,e),previousEnabled:r(a),nextEnabled:o(a,n)}},m=e=>function(t,a){switch(a.type){case"SET_PAGE":return i(e.totalItems,e.pageSize)(a.page);case"NEXT_PAGE":return i(e.totalItems,e.pageSize)(t+1);case"PREVIOUS_PAGE":return i(e.totalItems,e.pageSize)(t-1);case"SET_PAGESIZE":return i(e.totalItems,a.pageSize)(a.nextPage??t);case"SET_TOTALITEMS":return i(a.totalItems,e.pageSize)(a.nextPage??t);default:return t}};function d(e,t){return"SET_TOTALITEMS"===t.type?t.totalItems:e}function p(e,t){return"SET_PAGESIZE"===t.type?t.pageSize:e}function h(e,t){return{currentPage:m(e)(e.currentPage,t),totalItems:d(e.totalItems,t),pageSize:p(e.pageSize,t)}}function g({totalItems:e=0,initialPage:t=0,initialPageSize:a=0}={}){const r={totalItems:e,pageSize:a,currentPage:t},[o,s]=(0,n.useReducer)(h,r),l=(0,n.useRef)(e);return l.current=e,(0,n.useEffect)((()=>()=>{"number"==typeof l.current&&e!==l.current&&s({type:"SET_TOTALITEMS",totalItems:l.current})}),[e]),{...o,...(0,n.useMemo)((()=>u(o)),[o]),setPage:(0,n.useCallback)((e=>{s({type:"SET_PAGE",page:e})}),[]),setNextPage:(0,n.useCallback)((()=>{s({type:"NEXT_PAGE"})}),[]),setPreviousPage:(0,n.useCallback)((()=>{s({type:"PREVIOUS_PAGE"})}),[]),setPageSize:(0,n.useCallback)(((e,t=0)=>{s({type:"SET_PAGESIZE",pageSize:e,nextPage:t})}),[])}}}}]);