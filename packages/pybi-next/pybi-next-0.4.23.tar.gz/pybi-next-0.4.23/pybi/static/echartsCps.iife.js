var echartsCps=function(p){"use strict";var Pe;const Se=typeof window<"u",Rt=e=>typeof e=="string",Nt=()=>{};Se&&((Pe=window==null?void 0:window.navigator)!=null&&Pe.userAgent)&&/iP(ad|hone|od)/.test(window.navigator.userAgent);function Dt(e){return typeof e=="function"?e():p.unref(e)}function Gt(e){return e}function Ie(e){return p.getCurrentScope()?(p.onScopeDispose(e),!0):!1}function jt(e,t=!0){p.getCurrentInstance()?p.onMounted(e):t?e():p.nextTick(e)}function Ee(e){var t;const r=Dt(e);return(t=r==null?void 0:r.$el)!=null?t:r}const Ce=Se?window:void 0;function Lt(...e){let t,r,n,a;if(Rt(e[0])||Array.isArray(e[0])?([r,n,a]=e,t=Ce):[t,r,n,a]=e,!t)return Nt;Array.isArray(r)||(r=[r]),Array.isArray(n)||(n=[n]);const i=[],o=()=>{i.forEach(f=>f()),i.length=0},s=(f,c,d)=>(f.addEventListener(c,d,a),()=>f.removeEventListener(c,d,a)),u=p.watch(()=>Ee(t),f=>{o(),f&&i.push(...r.flatMap(c=>n.map(d=>s(f,c,d))))},{immediate:!0,flush:"post"}),l=()=>{u(),o()};return Ie(l),l}function Bt(e,t=!1){const r=p.ref(),n=()=>r.value=!!e();return n(),jt(n,t),r}const Fe=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Me="__vueuse_ssr_handlers__";Fe[Me]=Fe[Me]||{};var Re=Object.getOwnPropertySymbols,Ut=Object.prototype.hasOwnProperty,Kt=Object.prototype.propertyIsEnumerable,Ht=(e,t)=>{var r={};for(var n in e)Ut.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&Re)for(var n of Re(e))t.indexOf(n)<0&&Kt.call(e,n)&&(r[n]=e[n]);return r};function zt(e,t,r={}){const n=r,{window:a=Ce}=n,i=Ht(n,["window"]);let o;const s=Bt(()=>a&&"ResizeObserver"in a),u=()=>{o&&(o.disconnect(),o=void 0)},l=p.watch(()=>Ee(e),c=>{u(),s.value&&a&&c&&(o=new ResizeObserver(t),o.observe(c,i))},{immediate:!0,flush:"post"}),f=()=>{u(),l()};return Ie(f),{isSupported:s,stop:f}}var Ne;(function(e){e.UP="UP",e.RIGHT="RIGHT",e.DOWN="DOWN",e.LEFT="LEFT",e.NONE="NONE"})(Ne||(Ne={}));var qt=Object.defineProperty,De=Object.getOwnPropertySymbols,Vt=Object.prototype.hasOwnProperty,Qt=Object.prototype.propertyIsEnumerable,Ge=(e,t,r)=>t in e?qt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Wt=(e,t)=>{for(var r in t||(t={}))Vt.call(t,r)&&Ge(e,r,t[r]);if(De)for(var r of De(t))Qt.call(t,r)&&Ge(e,r,t[r]);return e};Wt({linear:Gt},{easeInSine:[.12,0,.39,0],easeOutSine:[.61,1,.88,1],easeInOutSine:[.37,0,.63,1],easeInQuad:[.11,0,.5,0],easeOutQuad:[.5,1,.89,1],easeInOutQuad:[.45,0,.55,1],easeInCubic:[.32,0,.67,0],easeOutCubic:[.33,1,.68,1],easeInOutCubic:[.65,0,.35,1],easeInQuart:[.5,0,.75,0],easeOutQuart:[.25,1,.5,1],easeInOutQuart:[.76,0,.24,1],easeInQuint:[.64,0,.78,0],easeOutQuint:[.22,1,.36,1],easeInOutQuint:[.83,0,.17,1],easeInExpo:[.7,0,.84,0],easeOutExpo:[.16,1,.3,1],easeInOutExpo:[.87,0,.13,1],easeInCirc:[.55,0,1,.45],easeOutCirc:[0,.55,.45,1],easeInOutCirc:[.85,0,.15,1],easeInBack:[.36,0,.66,-.56],easeOutBack:[.34,1.56,.64,1],easeInOutBack:[.68,-.6,.32,1.6]});function oe(e,t){return`${e.id}_opt${t}`}var Xt=typeof global=="object"&&global&&global.Object===Object&&global;const je=Xt;var Yt=typeof self=="object"&&self&&self.Object===Object&&self,Zt=je||Yt||Function("return this")();const T=Zt;var Jt=T.Symbol;const E=Jt;var Le=Object.prototype,kt=Le.hasOwnProperty,er=Le.toString,U=E?E.toStringTag:void 0;function tr(e){var t=kt.call(e,U),r=e[U];try{e[U]=void 0;var n=!0}catch{}var a=er.call(e);return n&&(t?e[U]=r:delete e[U]),a}var rr=Object.prototype,nr=rr.toString;function ar(e){return nr.call(e)}var ir="[object Null]",or="[object Undefined]",Be=E?E.toStringTag:void 0;function M(e){return e==null?e===void 0?or:ir:Be&&Be in Object(e)?tr(e):ar(e)}function C(e){return e!=null&&typeof e=="object"}var sr="[object Symbol]";function se(e){return typeof e=="symbol"||C(e)&&M(e)==sr}function ur(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var cr=Array.isArray;const w=cr;var fr=1/0,Ue=E?E.prototype:void 0,Ke=Ue?Ue.toString:void 0;function He(e){if(typeof e=="string")return e;if(w(e))return ur(e,He)+"";if(se(e))return Ke?Ke.call(e):"";var t=e+"";return t=="0"&&1/e==-fr?"-0":t}function m(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}function ue(e){return e}var lr="[object AsyncFunction]",pr="[object Function]",dr="[object GeneratorFunction]",hr="[object Proxy]";function ce(e){if(!m(e))return!1;var t=M(e);return t==pr||t==dr||t==lr||t==hr}var gr=T["__core-js_shared__"];const fe=gr;var ze=function(){var e=/[^.]+$/.exec(fe&&fe.keys&&fe.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function yr(e){return!!ze&&ze in e}var vr=Function.prototype,_r=vr.toString;function R(e){if(e!=null){try{return _r.call(e)}catch{}try{return e+""}catch{}}return""}var br=/[\\^$.*+?()[\]{}|]/g,wr=/^\[object .+?Constructor\]$/,Or=Function.prototype,Tr=Object.prototype,mr=Or.toString,$r=Tr.hasOwnProperty,Ar=RegExp("^"+mr.call($r).replace(br,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function xr(e){if(!m(e)||yr(e))return!1;var t=ce(e)?Ar:wr;return t.test(R(e))}function Pr(e,t){return e==null?void 0:e[t]}function N(e,t){var r=Pr(e,t);return xr(r)?r:void 0}var Sr=N(T,"WeakMap");const le=Sr;var qe=Object.create,Ir=function(){function e(){}return function(t){if(!m(t))return{};if(qe)return qe(t);e.prototype=t;var r=new e;return e.prototype=void 0,r}}();const Er=Ir;function Cr(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function Fr(){}function Mr(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var Rr=800,Nr=16,Dr=Date.now;function Gr(e){var t=0,r=0;return function(){var n=Dr(),a=Nr-(n-r);if(r=n,a>0){if(++t>=Rr)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}function jr(e){return function(){return e}}var Lr=function(){try{var e=N(Object,"defineProperty");return e({},"",{}),e}catch{}}();const X=Lr;var Br=X?function(e,t){return X(e,"toString",{configurable:!0,enumerable:!1,value:jr(t),writable:!0})}:ue,Ur=Gr(Br);const Kr=Ur;function Hr(e,t,r,n){for(var a=e.length,i=r+(n?1:-1);n?i--:++i<a;)if(t(e[i],i,e))return i;return-1}function zr(e){return e!==e}function qr(e,t,r){for(var n=r-1,a=e.length;++n<a;)if(e[n]===t)return n;return-1}function Vr(e,t,r){return t===t?qr(e,t,r):Hr(e,zr,r)}function Qr(e,t){var r=e==null?0:e.length;return!!r&&Vr(e,t,0)>-1}var Wr=9007199254740991,Xr=/^(?:0|[1-9]\d*)$/;function Y(e,t){var r=typeof e;return t=t??Wr,!!t&&(r=="number"||r!="symbol"&&Xr.test(e))&&e>-1&&e%1==0&&e<t}function Z(e,t,r){t=="__proto__"&&X?X(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function K(e,t){return e===t||e!==e&&t!==t}var Yr=Object.prototype,Zr=Yr.hasOwnProperty;function Ve(e,t,r){var n=e[t];(!(Zr.call(e,t)&&K(n,r))||r===void 0&&!(t in e))&&Z(e,t,r)}function Jr(e,t,r,n){var a=!r;r||(r={});for(var i=-1,o=t.length;++i<o;){var s=t[i],u=n?n(r[s],e[s],s,r,e):void 0;u===void 0&&(u=e[s]),a?Z(r,s,u):Ve(r,s,u)}return r}var Qe=Math.max;function kr(e,t,r){return t=Qe(t===void 0?e.length-1:t,0),function(){for(var n=arguments,a=-1,i=Qe(n.length-t,0),o=Array(i);++a<i;)o[a]=n[t+a];a=-1;for(var s=Array(t+1);++a<t;)s[a]=n[a];return s[t]=r(o),Cr(e,this,s)}}function en(e,t){return Kr(kr(e,t,ue),e+"")}var tn=9007199254740991;function pe(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=tn}function H(e){return e!=null&&pe(e.length)&&!ce(e)}function rn(e,t,r){if(!m(r))return!1;var n=typeof t;return(n=="number"?H(r)&&Y(t,r.length):n=="string"&&t in r)?K(r[t],e):!1}function nn(e){return en(function(t,r){var n=-1,a=r.length,i=a>1?r[a-1]:void 0,o=a>2?r[2]:void 0;for(i=e.length>3&&typeof i=="function"?(a--,i):void 0,o&&rn(r[0],r[1],o)&&(i=a<3?void 0:i,a=1),t=Object(t);++n<a;){var s=r[n];s&&e(t,s,n,i)}return t})}var an=Object.prototype;function de(e){var t=e&&e.constructor,r=typeof t=="function"&&t.prototype||an;return e===r}function on(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}var sn="[object Arguments]";function We(e){return C(e)&&M(e)==sn}var Xe=Object.prototype,un=Xe.hasOwnProperty,cn=Xe.propertyIsEnumerable,fn=We(function(){return arguments}())?We:function(e){return C(e)&&un.call(e,"callee")&&!cn.call(e,"callee")};const J=fn;function ln(){return!1}var Ye=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ze=Ye&&typeof module=="object"&&module&&!module.nodeType&&module,pn=Ze&&Ze.exports===Ye,Je=pn?T.Buffer:void 0,dn=Je?Je.isBuffer:void 0,hn=dn||ln;const k=hn;var gn="[object Arguments]",yn="[object Array]",vn="[object Boolean]",_n="[object Date]",bn="[object Error]",wn="[object Function]",On="[object Map]",Tn="[object Number]",mn="[object Object]",$n="[object RegExp]",An="[object Set]",xn="[object String]",Pn="[object WeakMap]",Sn="[object ArrayBuffer]",In="[object DataView]",En="[object Float32Array]",Cn="[object Float64Array]",Fn="[object Int8Array]",Mn="[object Int16Array]",Rn="[object Int32Array]",Nn="[object Uint8Array]",Dn="[object Uint8ClampedArray]",Gn="[object Uint16Array]",jn="[object Uint32Array]",y={};y[En]=y[Cn]=y[Fn]=y[Mn]=y[Rn]=y[Nn]=y[Dn]=y[Gn]=y[jn]=!0,y[gn]=y[yn]=y[Sn]=y[vn]=y[In]=y[_n]=y[bn]=y[wn]=y[On]=y[Tn]=y[mn]=y[$n]=y[An]=y[xn]=y[Pn]=!1;function Ln(e){return C(e)&&pe(e.length)&&!!y[M(e)]}function Bn(e){return function(t){return e(t)}}var ke=typeof exports=="object"&&exports&&!exports.nodeType&&exports,z=ke&&typeof module=="object"&&module&&!module.nodeType&&module,Un=z&&z.exports===ke,he=Un&&je.process,Kn=function(){try{var e=z&&z.require&&z.require("util").types;return e||he&&he.binding&&he.binding("util")}catch{}}();const et=Kn;var tt=et&&et.isTypedArray,Hn=tt?Bn(tt):Ln;const ge=Hn;var zn=Object.prototype,qn=zn.hasOwnProperty;function rt(e,t){var r=w(e),n=!r&&J(e),a=!r&&!n&&k(e),i=!r&&!n&&!a&&ge(e),o=r||n||a||i,s=o?on(e.length,String):[],u=s.length;for(var l in e)(t||qn.call(e,l))&&!(o&&(l=="length"||a&&(l=="offset"||l=="parent")||i&&(l=="buffer"||l=="byteLength"||l=="byteOffset")||Y(l,u)))&&s.push(l);return s}function nt(e,t){return function(r){return e(t(r))}}var Vn=nt(Object.keys,Object);const Qn=Vn;var Wn=Object.prototype,Xn=Wn.hasOwnProperty;function Yn(e){if(!de(e))return Qn(e);var t=[];for(var r in Object(e))Xn.call(e,r)&&r!="constructor"&&t.push(r);return t}function ye(e){return H(e)?rt(e):Yn(e)}function Zn(e){var t=[];if(e!=null)for(var r in Object(e))t.push(r);return t}var Jn=Object.prototype,kn=Jn.hasOwnProperty;function ea(e){if(!m(e))return Zn(e);var t=de(e),r=[];for(var n in e)n=="constructor"&&(t||!kn.call(e,n))||r.push(n);return r}function at(e){return H(e)?rt(e,!0):ea(e)}var ta=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,ra=/^\w*$/;function ve(e,t){if(w(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||se(e)?!0:ra.test(e)||!ta.test(e)||t!=null&&e in Object(t)}var na=N(Object,"create");const q=na;function aa(){this.__data__=q?q(null):{},this.size=0}function ia(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var oa="__lodash_hash_undefined__",sa=Object.prototype,ua=sa.hasOwnProperty;function ca(e){var t=this.__data__;if(q){var r=t[e];return r===oa?void 0:r}return ua.call(t,e)?t[e]:void 0}var fa=Object.prototype,la=fa.hasOwnProperty;function pa(e){var t=this.__data__;return q?t[e]!==void 0:la.call(t,e)}var da="__lodash_hash_undefined__";function ha(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=q&&t===void 0?da:t,this}function D(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}D.prototype.clear=aa,D.prototype.delete=ia,D.prototype.get=ca,D.prototype.has=pa,D.prototype.set=ha;function ga(){this.__data__=[],this.size=0}function ee(e,t){for(var r=e.length;r--;)if(K(e[r][0],t))return r;return-1}var ya=Array.prototype,va=ya.splice;function _a(e){var t=this.__data__,r=ee(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():va.call(t,r,1),--this.size,!0}function ba(e){var t=this.__data__,r=ee(t,e);return r<0?void 0:t[r][1]}function wa(e){return ee(this.__data__,e)>-1}function Oa(e,t){var r=this.__data__,n=ee(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}function x(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}x.prototype.clear=ga,x.prototype.delete=_a,x.prototype.get=ba,x.prototype.has=wa,x.prototype.set=Oa;var Ta=N(T,"Map");const V=Ta;function ma(){this.size=0,this.__data__={hash:new D,map:new(V||x),string:new D}}function $a(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function te(e,t){var r=e.__data__;return $a(t)?r[typeof t=="string"?"string":"hash"]:r.map}function Aa(e){var t=te(this,e).delete(e);return this.size-=t?1:0,t}function xa(e){return te(this,e).get(e)}function Pa(e){return te(this,e).has(e)}function Sa(e,t){var r=te(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}function P(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}P.prototype.clear=ma,P.prototype.delete=Aa,P.prototype.get=xa,P.prototype.has=Pa,P.prototype.set=Sa;var Ia="Expected a function";function _e(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Ia);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(_e.Cache||P),r}_e.Cache=P;var Ea=500;function Ca(e){var t=_e(e,function(n){return r.size===Ea&&r.clear(),n}),r=t.cache;return t}var Fa=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ma=/\\(\\)?/g,Ra=Ca(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(Fa,function(r,n,a,i){t.push(a?i.replace(Ma,"$1"):n||r)}),t});const Na=Ra;function Da(e){return e==null?"":He(e)}function be(e,t){return w(e)?e:ve(e,t)?[e]:Na(Da(e))}var Ga=1/0;function Q(e){if(typeof e=="string"||se(e))return e;var t=e+"";return t=="0"&&1/e==-Ga?"-0":t}function it(e,t){t=be(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Q(t[r++])];return r&&r==n?e:void 0}function ja(e,t,r){var n=e==null?void 0:it(e,t);return n===void 0?r:n}function La(e,t){for(var r=-1,n=t.length,a=e.length;++r<n;)e[a+r]=t[r];return e}var Ba=nt(Object.getPrototypeOf,Object);const ot=Ba;var Ua="[object Object]",Ka=Function.prototype,Ha=Object.prototype,st=Ka.toString,za=Ha.hasOwnProperty,qa=st.call(Object);function Va(e){if(!C(e)||M(e)!=Ua)return!1;var t=ot(e);if(t===null)return!0;var r=za.call(t,"constructor")&&t.constructor;return typeof r=="function"&&r instanceof r&&st.call(r)==qa}function Qa(){this.__data__=new x,this.size=0}function Wa(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r}function Xa(e){return this.__data__.get(e)}function Ya(e){return this.__data__.has(e)}var Za=200;function Ja(e,t){var r=this.__data__;if(r instanceof x){var n=r.__data__;if(!V||n.length<Za-1)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new P(n)}return r.set(e,t),this.size=r.size,this}function $(e){var t=this.__data__=new x(e);this.size=t.size}$.prototype.clear=Qa,$.prototype.delete=Wa,$.prototype.get=Xa,$.prototype.has=Ya,$.prototype.set=Ja;var ut=typeof exports=="object"&&exports&&!exports.nodeType&&exports,ct=ut&&typeof module=="object"&&module&&!module.nodeType&&module,ka=ct&&ct.exports===ut,ft=ka?T.Buffer:void 0,lt=ft?ft.allocUnsafe:void 0;function ei(e,t){if(t)return e.slice();var r=e.length,n=lt?lt(r):new e.constructor(r);return e.copy(n),n}function ti(e,t){for(var r=-1,n=e==null?0:e.length,a=0,i=[];++r<n;){var o=e[r];t(o,r,e)&&(i[a++]=o)}return i}function ri(){return[]}var ni=Object.prototype,ai=ni.propertyIsEnumerable,pt=Object.getOwnPropertySymbols,ii=pt?function(e){return e==null?[]:(e=Object(e),ti(pt(e),function(t){return ai.call(e,t)}))}:ri;const oi=ii;function si(e,t,r){var n=t(e);return w(e)?n:La(n,r(e))}function dt(e){return si(e,ye,oi)}var ui=N(T,"DataView");const we=ui;var ci=N(T,"Promise");const Oe=ci;var fi=N(T,"Set");const j=fi;var ht="[object Map]",li="[object Object]",gt="[object Promise]",yt="[object Set]",vt="[object WeakMap]",_t="[object DataView]",pi=R(we),di=R(V),hi=R(Oe),gi=R(j),yi=R(le),G=M;(we&&G(new we(new ArrayBuffer(1)))!=_t||V&&G(new V)!=ht||Oe&&G(Oe.resolve())!=gt||j&&G(new j)!=yt||le&&G(new le)!=vt)&&(G=function(e){var t=M(e),r=t==li?e.constructor:void 0,n=r?R(r):"";if(n)switch(n){case pi:return _t;case di:return ht;case hi:return gt;case gi:return yt;case yi:return vt}return t});const bt=G;var vi=T.Uint8Array;const re=vi;function _i(e){var t=new e.constructor(e.byteLength);return new re(t).set(new re(e)),t}function bi(e,t){var r=t?_i(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function wi(e){return typeof e.constructor=="function"&&!de(e)?Er(ot(e)):{}}var Oi="__lodash_hash_undefined__";function Ti(e){return this.__data__.set(e,Oi),this}function mi(e){return this.__data__.has(e)}function W(e){var t=-1,r=e==null?0:e.length;for(this.__data__=new P;++t<r;)this.add(e[t])}W.prototype.add=W.prototype.push=Ti,W.prototype.has=mi;function $i(e,t){for(var r=-1,n=e==null?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}function wt(e,t){return e.has(t)}var Ai=1,xi=2;function Ot(e,t,r,n,a,i){var o=r&Ai,s=e.length,u=t.length;if(s!=u&&!(o&&u>s))return!1;var l=i.get(e),f=i.get(t);if(l&&f)return l==t&&f==e;var c=-1,d=!0,h=r&xi?new W:void 0;for(i.set(e,t),i.set(t,e);++c<s;){var g=e[c],v=t[c];if(n)var b=o?n(v,g,c,t,e,i):n(g,v,c,e,t,i);if(b!==void 0){if(b)continue;d=!1;break}if(h){if(!$i(t,function(_,S){if(!wt(h,S)&&(g===_||a(g,_,r,n,i)))return h.push(S)})){d=!1;break}}else if(!(g===v||a(g,v,r,n,i))){d=!1;break}}return i.delete(e),i.delete(t),d}function Pi(e){var t=-1,r=Array(e.size);return e.forEach(function(n,a){r[++t]=[a,n]}),r}function Te(e){var t=-1,r=Array(e.size);return e.forEach(function(n){r[++t]=n}),r}var Si=1,Ii=2,Ei="[object Boolean]",Ci="[object Date]",Fi="[object Error]",Mi="[object Map]",Ri="[object Number]",Ni="[object RegExp]",Di="[object Set]",Gi="[object String]",ji="[object Symbol]",Li="[object ArrayBuffer]",Bi="[object DataView]",Tt=E?E.prototype:void 0,me=Tt?Tt.valueOf:void 0;function Ui(e,t,r,n,a,i,o){switch(r){case Bi:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case Li:return!(e.byteLength!=t.byteLength||!i(new re(e),new re(t)));case Ei:case Ci:case Ri:return K(+e,+t);case Fi:return e.name==t.name&&e.message==t.message;case Ni:case Gi:return e==t+"";case Mi:var s=Pi;case Di:var u=n&Si;if(s||(s=Te),e.size!=t.size&&!u)return!1;var l=o.get(e);if(l)return l==t;n|=Ii,o.set(e,t);var f=Ot(s(e),s(t),n,a,i,o);return o.delete(e),f;case ji:if(me)return me.call(e)==me.call(t)}return!1}var Ki=1,Hi=Object.prototype,zi=Hi.hasOwnProperty;function qi(e,t,r,n,a,i){var o=r&Ki,s=dt(e),u=s.length,l=dt(t),f=l.length;if(u!=f&&!o)return!1;for(var c=u;c--;){var d=s[c];if(!(o?d in t:zi.call(t,d)))return!1}var h=i.get(e),g=i.get(t);if(h&&g)return h==t&&g==e;var v=!0;i.set(e,t),i.set(t,e);for(var b=o;++c<u;){d=s[c];var _=e[d],S=t[d];if(n)var ie=o?n(S,_,d,t,e,i):n(_,S,d,e,t,i);if(!(ie===void 0?_===S||a(_,S,r,n,i):ie)){v=!1;break}b||(b=d=="constructor")}if(v&&!b){var F=e.constructor,L=t.constructor;F!=L&&"constructor"in e&&"constructor"in t&&!(typeof F=="function"&&F instanceof F&&typeof L=="function"&&L instanceof L)&&(v=!1)}return i.delete(e),i.delete(t),v}var Vi=1,mt="[object Arguments]",$t="[object Array]",ne="[object Object]",Qi=Object.prototype,At=Qi.hasOwnProperty;function Wi(e,t,r,n,a,i){var o=w(e),s=w(t),u=o?$t:bt(e),l=s?$t:bt(t);u=u==mt?ne:u,l=l==mt?ne:l;var f=u==ne,c=l==ne,d=u==l;if(d&&k(e)){if(!k(t))return!1;o=!0,f=!1}if(d&&!f)return i||(i=new $),o||ge(e)?Ot(e,t,r,n,a,i):Ui(e,t,u,r,n,a,i);if(!(r&Vi)){var h=f&&At.call(e,"__wrapped__"),g=c&&At.call(t,"__wrapped__");if(h||g){var v=h?e.value():e,b=g?t.value():t;return i||(i=new $),a(v,b,r,n,i)}}return d?(i||(i=new $),qi(e,t,r,n,a,i)):!1}function $e(e,t,r,n,a){return e===t?!0:e==null||t==null||!C(e)&&!C(t)?e!==e&&t!==t:Wi(e,t,r,n,$e,a)}var Xi=1,Yi=2;function Zi(e,t,r,n){var a=r.length,i=a,o=!n;if(e==null)return!i;for(e=Object(e);a--;){var s=r[a];if(o&&s[2]?s[1]!==e[s[0]]:!(s[0]in e))return!1}for(;++a<i;){s=r[a];var u=s[0],l=e[u],f=s[1];if(o&&s[2]){if(l===void 0&&!(u in e))return!1}else{var c=new $;if(n)var d=n(l,f,u,e,t,c);if(!(d===void 0?$e(f,l,Xi|Yi,n,c):d))return!1}}return!0}function xt(e){return e===e&&!m(e)}function Ji(e){for(var t=ye(e),r=t.length;r--;){var n=t[r],a=e[n];t[r]=[n,a,xt(a)]}return t}function Pt(e,t){return function(r){return r==null?!1:r[e]===t&&(t!==void 0||e in Object(r))}}function ki(e){var t=Ji(e);return t.length==1&&t[0][2]?Pt(t[0][0],t[0][1]):function(r){return r===e||Zi(r,e,t)}}function eo(e,t){return e!=null&&t in Object(e)}function to(e,t,r){t=be(t,e);for(var n=-1,a=t.length,i=!1;++n<a;){var o=Q(t[n]);if(!(i=e!=null&&r(e,o)))break;e=e[o]}return i||++n!=a?i:(a=e==null?0:e.length,!!a&&pe(a)&&Y(o,a)&&(w(e)||J(e)))}function ro(e,t){return e!=null&&to(e,t,eo)}var no=1,ao=2;function io(e,t){return ve(e)&&xt(t)?Pt(Q(e),t):function(r){var n=ja(r,e);return n===void 0&&n===t?ro(r,e):$e(t,n,no|ao)}}function oo(e){return function(t){return t==null?void 0:t[e]}}function so(e){return function(t){return it(t,e)}}function uo(e){return ve(e)?oo(Q(e)):so(e)}function co(e){return typeof e=="function"?e:e==null?ue:typeof e=="object"?w(e)?io(e[0],e[1]):ki(e):uo(e)}function fo(e,t,r,n){for(var a=-1,i=e==null?0:e.length;++a<i;){var o=e[a];t(n,o,r(o),e)}return n}function lo(e){return function(t,r,n){for(var a=-1,i=Object(t),o=n(t),s=o.length;s--;){var u=o[e?s:++a];if(r(i[u],u,i)===!1)break}return t}}var po=lo();const St=po;function ho(e,t){return e&&St(e,t,ye)}function go(e,t){return function(r,n){if(r==null)return r;if(!H(r))return e(r,n);for(var a=r.length,i=t?a:-1,o=Object(r);(t?i--:++i<a)&&n(o[i],i,o)!==!1;);return r}}var yo=go(ho);const vo=yo;function _o(e,t,r,n){return vo(e,function(a,i,o){t(n,a,r(a),o)}),n}function bo(e,t){return function(r,n){var a=w(r)?fo:_o,i=t?t():{};return a(r,e,co(n),i)}}function Ae(e,t,r){(r!==void 0&&!K(e[t],r)||r===void 0&&!(t in e))&&Z(e,t,r)}function wo(e){return C(e)&&H(e)}function xe(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function Oo(e){return Jr(e,at(e))}function To(e,t,r,n,a,i,o){var s=xe(e,r),u=xe(t,r),l=o.get(u);if(l){Ae(e,r,l);return}var f=i?i(s,u,r+"",e,t,o):void 0,c=f===void 0;if(c){var d=w(u),h=!d&&k(u),g=!d&&!h&&ge(u);f=u,d||h||g?w(s)?f=s:wo(s)?f=Mr(s):h?(c=!1,f=ei(u,!0)):g?(c=!1,f=bi(u,!0)):f=[]:Va(u)||J(u)?(f=s,J(s)?f=Oo(s):(!m(s)||ce(s))&&(f=wi(u))):c=!1}c&&(o.set(u,f),a(f,u,n,i,o),o.delete(u)),Ae(e,r,f)}function It(e,t,r,n,a){e!==t&&St(t,function(i,o){if(a||(a=new $),m(i))To(e,t,o,r,It,n,a);else{var s=n?n(xe(e,o),i,o+"",e,t,a):void 0;s===void 0&&(s=i),Ae(e,o,s)}},at)}var mo=nn(function(e,t,r,n){It(e,t,r,n)});const Et=mo;function $o(e,t,r){for(var n=-1,a=e==null?0:e.length;++n<a;)if(r(t,e[n]))return!0;return!1}var Ao=Object.prototype,xo=Ao.hasOwnProperty,Po=bo(function(e,t,r){xo.call(e,r)?e[r].push(t):Z(e,r,[t])});const Ct=Po;function So(e,t,r,n){if(!m(e))return e;t=be(t,e);for(var a=-1,i=t.length,o=i-1,s=e;s!=null&&++a<i;){var u=Q(t[a]),l=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(a!=o){var f=s[u];l=n?n(f,u,s):void 0,l===void 0&&(l=m(f)?f:Y(t[a+1])?[]:{})}Ve(s,u,l),s=s[u]}return e}function ae(e,t,r){return e==null?e:So(e,t,r)}var Io=1/0,Eo=j&&1/Te(new j([,-0]))[1]==Io?function(e){return new j(e)}:Fr;const Co=Eo;var Fo=200;function Mo(e,t,r){var n=-1,a=Qr,i=e.length,o=!0,s=[],u=s;if(r)o=!1,a=$o;else if(i>=Fo){var l=t?null:Co(e);if(l)return Te(l);o=!1,a=wt,u=new W}else u=t?[]:s;e:for(;++n<i;){var f=e[n],c=t?t(f):f;if(f=r||f!==0?f:0,o&&c===c){for(var d=u.length;d--;)if(u[d]===c)continue e;t&&u.push(c),s.push(f)}else a(u,c,r)||(u!==s&&u.push(c),s.push(f))}return s}function Ro(e){return e&&e.length?Mo(e):[]}const No={uniq:Ro,groupBy:Ct};function Do(e,t){const r=new Function("utils","rows","fields",e??"");function n(a){switch(t){case"udf":if(e!==null)return r(No,a.rows,a.fields);break;case"infer":default:return a.inferData()}}return{map:n}}function Go(e,t,r,n,a){const i=oe(t,r);n.dataset.addFilter(i,a,e)}function jo(){return function(){let e=null;const t=()=>e;function r(n){e=n}return{setValue:r,value:t}}()}function Lo(e){const t=e.getOption();t.series.forEach((r,n)=>{}),e.setOption(t,!0)}function Bo(e,t){const r=e.getOption();r.series.forEach((n,a)=>{n.data.forEach(i=>{typeof i=="object"&&(i.groupId=t.value)})}),e.setOption(r,!0)}function Uo(e,t){e.series.forEach((r,n)=>{r.dataGroupId=t.value(),r.data.forEach(a=>{typeof a=="object"&&delete a.groupId})})}function Ko(e,t,r,n,a,i){let o=null;e.updateInfos.forEach(u=>{u.actionType===t&&(o=r(u))});const s=Ct(e.updateInfos.filter(u=>u.actionType===t),u=>u.table);return Object.entries(s).map(([u,l],f)=>{const c=l.map(d=>{o=r(d);const h=i.db.parse2sqlValueBaseFieldType(d.table,d.field,o);return`${d.field}=${h}`}).join(" and ");Go(c,n,a,i,u)}),o}function Ho(e){return e.updateInfos.some(t=>t.actionType==="click")}function zo(e,t){Uo(e,t)}function qo(e,t){if(t.valueType.slice(0,1)===":"){const r=t.valueType.slice(1);return e[r]}if(t.valueType==="x"||t.valueType==="y")return e.name;if(t.valueType==="color")return e.seriesName;throw new Error(`bar chart not support value type : ${t.valueType}`)}function Vo(e,t){if(t.valueType.slice(0,1)===":"){const r=t.valueType.slice(1);return e[r]}if(t.valueType==="x"||t.valueType==="y")return e.name;if(t.valueType==="color")return e.seriesName;throw new Error(`line chart not support value type : ${t.valueType}`)}function Qo(e,t){if(t.valueType.slice(0,1)===":"){const r=t.valueType.slice(1);return e[r]}if(t.valueType==="name")return e.name;throw new Error(`pie chart not support value type : ${t.valueType}`)}function Wo(e,t){if(t.valueType.slice(0,1)===":"){const r=t.valueType.slice(1);return e[r]}if(t.valueType==="x")return e.data[0];if(t.valueType==="y")return e.data[1];if(t.valueType==="color")return e.seriesName;throw new Error(`scatter chart not support value type : ${t.valueType}`)}function Xo(e,t){if(t.valueType==="name")return e.name;throw new Error(`scatter chart not support value type : ${t.valueType}`)}function Yo(e,t){if(t.valueType.slice(0,1)===":"){const r=t.valueType.slice(1);return e[r]}if(t.valueType==="name")return e.name;throw new Error(`radar chart not support value type : ${t.valueType}`)}const Ft=new Map([["bar",qo],["line",Vo],["pie",Qo],["scatter",Wo],["map",Xo],["radar",Yo]]);function Mt(e,t){const r=e.seriesType;if(Ft.has(r))return Ft.get(r)(e,t);throw new Error(`ParamValueGetter not support chart type:[${r}]`)}function Zo(e,t){if(t.seriesHasData()){const r=t.series.data[0];r.length>0&&(typeof r[0]=="string"&&e.setProps(`xAxis[${t.getXAxisIndex()}].type`,"category"),typeof r[1]=="string"&&e.setProps(`yAxis[${t.getYAxisIndex()}].type`,"category"))}}function Jo(e,t){if(t.seriesHasData()){const r=t.series.data[0];r.length>0&&typeof r[0]=="number"&&e.setProps(`xAxis[${t.getXAxisIndex()}].type`,"value")}}function ko(e){"xAxis"in e&&!Array.isArray(e.xAxis)&&(e.xAxis=[e.xAxis]),"yAxis"in e&&!Array.isArray(e.yAxis)&&(e.yAxis=[e.yAxis]),e.xAxis,e.yAxis;function t(a,i){ae(e,a,i)}function r(a,i,o){t(`series[${a}].${i}`,o)}function n(a){if(a>=e.series.length)return!1;const i=e.series[a];return"data"in i&&i.data.length>0}return{options:e,setProps:t,setSeriesProps:r,seriesHasData:n}}function es(e){function t(i,o){ae(e,i,o)}function r(){return"data"in e&&e.data.length>0}function n(){return"xAxisIndex"in e?e.xAxisIndex:0}function a(){return"yAxisIndex"in e?e.yAxisIndex:0}return{series:e,setProps:t,seriesHasData:r,getXAxisIndex:n,getYAxisIndex:a}}function ts(e){for(const t of e.series){if(!("type"in t))continue;const r=ko(e),n=es(t);switch(t.type){case"line":Jo(r,n);break;case"bar":break;case"pie":break;case"scatter":Zo(r,n);break}}}function rs(e){return new Function(`f= ${e};return f `)()}function ns(e,t,r,n){const a=e.chartInfos[t],i=a.options,o=jo(),s=Ho(a);a.jsCodes.forEach(h=>{const g=rs(h.code);ae(i,h.path,g)});function u(){switch(a.datasetInfos.forEach(h=>{const v=n.utils.createSqlQuery(oe(e,t),h.sqlInfo.sql).query(),_=Do(h.sqlInfo.jsMap,h.sqlInfo.type).map(v);ae(i,h.path,_)}),a.postMergeSettings.hasOwnProperty("series")&&(i.hasOwnProperty("series")&&Array.isArray(i.series)&&i.series.forEach(h=>{Et(h,a.postMergeSettings.series)}),delete a.postMergeSettings.series),Et(i,a.postMergeSettings),r.value){case"forward":zo(i,o);break}return ts(i),i}function l(){a.updateInfos.forEach(h=>{const g=oe(e,t);n.dataset.removeFilters(g,h.table)})}function f(h,g){return Ko(a,g,b=>Mt(h,b),e,t,n)}function c(h){switch(r.value){case"forward":Lo(h);break;case"back":Bo(h,o);break}}function d(h){o.setValue(h)}return{useOptions:u,addFilter:f,removeFilter:l,drillStartPos:c,setDataGroupValue:d,getValueFromParams:Mt,hasClickInfo:s}}function as(e,t){const r=p.ref("none");let n=[];e.optionType==="dict"&&(n=e.chartInfos.map((c,d)=>ns(e,d,r,t)));const a=p.ref(0),i=p.computed(()=>a.value>0),o=p.computed(()=>a.value<n.length-1),s=p.computed(()=>n[a.value]);function u(c,d,h){s.value.hasClickInfo&&(r.value="forward",s.value.drillStartPos(c),a.value+=1,s.value.setDataGroupValue(h))}function l(c){r.value="back",s.value.drillStartPos(c),a.value-=1}function f(c,d){const h=c.getOption();h&&(h.series.forEach((g,v)=>{"universalTransition"in g&&"seriesKey"in g.universalTransition&&(g.universalTransition.seriesKey=d),delete g.dataGroupId}),c.setOption(h))}return{curController:s,next:u,canBack:i,canForward:o,back:l,setSeriesKeys:f}}function is(e,t){const r=as(e,t);function n(){return p.computed(()=>r.curController.value.useOptions())}function a(){r.curController.value.removeFilter()}function i(o,s){return r.curController.value.addFilter(o,s)}return{getData:n,addFilter:i,removeFilter:a,chartController:r}}const os="sqlAnalyzeKey",ss="componentKey",us="datasetKey",cs="dbKey",fs="utilsKey",ls="webResourcesServiceKey",ps=["data-tag"],ds={key:0,class:"debug-box"},hs={key:0,rows:"25",cols:"50",readonly:""},gs=p.defineComponent({__name:"EChart",props:{model:null},setup(e){const t=e;p.useCssVars(I=>({"77f33236":p.unref(b)}));const r=p.inject(us),n=p.inject(os),a=p.inject(cs),i=p.inject(ss),o=p.inject(fs),s=p.inject(ls),u=t.model,l=[];u.chartInfos.forEach(I=>{I==null||I.mapIds.forEach(B=>{const O=s.getResource(B);l.push(O)})});const f=p.computed(()=>l.every(I=>I.value)),c=is(u,{sqlAnalyze:n,dataset:r,db:a,utils:o}),d=p.ref(null),h=c.getData(),g=p.ref(null),v=p.computed(()=>d.value?d.value.style.height==="":!0);u.width;const b=u.height;let _=null;p.onUnmounted(()=>{_==null||_.dispose()}),p.watch([f,g],([I,B])=>{if(!(I&&B)||(_=echarts.init(B,null,{renderer:i.getApp().echartsRenderer}),_===null))return;const O=_;p.watchEffect(()=>{c.chartController.setSeriesKeys(O,h.value.series.map(A=>A.id)),O.setOption(h.value,!0)}),O.on("mouseover","series",A=>{c.chartController.curController.value.hasClickInfo||c.addFilter(A,"hover")}),O.on("mouseout","series",A=>{c.chartController.curController.value.hasClickInfo||c.removeFilter()});function ys(){c.chartController.curController.value.hasClickInfo&&c.removeFilter()}O.getZr().on("click",function(A){A.target||ys()}),O.on("click","series",A=>{if(c.chartController.canForward.value){const vs=c.addFilter(A,"click");c.chartController.next(O,A,vs)}else c.addFilter(A,"click")}),Lt("resize",()=>{O.resize()}),zt(B,()=>{O.resize()})});function S(){c.removeFilter(),c.chartController.back(_)}const ie=u.debugTag!==null,F=p.ref(!1);function L(){F.value=!F.value}return(I,B)=>(p.openBlock(),p.createElementBlock("div",{ref_key:"chartBox",ref:d,class:"echart-box pybi-container","data-tag":p.unref(u).tag,"data-pybi-auto-width":""},[p.withDirectives(p.createElementVNode("div",{class:"back",onClick:S}," 上一级 ",512),[[p.vShow,p.unref(c).chartController.canBack.value]]),ie?(p.openBlock(),p.createElementBlock("div",ds,[p.createElementVNode("button",{onClick:L},"options view open"),F.value?(p.openBlock(),p.createElementBlock("textarea",hs,p.toDisplayString(p.unref(h)),1)):p.createCommentVNode("",!0)])):p.createCommentVNode("",!0),p.createElementVNode("div",{class:p.normalizeClass(["echart",{"min-height-chart":p.unref(v)}]),ref_key:"chartDiv",ref:g},null,2)],8,ps))}}),ws="";return[{tag:"EChart",cp:((e,t)=>{const r=e.__vccOpts||e;for(const[n,a]of t)r[n]=a;return r})(gs,[["__scopeId","data-v-4a0520c1"]])}]}(Vue);
