Search.setIndex({"docnames": ["changelog", "incant", "index", "modules", "tutorial", "usage"], "filenames": ["changelog.md", "incant.rst", "index.md", "modules.rst", "tutorial.md", "usage.md"], "titles": ["Changelog", "incant package", "Welcome to incant\ud83e\ude84!", "incant", "Tutorial", "Usage"], "terms": {"version": [0, 4], "follow": [0, 4, 5], "calver": 0, "best": [0, 1, 4], "effort": 0, "backward": 0, "compat": 0, "polici": 0, "The": [0, 1, 2, 5], "first": [0, 4, 5], "number": [0, 2, 4], "i": [0, 1, 2, 4, 5], "year": 0, "second": [0, 4], "increment": 0, "each": [0, 4], "releas": 0, "start": [0, 4, 5], "third": 0, "when": [0, 5], "we": [0, 1, 4, 5], "need": [0, 4, 5], "branch": 0, "older": 0, "onli": [0, 4], "emerg": 0, "incant": [0, 5], "invok": [0, 1, 2, 3, 4], "ha": [0, 2, 4], "been": [0, 4], "renam": 0, "compose_and_cal": [0, 1, 2, 3, 4, 5], "clariti": 0, "still": [0, 4], "present": [0, 4, 5], "an": [0, 1, 4, 5], "alia": 0, "prepar": [0, 4, 5], "compos": [0, 1, 2, 3, 4, 5], "introduc": 0, "adapt": [0, 1, 2, 3, 5], "depend": [0, 1, 2, 5], "factori": [0, 1, 2, 3, 4, 5], "constant": 0, "lambda": [0, 4, 5], "ar": [0, 2, 4, 5], "now": [0, 5], "fold": 0, "just": [0, 4], "gener": [0, 5], "sourc": [0, 2, 4], "code": [0, 4, 5], "avoid": [0, 4], "unnecessari": [0, 5], "function": [0, 1, 2, 4], "call": [0, 1, 2, 4, 5], "register_by_typ": [0, 1, 2, 3, 4, 5], "also": [0, 1, 2, 4, 5], "trigger": 0, "type": [0, 1, 2, 4, 5], "equal": 0, "addit": 0, "subclass": [0, 1, 4], "thi": [0, 1, 4, 5], "make": [0, 4, 5], "usabl": 0, "callabl": [0, 1], "python": [0, 2, 4, 5], "support": [0, 2, 4, 5], "fix": 0, "satisfi": [0, 1, 4], "themselv": [0, 5], "switch": 0, "pdm": 0, "paramet": [0, 1, 2, 4, 5], "us": [0, 1, 2, 4, 5], "new": [0, 1, 5], "union": 0, "syntax": 0, "document": 0, "sphinx": 0, "avail": 0, "threeofwand": 0, "com": 0, "optim": 0, "explicitli": [0, 1, 4], "sync": [0, 1, 2, 4], "issu": [0, 4], "posit": [0, 4], "argument": [0, 1, 2, 4, 5], "__future__": 0, "annot": [0, 1, 2, 3, 4], "pep": 0, "563": 0, "wrap": [0, 2, 4], "async": [0, 1, 2], "one": [0, 2, 4, 5], "11": 0, "unbound": 0, "local": 0, "error": [0, 1], "while": [0, 2, 4, 5], "4": 0, "variabl": [0, 4], "possibl": [0, 4], "cannot": [0, 4], "do": [0, 4, 5], "anyth": [0, 5], "return": [0, 1, 4, 5], "origin": [0, 5], "effici": [0, 5], "break": 0, "chang": [0, 4], "due": [0, 4], "limit": [0, 4], "autodetect": [0, 4], "context": [0, 1, 2], "manag": [0, 1, 2], "both": [0, 4, 5], "must": 0, "regist": [0, 1, 2, 4, 5], "pass": [0, 5], "is_context_manag": [0, 4], "registr": [0, 4], "inject": [0, 1, 2, 5], "can": [0, 1, 4, 5], "custom": [0, 5], "per": 0, "basi": 0, "overrid": [0, 1, 3, 5], "implement": [0, 4], "forc": [0, 2], "mai": [0, 5], "handl": 0, "unfulfil": 0, "default": [0, 2, 4], "properli": [0, 4], "set": [0, 4], "A": [0, 1, 4], "hook": [0, 1, 3, 4, 5], "promot": 0, "instead": [0, 4], "being": [0, 2, 4], "none": [0, 1, 4], "longer": 0, "under": [0, 5], "hood": [0, 5], "allow": [0, 5], "greater": 0, "previou": 0, "behavior": 0, "replic": 0, "fn": [0, 1, 5], "option": 0, "propag": 0, "final": 0, "keyword": 0, "filter": [0, 5], "out": [0, 4, 5], "wrapper": [0, 4, 5], "without": [0, 2, 4, 5], "execut": 0, "remov": 0, "sinc": [0, 4, 5], "": [0, 4, 5], "equival": [0, 2, 5], "inspect": [0, 2, 5], "signatur": [0, 1], "add": 0, "abil": 0, "class": [0, 1, 2, 4], "more": [0, 2, 4], "initi": 0, "predic": [1, 3, 5], "bool": [1, 5], "tupl": [1, 4], "liter": 1, "base": [1, 2], "object": 1, "classmethod": 1, "for_nam": [1, 3, 5], "name": [1, 2, 3, 4, 5], "str": [1, 4], "for_typ": [1, 3], "ani": [1, 2, 4, 5], "exact": 1, "won": 1, "t": [1, 4, 5], "match": [1, 2, 4, 5], "except": [1, 4], "incanterror": [1, 3], "hook_factory_registri": [1, 3], "list": 1, "_noth": 1, "noth": [1, 5], "registri": 1, "_hooks_": 1, "composit": 1, "defin": [1, 4, 5], "rule": [1, 2, 5], "how": [1, 4, 5], "thei": [1, 4, 5], "bind": [1, 4], "acompose_and_cal": [1, 2, 3, 4, 5], "await": [1, 4], "r": 1, "arg": 1, "kwarg": [1, 4], "given": [1, 4, 5], "shape": 1, "produc": [1, 4, 5], "aincant": [1, 2, 3, 4, 5], "wai": [1, 5], "ainvok": [1, 3, 4], "sequenc": [1, 5], "is_async": 1, "forced_dep": [1, 4], "its": [1, 2, 4, 5], "potenti": 1, "creat": [1, 4, 5], "even": [1, 4], "doesn": [1, 4], "requir": [1, 2, 4], "them": [1, 2, 4, 5], "register_by_nam": [1, 2, 3, 4, 5], "is_ctx_manag": 1, "decor": [1, 4, 5], "If": [1, 2, 4], "provid": [1, 4, 5], "from": [1, 2, 5], "register_hook": [1, 2, 3, 5], "should": [1, 4], "true": [1, 4], "fulfil": [1, 4], "register_hook_factori": [1, 3, 4, 5], "hook_factori": 1, "open": 2, "librari": [2, 4, 5], "mani": 2, "case": [2, 4], "serv": [2, 5], "well": [2, 4, 5], "observ": 2, "anoth": [2, 4, 5], "includ": 2, "conveni": [2, 5], "layer": [2, 5], "simpl": [2, 5], "api": [2, 4, 5], "power": [2, 4, 5], "fast": 2, "perform": [2, 5], "veri": [2, 4, 5], "flexibl": 2, "system": [2, 4], "valu": [2, 4], "global": [2, 4], "state": [2, 5], "attach": 2, "arbitrari": 2, "extern": 2, "commonli": [2, 4], "side": [2, 4], "effect": [2, 4], "lean": 2, "surfac": 2, "core": 2, "singl": 2, "keep": [2, 4], "method": [2, 4, 5], "higher": 2, "level": [2, 4], "user": [2, 4], "friendli": 2, "alias": 2, "variant": 2, "pick": 2, "forward": [2, 4, 5], "advanc": [2, 5], "adjust": 2, "abl": [2, 4], "leverag": 2, "runtim": 2, "capabl": 2, "fulli": 2, "mypi": 2, "smart": [2, 5], "editor": 2, "tutori": 2, "contain": [2, 4, 5], "walkthough": 2, "some": [2, 4], "real": 2, "life": 2, "you": [2, 4, 5], "re": [2, 4, 5], "come": 2, "pytest": 2, "background": 2, "roughli": 2, "fixtur": 2, "To": 2, "simpli": [2, 4], "pip": 2, "packag": 3, "modul": [3, 4, 5], "content": [3, 4], "section": [4, 5], "long": 4, "narr": 4, "style": 4, "guid": [4, 5], "see": 4, "usag": 4, "focus": 4, "descript": 4, "let": [4, 5], "demonstr": 4, "hypothet": 4, "scenario": 4, "work": 4, "tech": 4, "compani": 4, "ve": 4, "assign": 4, "easi": 4, "ye": 4, "web": 4, "framework": 4, "other": 4, "develop": 4, "your": 4, "don": [4, 5], "have": [4, 5], "scratch": 4, "though": 4, "so": [4, 5], "choos": [4, 5], "essenti": 4, "random": 4, "exist": 4, "quart": 4, "flask": 4, "pretti": 4, "much": 4, "would": 4, "left": 4, "exercis": 4, "reader": 4, "decid": 4, "quickapi": 4, "handler": 4, "write": 4, "colleagu": 4, "quick": [4, 5], "get": [4, 5], "import": [4, 5], "app": 4, "__name__": 4, "def": [4, 5], "index": 4, "ok": 4, "after": 4, "sai": 4, "ip": 4, "address": 4, "incom": 4, "request": 4, "explain": 4, "remote_addr": 4, "adam": 4, "about": 4, "practic": 4, "want": [4, 5], "instanc": [4, 5], "ipaddress": 4, "ipv4address": 4, "Their": 4, "look": 4, "like": 4, "ip_address_handl": 4, "source_ip": 4, "f": [4, 5], "At": 4, "top": 4, "file": 4, "get_ip_address": 4, "In": [4, 5], "access": 4, "through": 4, "proxi": 4, "mean": 4, "contempl": 4, "inform": 4, "yai": 4, "agre": 4, "cite": 4, "consist": 4, "appli": [4, 5], "all": [4, 5], "go": 4, "could": 4, "solv": 4, "particular": 4, "problem": 4, "elegantli": 5, "forgo": 4, "rub": 4, "hand": 4, "mutter": 4, "roll": 4, "yourself": 4, "functool": 4, "doe": [4, 5], "what": 4, "coroutin": [4, 5], "give": 4, "intern": [4, 5], "Then": 4, "time": 4, "later": 4, "approach": 4, "ask": 4, "path": 4, "odd": 4, "int": [4, 5], "integ": 4, "even_or_odd_handl": 4, "0": 4, "els": 4, "modifi": 4, "littl": 4, "receiv": 4, "along": 4, "becaus": 4, "dai": 4, "earn": 4, "logger": 4, "structur": 4, "log": 4, "alreadi": 4, "bound": 4, "think": 4, "propos": 4, "thought": 4, "everi": 4, "here": 4, "logging_handl": 4, "boundlogg": 4, "info": 4, "hello": 4, "respons": 4, "reach": 4, "trusti": 4, "structlog": 4, "up": 4, "stdlib": 4, "get_logg": 4, "scope": 4, "current": 4, "process": [4, 5], "within": 4, "specif": 4, "data": 4, "separ": 4, "ineffici": [4, 5], "find": 4, "befor": [4, 5], "howev": 4, "know": 4, "typeerror": 4, "invoke_logging_handl": 4, "miss": 4, "1": [4, 5], "alwai": 4, "meant": 4, "skip": 4, "otherwis": 4, "itself": 4, "beforehand": 4, "try": [4, 5], "authent": 4, "product": 4, "take": [4, 5], "cooki": 4, "session_token": 4, "model": 4, "attr": 4, "usernam": 4, "current_us": 4, "black": 4, "goe": 4, "immun": 4, "attack": 4, "whatnot": 4, "admin": 4, "user_handl": 4, "chill": 4, "repr": 4, "directli": 4, "leav": 4, "session": 4, "token": 4, "somewher": [4, 5], "respond": 4, "400": 4, "run": 4, "But": 4, "cool": 4, "heard": 4, "newfangl": 4, "concept": 4, "concurr": 4, "insist": 4, "offer": 4, "taskgroup": 4, "quattro": 4, "taskgroup_handl": 4, "tg": 4, "inner": 4, "leak": 4, "task": 4, "create_task": 4, "nice": [4, 5], "feel": 4, "particularli": 4, "challeng": 4, "box": 4, "thing": 4, "yesterdai": 4, "had": 4, "outag": 4, "featur": 4, "influenc": 4, "popular": 4, "social": 4, "media": 4, "site": 4, "servic": 4, "robust": 4, "plan": 4, "timeout": 4, "via": 4, "header": 4, "again": 4, "fail_aft": 4, "trick": 4, "clear": 4, "apply_timeout": 4, "contextmanag": 4, "cancelscop": 4, "float": 4, "our": 4, "usual": 4, "refactor": 4, "which": [4, 5], "unawar": 4, "mostli": 4, "thusli": 4, "accur": 4, "whether": 4, "isn": 4, "explicit": 4, "suppli": 4, "exampl": [4, 5], "deseri": 4, "json": 4, "bodi": 4, "samplepayload": 4, "field": 4, "post": 4, "payload": 4, "attrs_handl": 4, "cattr": 4, "load": 4, "most": [4, 5], "lowest": 4, "It": [4, 5], "differ": 4, "encount": 4, "werkzeug": 4, "badrequest": 4, "make_attrs_payload_factori": 4, "attrs_cl": 4, "attrs_payload_factori": 4, "get_json": 4, "e": 4, "rais": 4, "p": 4, "statu": 4, "evalu": 4, "newest": [4, 5], "http": 4, "string": 4, "newtyp": 4, "a_header_handl": 4, "content_typ": 4, "wa": 4, "logic": 4, "onc": 4, "rememb": 4, "kebab": 4, "than": 4, "snake_cas": 4, "small": 4, "transform": 4, "necessari": 4, "instruct": 4, "make_header_factori": 4, "empti": 4, "replac": 4, "_": 4, "complet": 4, "mini": 4, "project": 4, "found": 4, "github": [], "tinch": [], "blob": [], "main": [], "test": [], "py": 4, "aspect": 5, "fall": 5, "broadli": 5, "two": 5, "quickli": 5, "unlock": 5, "customiz": 5, "act": 5, "combin": 5, "variou": 5, "common": 5, "determin": 5, "These": 5, "encapsul": 5, "form": 5, "kept": 5, "yet": 5, "b": 5, "c": 5, "exactli": 5, "my_funct": 5, "my_argu": 5, "print": 5, "simplest": 5, "2": 5, "substitut": 5, "result": 5, "wire": 5, "u": 5, "my_function_compos": 5, "another_factori": 5, "another_funct": 5, "takes_int": 5, "3": 5, "part": 5, "shown": 5, "abov": 5, "depth": 5, "gather": 5, "nest": 5, "actual": 5, "heavi": 5, "lift": 5, "cach": 5, "ordinari": 5, "introspect": 5, "standard": 5, "ad": 5, "awar": 5, "plai": 5, "often": 5, "store": 5, "reus": 5, "additional_hook": 5, "helper": 5, "tool": 5, "build": 5, "compon": 5, "where": 5, "proper": 5, "layer_": 5, "seri": 5, "describ": 5, "futur": 5, "accept": 5, "smartli": 5, "deleg": 5, "depenc": 5, "oldest": 5, "until": 5, "depedend": 5, "outer": 5, "deped": 5, "enabl": 5}, "objects": {"": [[1, 0, 0, "-", "incant"]], "incant": [[1, 1, 1, "", "Hook"], [1, 4, 1, "", "IncantError"], [1, 1, 1, "", "Incanter"], [1, 1, 1, "", "Override"]], "incant.Hook": [[1, 2, 1, "", "factory"], [1, 3, 1, "", "for_name"], [1, 3, 1, "", "for_type"], [1, 2, 1, "", "predicate"]], "incant.Incanter": [[1, 3, 1, "", "acompose_and_call"], [1, 3, 1, "", "adapt"], [1, 3, 1, "", "aincant"], [1, 3, 1, "", "ainvoke"], [1, 3, 1, "", "compose"], [1, 3, 1, "", "compose_and_call"], [1, 2, 1, "", "hook_factory_registry"], [1, 3, 1, "", "incant"], [1, 3, 1, "", "invoke"], [1, 3, 1, "", "register_by_name"], [1, 3, 1, "", "register_by_type"], [1, 3, 1, "", "register_hook"], [1, 3, 1, "", "register_hook_factory"]], "incant.Override": [[1, 2, 1, "", "annotation"], [1, 2, 1, "", "name"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:attribute", "3": "py:method", "4": "py:exception"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "attribute", "Python attribute"], "3": ["py", "method", "Python method"], "4": ["py", "exception", "Python exception"]}, "titleterms": {"changelog": 0, "23": 0, "2": [0, 4], "0": 0, "unreleas": 0, "1": 0, "2023": 0, "07": 0, "14": 0, "22": 0, "2022": 0, "12": 0, "31": 0, "27": 0, "26": 0, "09": 0, "02": 0, "3": 0, "03": 0, "01": 0, "13": 0, "10": 0, "incant": [1, 2, 3, 4], "packag": 1, "modul": 1, "content": 1, "welcom": 2, "instal": 2, "tutori": 4, "simpl": 4, "depend": 4, "pass": 4, "from": 4, "outsid": 4, "The": 4, "magic": 4, "nest": 4, "async": 4, "context": 4, "manag": 4, "forc": 4, "complex": 4, "rule": 4, "pt": 4, "electr": 4, "boogaloo": 4, "usag": 5, "function": 5, "composit": 5, "invoc": 5}, "envversion": {"sphinx.domains.c": 3, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 9, "sphinx.domains.index": 1, "sphinx.domains.javascript": 3, "sphinx.domains.math": 2, "sphinx.domains.python": 4, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx": 58}, "alltitles": {"Changelog": [[0, "changelog"]], "23.2.0 (UNRELEASED)": [[0, "unreleased"]], "23.1.0 (2023-07-14)": [[0, "id1"]], "22.2.2 (2022-12-31)": [[0, "id2"]], "22.2.1 (2022-12-27)": [[0, "id3"]], "22.2.0 (2022-12-26)": [[0, "id4"]], "22.1.0 (2022-09-02)": [[0, "id5"]], "0.3.0 (2022-02-03)": [[0, "id6"]], "0.2.0 (2022-01-13)": [[0, "id7"]], "0.1.0 (2022-01-10)": [[0, "id8"]], "incant package": [[1, "incant-package"]], "Module contents": [[1, "module-incant"]], "incant": [[3, "incant"]], "Tutorial": [[4, "tutorial"]], "Simple Dependencies": [[4, "simple-dependencies"]], "Passing in Dependencies from the Outside": [[4, "passing-in-dependencies-from-the-outside"]], "The Magic of incant": [[4, "the-magic-of-incant"]], "Nested Dependencies": [[4, "nested-dependencies"]], "Async Context Managers": [[4, "async-context-managers"]], "Forced Dependencies": [[4, "forced-dependencies"]], "Complex Rules": [[4, "complex-rules"]], "Complex Rules Pt 2: Electric Boogaloo": [[4, "complex-rules-pt-2-electric-boogaloo"]], "Usage": [[5, "usage"]], "Function Composition": [[5, "function-composition"]], "Function Invocation": [[5, "function-invocation"]], "Welcome to incant\ud83e\ude84!": [[2, "welcome-to-incant"]], "Installation": [[2, "installation"]]}, "indexentries": {}})