"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[44524],{44524:function(e,i,t){t.r(i);var n,a,s,o=t(33368),r=t(71650),d=t(82390),c=t(69205),l=t(70906),u=t(91808),h=t(34541),f=t(47838),v=t(79932),k=t(57066),_=t(81582),b=t(57292),y=t(74186),g=t(18199),m=(t(26825),t(40039)),p=t(88962),w=t(68144),Z=t(14516),C=t(83849),E=(t(57793),t(5986)),P=(t(96551),t(29311)),z=t(2852),R=t(87480),L=t(48095),x=t(72477),D=function(e){(0,c.Z)(t,e);var i=(0,l.Z)(t);function t(){return(0,r.Z)(this,t),i.apply(this,arguments)}return(0,o.Z)(t)}(L._);D.styles=[x.W],D=(0,R.__decorate)([(0,v.Mo)("mwc-fab")],D);(0,u.Z)([(0,v.Mo)("ha-config-ais-dom-devices-dashboard")],(function(e,i){return{F:function(i){(0,c.Z)(n,i);var t=(0,l.Z)(n);function n(){var i;return(0,r.Z)(this,n),i=t.call(this),e((0,d.Z)(i)),window.addEventListener("location-changed",(function(){i._searchParms=new URLSearchParams(window.location.search)})),window.addEventListener("popstate",(function(){i._searchParms=new URLSearchParams(window.location.search)})),i}return(0,o.Z)(n)}(i),d:[{kind:"get",static:!0,key:"styles",value:function(){return(0,w.iv)(n||(n=(0,p.Z)([".content{padding:4px}mwc-fab{position:fixed;bottom:16px;right:16px;z-index:1}"])))}},{kind:"field",decorators:[(0,v.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,v.Cb)()],key:"narrow",value:function(){return!1}},{kind:"field",decorators:[(0,v.Cb)()],key:"isWide",value:function(){return!1}},{kind:"field",decorators:[(0,v.Cb)()],key:"devices",value:void 0},{kind:"field",decorators:[(0,v.Cb)()],key:"entries",value:void 0},{kind:"field",decorators:[(0,v.Cb)()],key:"entities",value:void 0},{kind:"field",decorators:[(0,v.Cb)()],key:"areas",value:void 0},{kind:"field",decorators:[(0,v.Cb)()],key:"route",value:void 0},{kind:"field",decorators:[(0,v.Cb)()],key:"_searchParms",value:function(){return new URLSearchParams(window.location.search)}},{kind:"field",key:"_activeFilters",value:function(){var e=this;return(0,Z.Z)((function(i,t,n){var a=[];return t.forEach((function(t,s){switch(s){case"config_entry":var o=i.find((function(e){return e.entry_id===t}));if(!o)break;var r=(0,E.Lh)(n,o.domain);a.push("".concat(e.hass.localize("ui.panel.config.integrations.integration")," ").concat(r).concat(r!==o.title?": ".concat(o.title):""))}})),a.length?a:void 0}))}},{kind:"field",key:"_devices",value:function(){var e=this;return(0,Z.Z)((function(i,t,n,a,s,o){var r,d=i,c={},l=(0,m.Z)(i);try{for(l.s();!(r=l.n()).done;){var u=r.value;c[u.id]=u}}catch(P){l.e(P)}finally{l.f()}var h,f={},v=(0,m.Z)(n);try{for(v.s();!(h=v.n()).done;){var k=h.value;k.device_id&&(k.device_id in f||(f[k.device_id]=[]),f[k.device_id].push(k))}}catch(P){v.e(P)}finally{v.f()}var _,y={},g=(0,m.Z)(t);try{for(g.s();!(_=g.n()).done;){var p=_.value;y[p.entry_id]=p}}catch(P){g.e(P)}finally{g.f()}var w,Z={},C=(0,m.Z)(a);try{for(C.s();!(w=C.n()).done;){var E=w.value;Z[E.area_id]=E}}catch(P){C.e(P)}finally{C.f()}return s.forEach((function(e,i){if("config_entry"===i)d=d.filter((function(i){return i.config_entries.includes(e)}))})),d=d.map((function(i){return Object.assign(Object.assign({},i),{},{name:(0,b.jL)(i,e.hass,f[i.id]),model:i.model||"<unknown>",manufacturer:i.manufacturer||"<unknown>",area:i.area_id?Z[i.area_id].name:e.hass.localize("ui.panel.config.devices.data_table.no_area"),integration:i.config_entries.length?i.config_entries.filter((function(e){return e in y})).map((function(e){return o("component.".concat(y[e].domain,".title"))||y[e].domain})).join(", "):"No integration",sw_version:i.sw_version})})),d}))}},{kind:"field",key:"_columns",value:function(){var e=this;return(0,Z.Z)((function(i){var t=i?{name:{title:"Device",sortable:!0,filterable:!0,direction:"asc",grows:!0,template:function(e,i){return(0,w.dy)(a||(a=(0,p.Z)([" ",' <div class="secondary"> '," | "," </div> "])),e,i.area,i.integration)}}}:{name:{title:e.hass.localize("ui.panel.config.devices.data_table.device"),sortable:!0,filterable:!0,grows:!0,direction:"asc"}};return t.manufacturer={title:e.hass.localize("ui.panel.config.devices.data_table.manufacturer"),sortable:!0,hidden:i,filterable:!0,width:"15%"},t.model={title:e.hass.localize("ui.panel.config.devices.data_table.model"),sortable:!0,hidden:i,filterable:!0,width:"15%"},t.area={title:e.hass.localize("ui.panel.config.devices.data_table.area"),sortable:!0,hidden:i,filterable:!0,width:"15%"},t.integration={title:e.hass.localize("ui.panel.config.devices.data_table.integration"),sortable:!0,hidden:i,filterable:!0,width:"15%"},t.sw_version={title:"Wersja",sortable:!0,width:i?"90px":"15%",maxWidth:"90px"},t}))}},{kind:"method",key:"render",value:function(){return(0,w.dy)(s||(s=(0,p.Z)([' <hass-tabs-subpage-data-table .hass="','" .narrow="','" .backPath="','" .tabs="','" .route="','" .columns="','" .data="','" .activeFilters="','" @row-click="','"> </hass-tabs-subpage-data-table> <mwc-fab ?is-wide="','" icon="hass:plus" title="Dodaj urzÄ…dzenie" @click="','" class=""> <ha-svg-icon slot="icon" path="','"></ha-svg-icon> </mwc-fab> '])),this.hass,this.narrow,this._searchParms.has("historyBack")?void 0:"/config",P.configSections.devices,this.route,this._columns(this.narrow),this._devices(this.devices,this.entries,this.entities,this.areas,this._searchParms,this.hass.localize),this._activeFilters(this.entries,this._searchParms,this.hass.localize),this._handleRowClicked,!0,this._addDevice,"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z")}},{kind:"method",key:"_handleRowClicked",value:function(e){var i=e.detail.id;(0,C.c)("/config/devices/device/".concat(i))}},{kind:"method",key:"_continueFlow",value:function(e){(0,z.t)(this,{continueFlowId:e,dialogClosedCallback:function(){console.log("OK")}})}},{kind:"method",key:"_addDevice",value:function(){var e=this;this.hass.callApi("POST","config/config_entries/flow",{handler:"ais_dom_device"}).then((function(i){console.log(i),e._continueFlow(i.flow_id)}))}}]}}),w.oi),(0,u.Z)([(0,v.Mo)("ha-config-ais-dom-devices")],(function(e,i){var t=function(i){(0,c.Z)(n,i);var t=(0,l.Z)(n);function n(){var i;(0,r.Z)(this,n);for(var a=arguments.length,s=new Array(a),o=0;o<a;o++)s[o]=arguments[o];return i=t.call.apply(t,[this].concat(s)),e((0,d.Z)(i)),i}return(0,o.Z)(n)}(i);return{F:t,d:[{kind:"field",decorators:[(0,v.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,v.Cb)()],key:"narrow",value:void 0},{kind:"field",decorators:[(0,v.Cb)()],key:"isWide",value:void 0},{kind:"field",decorators:[(0,v.Cb)()],key:"showAdvanced",value:void 0},{kind:"field",key:"routerOptions",value:function(){return{defaultPage:"dashboard",routes:{dashboard:{tag:"ha-config-ais-dom-devices-dashboard",cache:!0},device:{tag:"ha-config-device-page"}}}}},{kind:"field",decorators:[(0,v.Cb)()],key:"_configEntries",value:function(){return[]}},{kind:"field",decorators:[(0,v.Cb)()],key:"_entityRegistryEntries",value:function(){return[]}},{kind:"field",decorators:[(0,v.Cb)()],key:"_deviceRegistryEntries",value:function(){return[]}},{kind:"field",decorators:[(0,v.Cb)()],key:"_areas",value:function(){return[]}},{kind:"field",key:"_unsubs",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,h.Z)((0,f.Z)(t.prototype),"connectedCallback",this).call(this),this.hass&&this._loadData()}},{kind:"method",key:"disconnectedCallback",value:function(){if((0,h.Z)((0,f.Z)(t.prototype),"disconnectedCallback",this).call(this),this._unsubs){for(;this._unsubs.length;)this._unsubs.pop()();this._unsubs=void 0}}},{kind:"method",key:"firstUpdated",value:function(e){var i=this;(0,h.Z)((0,f.Z)(t.prototype),"firstUpdated",this).call(this,e),this.addEventListener("hass-reload-entries",(function(){i._loadData()}))}},{kind:"method",key:"updated",value:function(e){(0,h.Z)((0,f.Z)(t.prototype),"updated",this).call(this,e),!this._unsubs&&e.has("hass")&&this._loadData()}},{kind:"method",key:"updatePageEl",value:function(e){e.hass=this.hass,"device"===this._currentPage&&(e.deviceId=this.routeTail.path.substr(1)),e.entities=this._entityRegistryEntries,e.entries=this._configEntries,e.devices=this._deviceRegistryEntries,e.areas=this._areas,e.narrow=this.narrow,e.isWide=this.isWide,e.showAdvanced=this.showAdvanced,e.route=this.routeTail}},{kind:"method",key:"_loadData",value:function(){var e=this;(0,_.pB)(this.hass).then((function(i){e._configEntries=i})),this._unsubs||(this._unsubs=[(0,k.sG)(this.hass.connection,(function(i){e._areas=i})),(0,y.LM)(this.hass.connection,(function(i){e._entityRegistryEntries=i})),(0,b.q4)(this.hass.connection,(function(i){e._deviceRegistryEntries=i.filter((function(e){return"AI-Speaker"===e.manufacturer}))}))])}}]}}),g.n)}}]);
//# sourceMappingURL=44524-s636xBKA35Q.js.map