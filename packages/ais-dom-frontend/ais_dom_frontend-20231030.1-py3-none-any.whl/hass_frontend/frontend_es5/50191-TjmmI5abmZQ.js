/*! For license information please see 50191-TjmmI5abmZQ.js.LICENSE.txt */
"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[50191],{30879:function(e,r,t){t.d(r,{D:function(){return w}});var i,n,a,o,s,c=t(33368),d=t(71650),l=t(69205),u=t(70906),p=t(87480),h=t(79932),f=t(88962),m=t(34541),g=t(47838),v=t(38103),y=t(68144),b=t(83448),_=t(30153),k=t(47501),Z=function(e){(0,l.Z)(t,e);var r=(0,u.Z)(t);function t(){var e;return(0,d.Z)(this,t),(e=r.apply(this,arguments)).indeterminate=!1,e.progress=0,e.density=0,e.closed=!1,e}return(0,c.Z)(t,[{key:"open",value:function(){this.closed=!1}},{key:"close",value:function(){this.closed=!0}},{key:"render",value:function(){var e={"mdc-circular-progress--closed":this.closed,"mdc-circular-progress--indeterminate":this.indeterminate},r=48+4*this.density,t={width:"".concat(r,"px"),height:"".concat(r,"px")};return(0,y.dy)(i||(i=(0,f.Z)([' <div class="mdc-circular-progress ','" style="','" role="progressbar" aria-label="','" aria-valuemin="0" aria-valuemax="1" aria-valuenow="','"> '," "," </div>"])),(0,b.$)(e),(0,k.V)(t),(0,_.o)(this.ariaLabel),(0,_.o)(this.indeterminate?void 0:this.progress),this.renderDeterminateContainer(),this.renderIndeterminateContainer())}},{key:"renderDeterminateContainer",value:function(){var e=48+4*this.density,r=e/2,t=this.density>=-3?18+11*this.density/6:12.5+5*(this.density+3)/4,i=6.2831852*t,a=(1-this.progress)*i,o=this.density>=-3?4+this.density*(1/3):3+(this.density+3)*(1/6);return(0,y.dy)(n||(n=(0,f.Z)([' <div class="mdc-circular-progress__determinate-container"> <svg class="mdc-circular-progress__determinate-circle-graphic" viewBox="0 0 '," ",'"> <circle class="mdc-circular-progress__determinate-track" cx="','" cy="','" r="','" stroke-width="','"></circle> <circle class="mdc-circular-progress__determinate-circle" cx="','" cy="','" r="','" stroke-dasharray="','" stroke-dashoffset="','" stroke-width="','"></circle> </svg> </div>'])),e,e,r,r,t,o,r,r,t,6.2831852*t,a,o)}},{key:"renderIndeterminateContainer",value:function(){return(0,y.dy)(a||(a=(0,f.Z)([' <div class="mdc-circular-progress__indeterminate-container"> <div class="mdc-circular-progress__spinner-layer"> '," </div> </div>"])),this.renderIndeterminateSpinnerLayer())}},{key:"renderIndeterminateSpinnerLayer",value:function(){var e=48+4*this.density,r=e/2,t=this.density>=-3?18+11*this.density/6:12.5+5*(this.density+3)/4,i=6.2831852*t,n=.5*i,a=this.density>=-3?4+this.density*(1/3):3+(this.density+3)*(1/6);return(0,y.dy)(o||(o=(0,f.Z)([' <div class="mdc-circular-progress__circle-clipper mdc-circular-progress__circle-left"> <svg class="mdc-circular-progress__indeterminate-circle-graphic" viewBox="0 0 '," ",'"> <circle cx="','" cy="','" r="','" stroke-dasharray="','" stroke-dashoffset="','" stroke-width="','"></circle> </svg> </div> <div class="mdc-circular-progress__gap-patch"> <svg class="mdc-circular-progress__indeterminate-circle-graphic" viewBox="0 0 '," ",'"> <circle cx="','" cy="','" r="','" stroke-dasharray="','" stroke-dashoffset="','" stroke-width="','"></circle> </svg> </div> <div class="mdc-circular-progress__circle-clipper mdc-circular-progress__circle-right"> <svg class="mdc-circular-progress__indeterminate-circle-graphic" viewBox="0 0 '," ",'"> <circle cx="','" cy="','" r="','" stroke-dasharray="','" stroke-dashoffset="','" stroke-width="','"></circle> </svg> </div>'])),e,e,r,r,t,i,n,a,e,e,r,r,t,i,n,.8*a,e,e,r,r,t,i,n,a)}},{key:"update",value:function(e){(0,m.Z)((0,g.Z)(t.prototype),"update",this).call(this,e),e.has("progress")&&(this.progress>1&&(this.progress=1),this.progress<0&&(this.progress=0))}}]),t}(y.oi);(0,p.__decorate)([(0,h.Cb)({type:Boolean,reflect:!0})],Z.prototype,"indeterminate",void 0),(0,p.__decorate)([(0,h.Cb)({type:Number,reflect:!0})],Z.prototype,"progress",void 0),(0,p.__decorate)([(0,h.Cb)({type:Number,reflect:!0})],Z.prototype,"density",void 0),(0,p.__decorate)([(0,h.Cb)({type:Boolean,reflect:!0})],Z.prototype,"closed",void 0),(0,p.__decorate)([v.L,(0,h.Cb)({type:String,attribute:"aria-label"})],Z.prototype,"ariaLabel",void 0);var x=(0,y.iv)(s||(s=(0,f.Z)([".mdc-circular-progress__determinate-circle,.mdc-circular-progress__indeterminate-circle-graphic{stroke:#6200ee;stroke:var(--mdc-theme-primary,#6200ee)}.mdc-circular-progress__determinate-track{stroke:transparent}@keyframes mdc-circular-progress-container-rotate{to{transform:rotate(360deg)}}@keyframes mdc-circular-progress-spinner-layer-rotate{12.5%{transform:rotate(135deg)}25%{transform:rotate(270deg)}37.5%{transform:rotate(405deg)}50%{transform:rotate(540deg)}62.5%{transform:rotate(675deg)}75%{transform:rotate(810deg)}87.5%{transform:rotate(945deg)}100%{transform:rotate(1080deg)}}@keyframes mdc-circular-progress-color-1-fade-in-out{from{opacity:.99}25%{opacity:.99}26%{opacity:0}89%{opacity:0}90%{opacity:.99}to{opacity:.99}}@keyframes mdc-circular-progress-color-2-fade-in-out{from{opacity:0}15%{opacity:0}25%{opacity:.99}50%{opacity:.99}51%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-3-fade-in-out{from{opacity:0}40%{opacity:0}50%{opacity:.99}75%{opacity:.99}76%{opacity:0}to{opacity:0}}@keyframes mdc-circular-progress-color-4-fade-in-out{from{opacity:0}65%{opacity:0}75%{opacity:.99}90%{opacity:.99}to{opacity:0}}@keyframes mdc-circular-progress-left-spin{from{transform:rotate(265deg)}50%{transform:rotate(130deg)}to{transform:rotate(265deg)}}@keyframes mdc-circular-progress-right-spin{from{transform:rotate(-265deg)}50%{transform:rotate(-130deg)}to{transform:rotate(-265deg)}}.mdc-circular-progress{display:inline-flex;position:relative;direction:ltr;line-height:0;transition:opacity 250ms 0s cubic-bezier(.4,0,.6,1)}.mdc-circular-progress__determinate-container,.mdc-circular-progress__indeterminate-circle-graphic,.mdc-circular-progress__indeterminate-container,.mdc-circular-progress__spinner-layer{position:absolute;width:100%;height:100%}.mdc-circular-progress__determinate-container{transform:rotate(-90deg)}.mdc-circular-progress__indeterminate-container{font-size:0;letter-spacing:0;white-space:nowrap;opacity:0}.mdc-circular-progress__determinate-circle-graphic,.mdc-circular-progress__indeterminate-circle-graphic{fill:transparent}.mdc-circular-progress__determinate-circle{transition:stroke-dashoffset .5s 0s cubic-bezier(0,0,.2,1)}.mdc-circular-progress__gap-patch{position:absolute;top:0;left:47.5%;box-sizing:border-box;width:5%;height:100%;overflow:hidden}.mdc-circular-progress__gap-patch .mdc-circular-progress__indeterminate-circle-graphic{left:-900%;width:2000%;transform:rotate(180deg)}.mdc-circular-progress__circle-clipper{display:inline-flex;position:relative;width:50%;height:100%;overflow:hidden}.mdc-circular-progress__circle-clipper .mdc-circular-progress__indeterminate-circle-graphic{width:200%}.mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{left:-100%}.mdc-circular-progress--indeterminate .mdc-circular-progress__determinate-container{opacity:0}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{opacity:1}.mdc-circular-progress--indeterminate .mdc-circular-progress__indeterminate-container{animation:mdc-circular-progress-container-rotate 1.568s linear infinite}.mdc-circular-progress--indeterminate .mdc-circular-progress__spinner-layer{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-1{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both,mdc-circular-progress-color-1-fade-in-out 5332ms cubic-bezier(.4,0,.2,1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-2{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both,mdc-circular-progress-color-2-fade-in-out 5332ms cubic-bezier(.4,0,.2,1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-3{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both,mdc-circular-progress-color-3-fade-in-out 5332ms cubic-bezier(.4,0,.2,1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__color-4{animation:mdc-circular-progress-spinner-layer-rotate 5332ms cubic-bezier(.4,0,.2,1) infinite both,mdc-circular-progress-color-4-fade-in-out 5332ms cubic-bezier(.4,0,.2,1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-left .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-left-spin 1333ms cubic-bezier(.4,0,.2,1) infinite both}.mdc-circular-progress--indeterminate .mdc-circular-progress__circle-right .mdc-circular-progress__indeterminate-circle-graphic{animation:mdc-circular-progress-right-spin 1333ms cubic-bezier(.4,0,.2,1) infinite both}.mdc-circular-progress--closed{opacity:0}:host{display:inline-flex}.mdc-circular-progress__determinate-track{stroke:transparent;stroke:var(--mdc-circular-progress-track-color,transparent)}"]))),w=function(e){(0,l.Z)(t,e);var r=(0,u.Z)(t);function t(){return(0,d.Z)(this,t),r.apply(this,arguments)}return(0,c.Z)(t)}(Z);w.styles=[x],w=(0,p.__decorate)([(0,h.Mo)("mwc-circular-progress")],w)},25782:function(e,r,t){var i,n=t(88962),a=(t(1449),t(65660),t(70019),t(97968),t(9672)),o=t(50856),s=t(33760);(0,a.k)({_template:(0,o.d)(i||(i=(0,n.Z)(['\n    <style include="paper-item-shared-styles"></style>\n    <style>\n      :host {\n        @apply --layout-horizontal;\n        @apply --layout-center;\n        @apply --paper-font-subhead;\n\n        @apply --paper-item;\n        @apply --paper-icon-item;\n      }\n\n      .content-icon {\n        @apply --layout-horizontal;\n        @apply --layout-center;\n\n        width: var(--paper-item-icon-width, 56px);\n        @apply --paper-item-icon;\n      }\n    </style>\n\n    <div id="contentIcon" class="content-icon">\n      <slot name="item-icon"></slot>\n    </div>\n    <slot></slot>\n']))),is:"paper-icon-item",behaviors:[s.U]})},25516:function(e,r,t){t.d(r,{i:function(){return n}});var i=(0,t(8330).P)((function(e){history.replaceState({scrollPosition:e},"")}),300),n=function(e){return function(r){return{kind:"method",placement:"prototype",key:r.key,descriptor:{set:function(e){i(e),this["__".concat(String(r.key))]=e},get:function(){var e;return this["__".concat(String(r.key))]||(null===(e=history.state)||void 0===e?void 0:e.scrollPosition)},enumerable:!0,configurable:!0},finisher:function(t){var i=t.prototype.connectedCallback;t.prototype.connectedCallback=function(){var t=this;i.call(this);var n=this[r.key];n&&this.updateComplete.then((function(){var r=t.renderRoot.querySelector(e);r&&setTimeout((function(){r.scrollTop=n}),0)}))}}}}}},8330:function(e,r,t){t.d(r,{P:function(){return i}});var i=function(e,r){var t,i=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=0,o=function(){for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];var d=Date.now();a||!1!==i||(a=d);var l=r-(d-a);l<=0||l>r?(t&&(clearTimeout(t),t=void 0),a=d,e.apply(void 0,s)):t||!1===n||(t=window.setTimeout((function(){a=!1===i?0:Date.now(),t=void 0,e.apply(void 0,s)}),l))};return o.cancel=function(){clearTimeout(t),t=void 0,a=0},o}},22098:function(e,r,t){var i,n,a,o=t(88962),s=t(33368),c=t(71650),d=t(82390),l=t(69205),u=t(70906),p=t(91808),h=t(68144),f=t(79932);(0,p.Z)([(0,f.Mo)("ha-card")],(function(e,r){var t=function(r){(0,l.Z)(i,r);var t=(0,u.Z)(i);function i(){var r;(0,c.Z)(this,i);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),e((0,d.Z)(r)),r}return(0,s.Z)(i)}(r);return{F:t,d:[{kind:"field",decorators:[(0,f.Cb)()],key:"header",value:void 0},{kind:"field",decorators:[(0,f.Cb)({type:Boolean,reflect:!0})],key:"raised",value:function(){return!1}},{kind:"get",static:!0,key:"styles",value:function(){return(0,h.iv)(i||(i=(0,o.Z)([":host{background:var(--ha-card-background,var(--card-background-color,#fff));box-shadow:var(--ha-card-box-shadow,none);box-sizing:border-box;border-radius:var(--ha-card-border-radius,12px);border-width:var(--ha-card-border-width,1px);border-style:solid;border-color:var(--ha-card-border-color,var(--divider-color,#e0e0e0));color:var(--primary-text-color);display:block;transition:all .3s ease-out;position:relative}:host([raised]){border:none;box-shadow:var(--ha-card-box-shadow,0px 2px 1px -1px rgba(0,0,0,.2),0px 1px 1px 0px rgba(0,0,0,.14),0px 1px 3px 0px rgba(0,0,0,.12))}.card-header,:host ::slotted(.card-header){color:var(--ha-card-header-color,--primary-text-color);font-family:var(--ha-card-header-font-family,inherit);font-size:var(--ha-card-header-font-size,24px);letter-spacing:-.012em;line-height:48px;padding:12px 16px 16px;display:block;margin-block-start:0px;margin-block-end:0px;font-weight:400}:host ::slotted(.card-content:not(:first-child)),slot:not(:first-child)::slotted(.card-content){padding-top:0px;margin-top:-8px}:host ::slotted(.card-content){padding:16px}:host ::slotted(.card-actions){border-top:1px solid var(--divider-color,#e8e8e8);padding:5px 16px}"])))}},{kind:"method",key:"render",value:function(){return(0,h.dy)(n||(n=(0,o.Z)([" "," <slot></slot> "])),this.header?(0,h.dy)(a||(a=(0,o.Z)(['<h1 class="card-header">',"</h1>"])),this.header):h.Ld)}}]}}),h.oi)},31206:function(e,r,t){t.r(r),t.d(r,{HaCircularProgress:function(){return g}});var i,n=t(88962),a=t(33368),o=t(71650),s=t(82390),c=t(69205),d=t(70906),l=t(91808),u=t(34541),p=t(47838),h=t(30879),f=t(68144),m=t(79932),g=(0,l.Z)([(0,m.Mo)("ha-circular-progress")],(function(e,r){var t=function(r){(0,c.Z)(i,r);var t=(0,d.Z)(i);function i(){var r;(0,o.Z)(this,i);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return r=t.call.apply(t,[this].concat(a)),e((0,s.Z)(r)),r}return(0,a.Z)(i)}(r);return{F:t,d:[{kind:"field",decorators:[(0,m.Cb)({type:Boolean})],key:"active",value:function(){return!1}},{kind:"field",decorators:[(0,m.Cb)()],key:"alt",value:function(){return"Loading"}},{kind:"field",decorators:[(0,m.Cb)()],key:"size",value:function(){return"medium"}},{kind:"set",key:"density",value:function(e){}},{kind:"get",key:"density",value:function(){switch(this.size){case"tiny":return-8;case"small":return-5;case"medium":default:return 0;case"large":return 5}}},{kind:"set",key:"indeterminate",value:function(e){}},{kind:"get",key:"indeterminate",value:function(){return this.active}},{kind:"get",static:!0,key:"styles",value:function(){return[(0,u.Z)((0,p.Z)(t),"styles",this),(0,f.iv)(i||(i=(0,n.Z)([":host{overflow:hidden}"])))]}}]}}),h.D)},36125:function(e,r,t){var i,n,a,o=t(88962),s=t(33368),c=t(71650),d=t(82390),l=t(69205),u=t(70906),p=t(91808),h=t(34541),f=t(47838),m=t(48095),g=t(72477),v=t(79932),y=t(68144);(0,p.Z)([(0,v.Mo)("ha-fab")],(function(e,r){var t=function(r){(0,l.Z)(i,r);var t=(0,u.Z)(i);function i(){var r;(0,c.Z)(this,i);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),e((0,d.Z)(r)),r}return(0,s.Z)(i)}(r);return{F:t,d:[{kind:"method",key:"firstUpdated",value:function(e){(0,h.Z)((0,f.Z)(t.prototype),"firstUpdated",this).call(this,e),this.style.setProperty("--mdc-theme-secondary","var(--primary-color)")}},{kind:"field",static:!0,key:"styles",value:function(){return[g.W,(0,y.iv)(i||(i=(0,o.Z)([":host .mdc-fab--extended .mdc-fab__icon{margin-inline-start:-8px;margin-inline-end:12px;direction:var(--direction)}"]))),"rtl"===document.dir?(0,y.iv)(n||(n=(0,o.Z)([":host .mdc-fab--extended .mdc-fab__icon{direction:rtl}"]))):(0,y.iv)(a||(a=(0,o.Z)([""])))]}}]}}),m._)},2315:function(e,r,t){var i,n=t(88962),a=t(33368),o=t(71650),s=t(82390),c=t(69205),d=t(70906),l=t(91808),u=t(68144),p=t(79932);t(10983),(0,l.Z)([(0,p.Mo)("ha-icon-button-arrow-prev")],(function(e,r){var t=function(r){(0,c.Z)(i,r);var t=(0,d.Z)(i);function i(){var r;(0,o.Z)(this,i);for(var n=arguments.length,a=new Array(n),c=0;c<n;c++)a[c]=arguments[c];return r=t.call.apply(t,[this].concat(a)),e((0,s.Z)(r)),r}return(0,a.Z)(i)}(r);return{F:t,d:[{kind:"field",decorators:[(0,p.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,p.Cb)({type:Boolean})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,p.Cb)()],key:"label",value:void 0},{kind:"field",decorators:[(0,p.SB)()],key:"_icon",value:function(){return"ltr"===document.dir?"M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z":"M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z"}},{kind:"method",key:"render",value:function(){var e;return(0,u.dy)(i||(i=(0,n.Z)([' <ha-icon-button .disabled="','" .label="','" .path="','"></ha-icon-button> '])),this.disabled,this.label||(null===(e=this.hass)||void 0===e?void 0:e.localize("ui.common.back"))||"Back",this._icon)}}]}}),u.oi)},48932:function(e,r,t){var i,n,a,o=t(88962),s=t(33368),c=t(71650),d=t(82390),l=t(69205),u=t(70906),p=t(91808),h=t(34541),f=t(47838),m=t(68144),g=t(79932),v=t(47181),y=t(6936);t(10983),(0,p.Z)([(0,g.Mo)("ha-menu-button")],(function(e,r){var t=function(r){(0,l.Z)(i,r);var t=(0,u.Z)(i);function i(){var r;(0,c.Z)(this,i);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),e((0,d.Z)(r)),r}return(0,s.Z)(i)}(r);return{F:t,d:[{kind:"field",decorators:[(0,g.Cb)({type:Boolean})],key:"hassio",value:function(){return!1}},{kind:"field",decorators:[(0,g.Cb)()],key:"narrow",value:void 0},{kind:"field",decorators:[(0,g.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,g.SB)()],key:"_hasNotifications",value:function(){return!1}},{kind:"field",decorators:[(0,g.SB)()],key:"_show",value:function(){return!1}},{kind:"field",key:"_alwaysVisible",value:function(){return!1}},{kind:"field",key:"_attachNotifOnConnect",value:function(){return!1}},{kind:"field",key:"_unsubNotifications",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,h.Z)((0,f.Z)(t.prototype),"connectedCallback",this).call(this),this._attachNotifOnConnect&&(this._attachNotifOnConnect=!1,this._subscribeNotifications())}},{kind:"method",key:"disconnectedCallback",value:function(){(0,h.Z)((0,f.Z)(t.prototype),"disconnectedCallback",this).call(this),this._unsubNotifications&&(this._attachNotifOnConnect=!0,this._unsubNotifications(),this._unsubNotifications=void 0)}},{kind:"method",key:"render",value:function(){if(!this._show)return m.Ld;var e=this._hasNotifications&&(this.narrow||"always_hidden"===this.hass.dockedSidebar);return(0,m.dy)(i||(i=(0,o.Z)([' <ha-icon-button .label="','" .path="','" @click="','"></ha-icon-button> '," "])),this.hass.localize("ui.sidebar.sidebar_toggle"),"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z",this._toggleMenu,e?(0,m.dy)(n||(n=(0,o.Z)(['<div class="dot"></div>']))):"")}},{kind:"method",key:"firstUpdated",value:function(e){(0,h.Z)((0,f.Z)(t.prototype),"firstUpdated",this).call(this,e),this.hassio&&(this._alwaysVisible=(Number(window.parent.frontendVersion)||0)<20190710)}},{kind:"method",key:"willUpdate",value:function(e){if((0,h.Z)((0,f.Z)(t.prototype),"willUpdate",this).call(this,e),e.has("narrow")||e.has("hass")){var r=e.has("hass")?e.get("hass"):this.hass,i=(e.has("narrow")?e.get("narrow"):this.narrow)||"always_hidden"===(null==r?void 0:r.dockedSidebar),n=this.narrow||"always_hidden"===this.hass.dockedSidebar;this.hasUpdated&&i===n||(this._show=n||this._alwaysVisible,n?this._subscribeNotifications():this._unsubNotifications&&(this._unsubNotifications(),this._unsubNotifications=void 0))}}},{kind:"method",key:"_subscribeNotifications",value:function(){var e=this;if(this._unsubNotifications)throw new Error("Already subscribed");this._unsubNotifications=(0,y.r)(this.hass.connection,(function(r){e._hasNotifications=r.length>0}))}},{kind:"method",key:"_toggleMenu",value:function(){(0,v.B)(this,"hass-toggle-menu")}},{kind:"get",static:!0,key:"styles",value:function(){return(0,m.iv)(a||(a=(0,o.Z)([":host{position:relative}.dot{pointer-events:none;position:absolute;background-color:var(--accent-color);width:12px;height:12px;top:9px;right:7px;border-radius:50%;border:2px solid var(--app-header-background-color)}"])))}}]}}),m.oi)},6936:function(e,r,t){t.d(r,{r:function(){return a}});var i=t(71650),n=t(33368),a=function(e,r){var t=new o,i=e.subscribeMessage((function(e){return r(t.processMessage(e))}),{type:"persistent_notification/subscribe"});return function(){i.then((function(e){return null==e?void 0:e()}))}},o=function(){function e(){(0,i.Z)(this,e),this.notifications=void 0,this.notifications={}}return(0,n.Z)(e,[{key:"processMessage",value:function(e){if("removed"===e.type)for(var r=0,t=Object.keys(e.notifications);r<t.length;r++){var i=t[r];delete this.notifications[i]}else this.notifications=Object.assign(Object.assign({},this.notifications),e.notifications);return Object.values(this.notifications)}}]),e}()},65253:function(e,r,t){t.d(r,{CE:function(){return o},FH:function(){return p},Nq:function(){return d},Pb:function(){return a},fm:function(){return u},h8:function(){return l},r4:function(){return c},uh:function(){return s}});var i=t(99312),n=t(81043),a="system-admin",o="system-users",s=function(){var e=(0,n.Z)((0,i.Z)().mark((function e(r){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.callWS({type:"config/auth/list"}));case 1:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),c=function(){var e=(0,n.Z)((0,i.Z)().mark((function e(r,t,n,a){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.callWS({type:"config/auth/create",name:t,group_ids:n,local_only:a}));case 1:case"end":return e.stop()}}),e)})));return function(r,t,i,n){return e.apply(this,arguments)}}(),d=function(){var e=(0,n.Z)((0,i.Z)().mark((function e(r,t,n){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.callWS(Object.assign(Object.assign({},n),{},{type:"config/auth/update",user_id:t})));case 1:case"end":return e.stop()}}),e)})));return function(r,t,i){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)((0,i.Z)().mark((function e(r,t){return(0,i.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",r.callWS({type:"config/auth/delete",user_id:t}));case 1:case"end":return e.stop()}}),e)})));return function(r,t){return e.apply(this,arguments)}}(),u=function(e){return e?e.trim().split(" ").slice(0,3).map((function(e){return e.substring(0,1)})).join(""):"?"},p=function(e,r,t){var i=[],n=function(r){return e.localize("ui.panel.config.users.".concat(r))};return r.is_owner&&i.push(["M12 2C6.47 2 2 6.5 2 12C2 17.5 6.5 22 12 22S22 17.5 22 12 17.5 2 12 2M12 20C7.58 20 4 16.42 4 12C4 7.58 7.58 4 12 4S20 7.58 20 12C20 16.42 16.42 20 12 20M8 14L7 8L10 10L12 7L14 10L17 8L16 14H8M8.56 16C8.22 16 8 15.78 8 15.44V15H16V15.44C16 15.78 15.78 16 15.44 16H8.56Z",n("is_owner")]),t&&r.system_generated&&i.push(["M11,7H15V9H11V11H13A2,2 0 0,1 15,13V15A2,2 0 0,1 13,17H9V15H13V13H11A2,2 0 0,1 9,11V9A2,2 0 0,1 11,7M12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12A10,10 0 0,1 12,2M12,4A8,8 0 0,0 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12A8,8 0 0,0 12,4Z",n("is_system")]),r.local_only&&i.push(["M12 20C7.6 20 4 16.4 4 12S7.6 4 12 4 20 7.6 20 12 16.4 20 12 20M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M11 14H13V17H16V12H18L12 7L6 12H8V17H11V14",n("is_local")]),r.is_active||i.push(["M12 2C17.5 2 22 6.5 22 12S17.5 22 12 22 2 17.5 2 12 6.5 2 12 2M12 4C10.1 4 8.4 4.6 7.1 5.7L18.3 16.9C19.3 15.5 20 13.8 20 12C20 7.6 16.4 4 12 4M16.9 18.3L5.7 7.1C4.6 8.4 4 10.1 4 12C4 16.4 7.6 20 12 20C13.9 20 15.6 19.4 16.9 18.3Z",n("is_not_active")]),i}},15291:function(e,r,t){t.r(r);var i,n,a,o,s,c,d=t(88962),l=t(33368),u=t(71650),p=t(82390),h=t(69205),f=t(70906),m=t(91808),g=t(68144),v=t(79932),y=(t(31206),t(2315),t(48932),t(11654));(0,m.Z)([(0,v.Mo)("hass-loading-screen")],(function(e,r){var t=function(r){(0,h.Z)(i,r);var t=(0,f.Z)(i);function i(){var r;(0,u.Z)(this,i);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),e((0,p.Z)(r)),r}return(0,l.Z)(i)}(r);return{F:t,d:[{kind:"field",decorators:[(0,v.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,v.Cb)({type:Boolean,attribute:"no-toolbar"})],key:"noToolbar",value:function(){return!1}},{kind:"field",decorators:[(0,v.Cb)({type:Boolean})],key:"rootnav",value:function(){return!1}},{kind:"field",decorators:[(0,v.Cb)({type:Boolean})],key:"narrow",value:function(){return!1}},{kind:"field",decorators:[(0,v.Cb)()],key:"message",value:void 0},{kind:"method",key:"render",value:function(){var e;return(0,g.dy)(i||(i=(0,d.Z)([" ",' <div class="content"> <ha-circular-progress active></ha-circular-progress> '," </div> "])),this.noToolbar?"":(0,g.dy)(n||(n=(0,d.Z)(['<div class="toolbar"> '," </div>"])),this.rootnav||null!==(e=history.state)&&void 0!==e&&e.root?(0,g.dy)(a||(a=(0,d.Z)([' <ha-menu-button .hass="','" .narrow="','"></ha-menu-button> '])),this.hass,this.narrow):(0,g.dy)(o||(o=(0,d.Z)([' <ha-icon-button-arrow-prev .hass="','" @click="','"></ha-icon-button-arrow-prev> '])),this.hass,this._handleBack)),this.message?(0,g.dy)(s||(s=(0,d.Z)(['<div id="loading-text">',"</div>"])),this.message):g.Ld)}},{kind:"method",key:"_handleBack",value:function(){history.back()}},{kind:"get",static:!0,key:"styles",value:function(){return[y.Qx,(0,g.iv)(c||(c=(0,d.Z)([":host{display:block;height:100%;background-color:var(--primary-background-color)}.toolbar{display:flex;align-items:center;font-size:20px;height:var(--header-height);padding:8px 12px;pointer-events:none;background-color:var(--app-header-background-color);font-weight:400;color:var(--app-header-text-color,#fff);border-bottom:var(--app-header-border-bottom,none);box-sizing:border-box}@media (max-width:599px){.toolbar{padding:4px}}ha-icon-button-arrow-prev,ha-menu-button{pointer-events:auto}.content{height:calc(100% - var(--header-height));display:flex;flex-direction:column;align-items:center;justify-content:center}#loading-text{max-width:350px;margin-top:16px}"])))]}}]}}),g.oi)},88165:function(e,r,t){var i,n,a=t(88962),o=t(33368),s=t(71650),c=t(82390),d=t(69205),l=t(70906),u=t(91808),p=t(68144),h=t(79932),f=t(83448);(0,u.Z)([(0,h.Mo)("ha-config-section")],(function(e,r){var t=function(r){(0,d.Z)(i,r);var t=(0,l.Z)(i);function i(){var r;(0,s.Z)(this,i);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),e((0,c.Z)(r)),r}return(0,o.Z)(i)}(r);return{F:t,d:[{kind:"field",decorators:[(0,h.Cb)()],key:"isWide",value:function(){return!1}},{kind:"field",decorators:[(0,h.Cb)({type:Boolean})],key:"vertical",value:function(){return!1}},{kind:"field",decorators:[(0,h.Cb)({type:Boolean,attribute:"full-width"})],key:"fullWidth",value:function(){return!1}},{kind:"method",key:"render",value:function(){return(0,p.dy)(i||(i=(0,a.Z)([' <div class="content ','"> <div class="header"><slot name="header"></slot></div> <div class="together layout ','"> <div class="intro"><slot name="introduction"></slot></div> <div class="panel flex-auto"><slot></slot></div> </div> </div> '])),(0,f.$)({narrow:!this.isWide,"full-width":this.fullWidth}),(0,f.$)({narrow:!this.isWide,vertical:this.vertical||!this.isWide,horizontal:!this.vertical&&this.isWide}))}},{kind:"get",static:!0,key:"styles",value:function(){return(0,p.iv)(n||(n=(0,a.Z)([":host{display:block}.content{padding:28px 20px 0;max-width:1040px;margin:0 auto}.layout{display:flex}.horizontal{flex-direction:row}.vertical{flex-direction:column}.flex-auto{flex:1 1 auto}.header{font-family:var(--paper-font-headline_-_font-family);-webkit-font-smoothing:var(--paper-font-headline_-_-webkit-font-smoothing);font-size:var(--paper-font-headline_-_font-size);font-weight:var(--paper-font-headline_-_font-weight);letter-spacing:var(--paper-font-headline_-_letter-spacing);line-height:var(--paper-font-headline_-_line-height);opacity:var(--dark-primary-opacity)}.together{margin-top:32px}.intro{font-family:var(--paper-font-subhead_-_font-family);-webkit-font-smoothing:var(--paper-font-subhead_-_-webkit-font-smoothing);font-weight:var(--paper-font-subhead_-_font-weight);line-height:var(--paper-font-subhead_-_line-height);width:100%;opacity:var(--dark-primary-opacity);font-size:14px;padding-bottom:20px}.horizontal .intro{max-width:400px;margin-right:40px}.panel{margin-top:-24px}.panel ::slotted(*){margin-top:24px;display:block}.narrow.content{max-width:640px}.narrow .together{margin-top:20px}.narrow .intro{padding-bottom:20px;margin-right:0;max-width:500px}.full-width{padding:0}.full-width .layout{flex-direction:column}"])))}}]}}),p.oi)},43329:function(e,r,t){t.r(r);var i,n,a,o,s,c,d,l,u,p,h,f=t(40039),m=t(99312),g=t(81043),v=t(88962),y=t(33368),b=t(71650),_=t(82390),k=t(69205),Z=t(70906),x=t(91808),w=t(34541),C=t(47838),z=(t(25782),t(89194),t(68144)),L=t(79932),M=t(85415),H=(t(22098),t(36125),t(52039),t(83448)),S=t(47501),V=t(65253),I=((0,x.Z)([(0,L.Mo)("ha-person-badge")],(function(e,r){var t=function(r){(0,k.Z)(i,r);var t=(0,Z.Z)(i);function i(){var r;(0,b.Z)(this,i);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),e((0,_.Z)(r)),r}return(0,y.Z)(i)}(r);return{F:t,d:[{kind:"field",decorators:[(0,L.Cb)({attribute:!1})],key:"person",value:void 0},{kind:"method",key:"render",value:function(){if(!this.person)return z.Ld;var e=this.person.picture;if(e)return(0,z.dy)(i||(i=(0,v.Z)(['<div style="','" class="picture"></div>'])),(0,S.V)({backgroundImage:"url(".concat(e,")")}));var r=(0,V.fm)(this.person.name);return(0,z.dy)(n||(n=(0,v.Z)(['<div class="initials ','"> '," </div>"])),(0,H.$)({long:r.length>2}),r)}},{kind:"get",static:!0,key:"styles",value:function(){return(0,z.iv)(a||(a=(0,v.Z)([":host{display:contents}.picture{width:40px;height:40px;background-size:cover;border-radius:50%}.initials{display:inline-block;box-sizing:border-box;width:40px;line-height:40px;border-radius:50%;text-align:center;background-color:var(--light-primary-color);text-decoration:none;color:var(--text-light-primary-color,var(--primary-text-color));overflow:hidden}.initials.long{font-size:80%}"])))}}]}}),z.oi),function(e,r){return e.callWS(Object.assign({type:"person/create"},r))}),B=t(26765),A=(t(15291),t(49703),t(27322)),N=(t(88165),t(29311)),W=t(47181),D=function(){return Promise.all([t.e(42850),t.e(46992),t.e(79071),t.e(3298),t.e(28597),t.e(50731),t.e(82692),t.e(89995),t.e(81312),t.e(40163),t.e(3143),t.e(7083),t.e(74535),t.e(45970),t.e(55052),t.e(62940)]).then(t.bind(t,32589))},P=(0,x.Z)(null,(function(e,r){var t,i,n=function(r){(0,k.Z)(i,r);var t=(0,Z.Z)(i);function i(){var r;(0,b.Z)(this,i);for(var n=arguments.length,a=new Array(n),o=0;o<n;o++)a[o]=arguments[o];return r=t.call.apply(t,[this].concat(a)),e((0,_.Z)(r)),r}return(0,y.Z)(i)}(r);return{F:n,d:[{kind:"field",decorators:[(0,L.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,L.Cb)()],key:"isWide",value:void 0},{kind:"field",decorators:[(0,L.Cb)()],key:"narrow",value:void 0},{kind:"field",decorators:[(0,L.Cb)()],key:"route",value:void 0},{kind:"field",decorators:[(0,L.SB)()],key:"_storageItems",value:void 0},{kind:"field",decorators:[(0,L.SB)()],key:"_configItems",value:void 0},{kind:"field",key:"_usersLoad",value:void 0},{kind:"method",key:"render",value:function(){var e=this;if(!this.hass||void 0===this._storageItems||void 0===this._configItems)return(0,z.dy)(o||(o=(0,v.Z)([" <hass-loading-screen></hass-loading-screen> "])));var r=this.hass;return(0,z.dy)(s||(s=(0,v.Z)([' <hass-tabs-subpage .hass="','" .narrow="','" .route="','" back-path="/config" .tabs="','"> <ha-config-section .isWide="','"> <span slot="header">','</span> <span slot="introduction"> <p>',"</p> ",' <a href="','" target="_blank" rel="noreferrer"> ',' </a> </span> <ha-card outlined class="storage"> '," "," </ha-card> ",' </ha-config-section> <ha-fab slot="fab" .label="','" extended @click="','"> <ha-svg-icon slot="icon" .path="','"></ha-svg-icon> </ha-fab> </hass-tabs-subpage> '])),this.hass,this.narrow,this.route,N.configSections.persons,this.isWide,r.localize("ui.panel.config.person.caption"),r.localize("ui.panel.config.person.introduction"),this._configItems.length>0?(0,z.dy)(c||(c=(0,v.Z)([" <p> "," </p> "])),r.localize("ui.panel.config.person.note_about_persons_configured_in_yaml")):"",(0,A.R)(this.hass,"/integrations/person/"),this.hass.localize("ui.panel.config.person.learn_more"),this._storageItems.map((function(r){return(0,z.dy)(d||(d=(0,v.Z)([' <paper-icon-item @click="','" .entry="','"> <ha-person-badge slot="item-icon" .person="','"></ha-person-badge> <paper-item-body> '," </paper-item-body> </paper-icon-item> "])),e._openEditEntry,r,r,r.name)})),0===this._storageItems.length?(0,z.dy)(l||(l=(0,v.Z)([' <div class="empty"> ',' <mwc-button @click="','"> ',"</mwc-button> </div> "])),r.localize("ui.panel.config.person.no_persons_created_yet"),this._createPerson,r.localize("ui.panel.config.person.create_person")):z.Ld,this._configItems.length>0?(0,z.dy)(u||(u=(0,v.Z)([' <ha-card outlined header="Configuration.yaml persons"> '," </ha-card> "])),this._configItems.map((function(e){return(0,z.dy)(p||(p=(0,v.Z)([' <paper-icon-item> <ha-person-badge slot="item-icon" .person="','"></ha-person-badge> <paper-item-body> '," </paper-item-body> </paper-icon-item> "])),e,e.name)}))):"",r.localize("ui.panel.config.person.add_person"),this._createPerson,"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z")}},{kind:"method",key:"firstUpdated",value:function(e){(0,w.Z)((0,C.Z)(n.prototype),"firstUpdated",this).call(this,e),this._fetchData(),D()}},{kind:"method",key:"_fetchData",value:(i=(0,g.Z)((0,m.Z)().mark((function e(){var r,t=this;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._usersLoad=(0,V.uh)(this.hass),e.next=3,this.hass.callWS({type:"person/list"});case 3:r=e.sent,this._storageItems=r.storage.sort((function(e,r){return(0,M.$)(e.name,r.name,t.hass.locale.language)})),this._configItems=r.config.sort((function(e,r){return(0,M.$)(e.name,r.name,t.hass.locale.language)})),this._openDialogIfPersonSpecifiedInRoute();case 7:case"end":return e.stop()}}),e,this)}))),function(){return i.apply(this,arguments)})},{kind:"method",key:"_openDialogIfPersonSpecifiedInRoute",value:function(){if(this.route.path.includes("/edit/")){var e=this.route.path.split("/edit/"),r=e.length>1?e[1]:null;if(r){var t,i,n=this._storageItems.find((function(e){return e.id===r}));if(n)this._openDialog(n);else(0,B.showAlertDialog)(this,{title:null===(t=this.hass)||void 0===t?void 0:t.localize("ui.panel.config.person.person_not_found_title"),text:null===(i=this.hass)||void 0===i?void 0:i.localize("ui.panel.config.person.person_not_found")})}}}},{kind:"method",key:"_createPerson",value:function(){this._openDialog()}},{kind:"method",key:"_openEditEntry",value:function(e){var r=e.currentTarget.entry;this._openDialog(r)}},{kind:"method",key:"_allowedUsers",value:function(e,r){for(var t=new Set,i=0,n=[this._configItems,this._storageItems];i<n.length;i++){var a,o=n[i],s=(0,f.Z)(o);try{for(s.s();!(a=s.n()).done;){var c=a.value;c.user_id&&t.add(c.user_id)}}catch(l){s.e(l)}finally{s.f()}}var d=r?r.user_id:void 0;return e.filter((function(e){return e.id===d||!t.has(e.id)}))}},{kind:"method",key:"_openDialog",value:(t=(0,g.Z)((0,m.Z)().mark((function e(r){var t,i=this;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._usersLoad;case 2:t=e.sent,n=this,a={entry:r,users:this._allowedUsers(t,r),createEntry:function(){var e=(0,g.Z)((0,m.Z)().mark((function e(r){var t;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I(i.hass,r);case 2:t=e.sent,i._storageItems=i._storageItems.concat(t).sort((function(e,r){return(0,M.$)(e.name,r.name,i.hass.locale.language)}));case 4:case"end":return e.stop()}}),e)})));return function(r){return e.apply(this,arguments)}}(),updateEntry:function(){var e=(0,g.Z)((0,m.Z)().mark((function e(t){var n;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,a=i.hass,o=r.id,s=t,a.callWS(Object.assign({type:"person/update",person_id:o},s));case 2:n=e.sent,i._storageItems=i._storageItems.map((function(e){return e===r?n:e}));case 4:case"end":return e.stop()}var a,o,s}),e)})));return function(r){return e.apply(this,arguments)}}(),removeEntry:function(){var e=(0,g.Z)((0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,B.showConfirmationDialog)(i,{title:i.hass.localize("ui.panel.config.person.confirm_delete_title",{name:r.name}),text:i.hass.localize("ui.panel.config.person.confirm_delete_text"),dismissText:i.hass.localize("ui.common.cancel"),confirmText:i.hass.localize("ui.common.delete"),destructive:!0});case 2:if(e.sent){e.next=4;break}return e.abrupt("return",!1);case 4:return e.prev=4,e.next=7,t=i.hass,n=r.id,t.callWS({type:"person/delete",person_id:n});case 7:return i._storageItems=i._storageItems.filter((function(e){return e!==r})),e.abrupt("return",!0);case 11:return e.prev=11,e.t0=e.catch(4),e.abrupt("return",!1);case 14:case"end":return e.stop()}var t,n}),e,null,[[4,11]])})));return function(){return e.apply(this,arguments)}}(),refreshUsers:function(){i._usersLoad=(0,V.uh)(i.hass)}},(0,W.B)(n,"show-dialog",{dialogTag:"dialog-person-detail",dialogImport:D,dialogParams:a});case 4:case"end":return e.stop()}var n,a}),e,this)}))),function(e){return t.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return(0,z.iv)(h||(h=(0,v.Z)(["a{color:var(--primary-color)}ha-card{max-width:600px;margin:16px auto;overflow:hidden}.empty{padding:8px;display:flex;align-items:center;justify-content:space-around}paper-icon-item{padding-top:4px;padding-bottom:4px}ha-card.storage paper-icon-item{cursor:pointer}"])))}}]}}),z.oi);customElements.define("ha-config-person",P)},27322:function(e,r,t){t.d(r,{R:function(){return i}});var i=function(e,r){return"https://".concat(e.config.version.includes("b")?"rc":e.config.version.includes("dev")?"next":"www",".home-assistant.io").concat(r)}}}]);
//# sourceMappingURL=50191-TjmmI5abmZQ.js.map