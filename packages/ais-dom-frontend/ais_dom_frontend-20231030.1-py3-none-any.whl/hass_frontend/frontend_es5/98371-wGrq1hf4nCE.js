"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[98371],{54736:function(e,o,r){var a,n,t=r(88962),c=r(33368),l=r(71650),i=r(82390),s=r(69205),d=r(70906),u=r(91808),g=r(68144),k=r(79932);(0,u.Z)([(0,k.Mo)("ha-ansi-to-html")],(function(e,o){var r=function(o){(0,s.Z)(a,o);var r=(0,d.Z)(a);function a(){var o;(0,l.Z)(this,a);for(var n=arguments.length,t=new Array(n),c=0;c<n;c++)t[c]=arguments[c];return o=r.call.apply(r,[this].concat(t)),e((0,i.Z)(o)),o}return(0,c.Z)(a)}(o);return{F:r,d:[{kind:"field",decorators:[(0,k.Cb)()],key:"content",value:void 0},{kind:"method",key:"render",value:function(){return(0,g.dy)(a||(a=(0,t.Z)(["",""])),this._parseTextToColoredPre(this.content))}},{kind:"get",static:!0,key:"styles",value:function(){return(0,g.iv)(n||(n=(0,t.Z)(["pre{overflow-x:auto;white-space:pre-wrap;overflow-wrap:break-word}.bold{font-weight:700}.italic{font-style:italic}.underline{text-decoration:underline}.strikethrough{text-decoration:line-through}.underline.strikethrough{text-decoration:underline line-through}.fg-red{color:var(--error-color)}.fg-green{color:var(--success-color)}.fg-yellow{color:var(--warning-color)}.fg-blue{color:var(--info-color)}.fg-magenta{color:#762671}.fg-cyan{color:#2cb5e9}.fg-white{color:#ccc}.bg-black{background-color:#000}.bg-red{background-color:var(--error-color)}.bg-green{background-color:var(--success-color)}.bg-yellow{background-color:var(--warning-color)}.bg-blue{background-color:var(--info-color)}.bg-magenta{background-color:#762671}.bg-cyan{background-color:#2cb5e9}.bg-white{background-color:#ccc}"])))}},{kind:"method",key:"_parseTextToColoredPre",value:function(e){for(var o,r=document.createElement("pre"),a=/\033(?:\[(.*?)[@-~]|\].*?(?:\007|\033\\))/g,n=0,t={bold:!1,italic:!1,underline:!1,strikethrough:!1,foregroundColor:null,backgroundColor:null},c=function(e){var o=document.createElement("span");t.bold&&o.classList.add("bold"),t.italic&&o.classList.add("italic"),t.underline&&o.classList.add("underline"),t.strikethrough&&o.classList.add("strikethrough"),null!==t.foregroundColor&&o.classList.add("fg-".concat(t.foregroundColor)),null!==t.backgroundColor&&o.classList.add("bg-".concat(t.backgroundColor)),o.appendChild(document.createTextNode(e)),r.appendChild(o)};null!==(o=a.exec(e));){var l=o.index;c(e.substring(n,l)),n=l+o[0].length,void 0!==o[1]&&o[1].split(";").forEach((function(e){switch(parseInt(e,10)){case 0:t.bold=!1,t.italic=!1,t.underline=!1,t.strikethrough=!1,t.foregroundColor=null,t.backgroundColor=null;break;case 1:t.bold=!0;break;case 3:t.italic=!0;break;case 4:t.underline=!0;break;case 9:t.strikethrough=!0;break;case 22:t.bold=!1;break;case 23:t.italic=!1;break;case 24:t.underline=!1;break;case 29:t.strikethrough=!1;break;case 30:case 39:t.foregroundColor=null;break;case 31:t.foregroundColor="red";break;case 32:t.foregroundColor="green";break;case 33:t.foregroundColor="yellow";break;case 34:t.foregroundColor="blue";break;case 35:t.foregroundColor="magenta";break;case 36:t.foregroundColor="cyan";break;case 37:t.foregroundColor="white";break;case 40:t.backgroundColor="black";break;case 41:t.backgroundColor="red";break;case 42:t.backgroundColor="green";break;case 43:t.backgroundColor="yellow";break;case 44:t.backgroundColor="blue";break;case 45:t.backgroundColor="magenta";break;case 46:t.backgroundColor="cyan";break;case 47:t.backgroundColor="white";break;case 49:t.backgroundColor=null}}))}return c(e.substring(n)),r}}]}}),g.oi)},98371:function(e,o,r){r.r(o);var a,n,t,c,l=r(99312),i=r(81043),s=r(88962),d=r(33368),u=r(71650),g=r(82390),k=r(69205),b=r(70906),h=r(91808),f=r(34541),p=r(47838),v=(r(47704),r(68144)),y=r(79932),C=r(47181),w=(r(36369),r(54736),r(22098),r(76307)),m=(r(38544),r(15451)),Z=r(15493),_=r(83849);(0,h.Z)([(0,y.Mo)("onboarding-restore-backup")],(function(e,o){var h,x=function(o){(0,k.Z)(a,o);var r=(0,b.Z)(a);function a(){var o;(0,u.Z)(this,a);for(var n=arguments.length,t=new Array(n),c=0;c<n;c++)t[c]=arguments[c];return o=r.call.apply(r,[this].concat(t)),e((0,g.Z)(o)),o}return(0,d.Z)(a)}(o);return{F:x,d:[{kind:"field",decorators:[(0,y.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,y.Cb)({attribute:!1})],key:"localize",value:void 0},{kind:"field",decorators:[(0,y.Cb)()],key:"language",value:void 0},{kind:"field",decorators:[(0,y.SB)()],key:"_restoring",value:function(){return!1}},{kind:"method",key:"render",value:function(){return(0,v.dy)(a||(a=(0,s.Z)(["",' <div class="footer"> <mwc-button @click="','" .disabled="','"> '," </mwc-button> </div> "])),this._restoring?(0,v.dy)(n||(n=(0,s.Z)(["<h1> "," </h1> <onboarding-loading></onboarding-loading>"])),this.localize("ui.panel.page-onboarding.restore.in_progress")):(0,v.dy)(t||(t=(0,s.Z)([" <h1> ",' </h1> <hassio-upload-backup @backup-uploaded="','" .hass="','"></hassio-upload-backup>'])),this.localize("ui.panel.page-onboarding.restore.header"),this._backupUploaded,this.hass),this._back,this._restoring,this.localize("ui.panel.page-onboarding.back"))}},{kind:"method",key:"_back",value:function(){(0,_.c)("".concat(location.pathname,"?").concat((0,Z.pc)("page")))}},{kind:"method",key:"_backupUploaded",value:function(e){var o=e.detail.backup;this._showBackupDialog(o.slug)}},{kind:"method",key:"firstUpdated",value:function(e){var o=this;(0,f.Z)((0,p.Z)(x.prototype),"firstUpdated",this).call(this,e),setInterval((function(){return o._checkRestoreStatus()}),1e3)}},{kind:"method",key:"_checkRestoreStatus",value:(h=(0,i.Z)((0,l.Z)().mark((function e(){return(0,l.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._restoring){e.next=9;break}return e.prev=1,e.next=4,(0,w.Dq)();case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),"unauthorized"===e.t0.message&&window.location.replace("/");case 9:case"end":return e.stop()}}),e,this,[[1,6]])}))),function(){return h.apply(this,arguments)})},{kind:"method",key:"_showBackupDialog",value:function(e){var o,a,n=this;o=this,a={slug:e,onboarding:!0,localize:this.localize,onRestoring:function(){n._restoring=!0}},(0,C.B)(o,"show-dialog",{dialogTag:"dialog-hassio-backup",dialogImport:function(){return Promise.all([r.e(28597),r.e(41985),r.e(70632),r.e(52154),r.e(50795),r.e(41638)]).then(r.bind(r,41638))},dialogParams:a})}},{kind:"get",static:!0,key:"styles",value:function(){return[m.I,(0,v.iv)(c||(c=(0,s.Z)([":host{display:flex;flex-direction:column;align-items:center}hassio-upload-backup{width:100%}.footer{width:100%;text-align:left}"])))]}}]}}),v.oi)}}]);
//# sourceMappingURL=98371-wGrq1hf4nCE.js.map