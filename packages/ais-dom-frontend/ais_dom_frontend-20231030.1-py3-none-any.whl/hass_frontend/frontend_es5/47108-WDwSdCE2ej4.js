"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[47108,4631],{63864:function(t,e,n){n.d(e,{I:function(){return a},_:function(){return i}});var r=n(68990),a=function(t,e,n,a){var i=t.split(".",3),o=(0,r.Z)(i,3),s=o[0],u=o[1],c=o[2];return Number(s)>e||Number(s)===e&&(void 0===a?Number(u)>=n:Number(u)>n)||void 0!==a&&Number(s)===e&&Number(u)===n&&Number(c)>=a},i=function(t){return t.includes("dev")}},26410:function(t,e,n){n.d(e,{Bt:function(){return o},T8:function(){return s}});var r=n(22075),a=n(66477),i=(n(4631),["sunday","monday","tuesday","wednesday","thursday","friday","saturday"]),o=function(t){return t.first_weekday===a.FS.language?"weekInfo"in Intl.Locale.prototype?new Intl.Locale(t.language).weekInfo.firstDay%7:(0,r.L)(t.language)%7:i.includes(t.first_weekday)?i.indexOf(t.first_weekday):1},s=function(t){var e=o(t);return i[e]}},80596:function(t,e,n){n.d(e,{G:function(){return l}});var r=n(14516),a=(n(4631),n(24112)),i=n(59401),o=n(35040),s=n(26410);var u={second:45,minute:45,hour:22,day:5,week:4,month:11},c=(0,r.Z)((function(t){return new Intl.RelativeTimeFormat(t.language,{numeric:"auto"})})),l=function(t,e,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],l=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},c=Object.assign(Object.assign({},u),r||{}),l=(+t-+e)/1e3;if(Math.abs(l)<c.second)return{value:Math.round(l),unit:"second"};var d=l/60;if(Math.abs(d)<c.minute)return{value:Math.round(d),unit:"minute"};var f=l/3600;if(Math.abs(f)<c.hour)return{value:Math.round(f),unit:"hour"};var p=new Date(t),h=new Date(e);p.setHours(0,0,0,0),h.setHours(0,0,0,0);var v=(0,a.Z)(p,h);if(0===v)return{value:Math.round(f),unit:"hour"};if(Math.abs(v)<c.day)return{value:v,unit:"day"};var b=(0,s.Bt)(n),k=(0,i.Z)(p,{weekStartsOn:b}),g=(0,i.Z)(h,{weekStartsOn:b}),m=(0,o.Z)(k,g);if(0===m)return{value:v,unit:"day"};if(Math.abs(m)<c.week)return{value:m,unit:"week"};var y=p.getFullYear()-h.getFullYear(),w=12*y+p.getMonth()-h.getMonth();return 0===w?{value:m,unit:"week"}:Math.abs(w)<c.month||0===y?{value:w,unit:"month"}:{value:Math.round(y),unit:"year"}}(t,n,e);return r?c(e).format(l.value,l.unit):Intl.NumberFormat(e.language,{style:"unit",unit:l.unit,unitDisplay:"long"}).format(Math.abs(l.value))}},68307:function(t,e,n){n.d(e,{K:function(){return r}});var r=function(t){switch(null==t?void 0:t.language){case"cz":case"de":case"fi":case"fr":case"sk":case"sv":return" ";default:return""}}},2179:function(t,e,n){n.d(e,{FZ:function(){return i},I0:function(){return r},ZE:function(){return a},Zk:function(){return o}});var r=function(t){return"/api/backup/download/".concat(t)},a=function(t){return t.callWS({type:"backup/info"})},i=function(t,e){return t.callWS({type:"backup/remove",slug:e})},o=function(t){return t.callWS({type:"backup/generate"})}},45355:function(t,e,n){n.d(e,{d:function(){return r}});var r={"odroid-n2":"Home Assistant Blue / ODROID-N2","odroid-xu4":"ODROID-XU4","odroid-c2":"ODROID-C2","odroid-c4":"ODROID-C4",rpi:"Raspberry Pi",rpi0:"Raspberry Pi Zero","rpi0-w":"Raspberry Pi Zero W",rpi2:"Raspberry Pi 2",rpi3:"Raspberry Pi 3 (32-bit)","rpi3-64":"Raspberry Pi 3",rpi4:"Raspberry Pi 4 (32-bit)","rpi4-64":"Raspberry Pi 4",tinker:"ASUS Tinker Board","khadas-vim3":"Khadas VIM3","generic-aarch64":"Generic AArch64",ova:"Virtual Machine","generic-x86-64":"Generic x86-64","intel-nuc":"Intel NUC",yellow:"Home Assistant Yellow"}},41682:function(t,e,n){n.d(e,{js:function(){return u},rY:function(){return s},yd:function(){return d},yz:function(){return l}});var r=n(99312),a=n(81043),i=n(76775),o=n(63864),s=function(t){return t.data},u=function(t){return"object"===(0,i.Z)(t)?"object"===(0,i.Z)(t.body)?t.body.message||"Unknown error, see supervisor logs":t.body||t.message||"Unknown error, see supervisor logs":t},c=new Set([502,503,504]),l=function(t){return!!(t&&t.status_code&&c.has(t.status_code))||!(!t||!t.message||!t.message.includes("ERR_CONNECTION_CLOSED")&&!t.message.includes("ERR_CONNECTION_RESET"))},d=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,o.I)(e.config.version,2021,2,4)){t.next=2;break}return t.abrupt("return",e.callWS({type:"supervisor/api",endpoint:"/".concat(n,"/stats"),method:"get"}));case 2:return t.t0=s,t.next=5,e.callApi("GET","hassio/".concat(n,"/stats"));case 5:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()},35460:function(t,e,n){n.d(e,{AP:function(){return u},MY:function(){return c},Or:function(){return l},Sj:function(){return s},Sx:function(){return f},oJ:function(){return d},ou:function(){return p}});var r=n(99312),a=n(81043),i=n(63864),o=n(41682),s=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,i.I)(e.config.version,2021,2,4)){t.next=2;break}return t.abrupt("return",e.callWS({type:"supervisor/api",endpoint:"/host/info",method:"get"}));case 2:return t.next=4,e.callApi("GET","hassio/host/info");case 4:return n=t.sent,t.abrupt("return",(0,o.rY)(n));case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),u=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,i.I)(e.config.version,2021,2,4)){t.next=2;break}return t.abrupt("return",e.callWS({type:"supervisor/api",endpoint:"/os/info",method:"get"}));case 2:return t.t0=o.rY,t.next=5,e.callApi("GET","hassio/os/info");case 5:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),c=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,i.I)(e.config.version,2021,2,4)){t.next=2;break}return t.abrupt("return",e.callWS({type:"supervisor/api",endpoint:"/host/reboot",method:"post",timeout:null}));case 2:return t.abrupt("return",e.callApi("POST","hassio/host/reboot"));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),l=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,i.I)(e.config.version,2021,2,4)){t.next=2;break}return t.abrupt("return",e.callWS({type:"supervisor/api",endpoint:"/host/shutdown",method:"post",timeout:null}));case 2:return t.abrupt("return",e.callApi("POST","hassio/host/shutdown"));case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),d=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,i.I)(e.config.version,2021,2,4)){t.next=2;break}return t.abrupt("return",e.callWS({type:"supervisor/api",endpoint:"/host/options",method:"post",data:n}));case 2:return t.abrupt("return",e.callApi("POST","hassio/host/options",n));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),f=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e,n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,i.I)(e.config.version,2021,2,4)){t.next=2;break}return t.abrupt("return",e.callWS({type:"supervisor/api",endpoint:"/os/datadisk/move",method:"post",timeout:null,data:{device:n}}));case 2:return t.abrupt("return",e.callApi("POST","hassio/os/datadisk/move"));case 3:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}(),p=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,i.I)(e.config.version,2021,2,4)){t.next=2;break}return t.abrupt("return",e.callWS({type:"supervisor/api",endpoint:"/os/datadisk/list",method:"get",timeout:null}));case 2:return t.t0=o.rY,t.next=5,e.callApi("GET","/os/datadisk/list");case 5:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1));case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()},82494:function(t,e,n){n.d(e,{s:function(){return i}});var r=n(47181),a=function(){return Promise.all([n.e(63436),n.e(28597),n.e(82234)]).then(n.bind(n,82234))},i=function(t){(0,r.B)(t,"show-dialog",{dialogTag:"dialog-restart",dialogImport:a,dialogParams:{}})}},47108:function(t,e,n){n.r(e);var r,a,i=n(99312),o=n(81043),s=n(88962),u=n(33368),c=n(71650),l=n(82390),d=n(69205),f=n(70906),p=n(91808),h=n(34541),v=n(47838),b=n(68144),k=n(79932),g=n(60228),m=n(7323),y=n(80596),w=n(68307),x=(n(22098),n(10983),n(35197),n(2179)),Z=n(83270),_=n(45355),I=n(63864),S=n(41682),A=function(){var t=(0,o.Z)((0,i.Z)().mark((function t(e){var n;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,I.I)(e.config.version,2021,2,4)){t.next=5;break}return t.next=3,e.callWS({type:"supervisor/api",endpoint:"/".concat((0,I.I)(e.config.version,2021,9)?"backups":"snapshots"),method:"get"});case 3:return n=t.sent,t.abrupt("return",n[(0,I.I)(e.config.version,2021,9)?"backups":"snapshots"]);case 5:return t.t0=S.rY,t.next=8,e.callApi("GET","hassio/".concat((0,I.I)(e.config.version,2021,9)?"backups":"snapshots"));case 8:return t.t1=t.sent,t.abrupt("return",(0,t.t0)(t.t1).snapshots);case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),O=n(35460),N=n(82494),D=(n(60010),n(11654)),M=(n(88165),n(29311));(0,p.Z)([(0,k.Mo)("ha-config-system-navigation")],(function(t,e){var n,p,I,S,R,B=function(e){(0,d.Z)(r,e);var n=(0,f.Z)(r);function r(){var e;(0,c.Z)(this,r);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return e=n.call.apply(n,[this].concat(i)),t((0,l.Z)(e)),e}return(0,u.Z)(r)}(e);return{F:B,d:[{kind:"field",decorators:[(0,k.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,k.Cb)({type:Boolean,reflect:!0})],key:"narrow",value:void 0},{kind:"field",decorators:[(0,k.Cb)({type:Boolean})],key:"isWide",value:void 0},{kind:"field",decorators:[(0,k.Cb)({attribute:!1})],key:"cloudStatus",value:void 0},{kind:"field",decorators:[(0,k.Cb)({type:Boolean})],key:"showAdvanced",value:void 0},{kind:"field",decorators:[(0,k.SB)()],key:"_latestBackupDate",value:void 0},{kind:"field",decorators:[(0,k.SB)()],key:"_boardName",value:void 0},{kind:"field",decorators:[(0,k.SB)()],key:"_storageInfo",value:void 0},{kind:"field",decorators:[(0,k.SB)()],key:"_externalAccess",value:function(){return!1}},{kind:"method",key:"render",value:function(){var t=this,e=M.configSections.general.filter((function(e){return(0,g.j)(t.hass,e)})).map((function(e){var n="";switch(e.translationKey){case"backup":n=t._latestBackupDate?t.hass.localize("ui.panel.config.backup.description","relative_time",(0,y.G)(new Date(t._latestBackupDate),t.hass.locale)):t.hass.localize("ui.panel.config.backup.description_no_backup");break;case"network":n=t.hass.localize("ui.panel.config.network.description","state",t._externalAccess?t.hass.localize("ui.panel.config.network.enabled"):t.hass.localize("ui.panel.config.network.disabled"));break;case"storage":n=t._storageInfo?t.hass.localize("ui.panel.config.storage.description","percent_used","".concat(Math.round(t._storageInfo.used/t._storageInfo.total*100)).concat((0,w.K)(t.hass.locale),"%"),"free_space","".concat(t._storageInfo.free," GB")):"";break;case"hardware":n=t._boardName||t.hass.localize("ui.panel.config.hardware.description");break;default:n=t.hass.localize("ui.panel.config.".concat(e.translationKey,".description"))}return Object.assign(Object.assign({},e),{},{name:e.translationKey?t.hass.localize("ui.panel.config.".concat(e.translationKey,".caption")):e.name,description:n})}));return(0,b.dy)(r||(r=(0,s.Z)([' <hass-subpage .hass="','" back-path="/config" .header="','"> <ha-icon-button slot="toolbar-icon" .path="','" .label="','" @click="','"></ha-icon-button> <ha-config-section .narrow="','" .isWide="','" full-width> <ha-card outlined> <ha-navigation-list .hass="','" .narrow="','" .pages="','" hasSecondary .label="','"></ha-navigation-list> </ha-card> </ha-config-section> </hass-subpage> '])),this.hass,this.hass.localize("ui.panel.config.dashboard.system.main"),"M16.56,5.44L15.11,6.89C16.84,7.94 18,9.83 18,12A6,6 0 0,1 12,18A6,6 0 0,1 6,12C6,9.83 7.16,7.94 8.88,6.88L7.44,5.44C5.36,6.88 4,9.28 4,12A8,8 0 0,0 12,20A8,8 0 0,0 20,12C20,9.28 18.64,6.88 16.56,5.44M13,3H11V13H13",this.hass.localize("ui.panel.config.system_dashboard.restart_homeassistant"),this._showRestartDialog,this.narrow,this.isWide,this.hass,this.narrow,e,this.hass.localize("ui.panel.config.dashboard.system.main"))}},{kind:"method",key:"firstUpdated",value:function(t){(0,h.Z)((0,v.Z)(B.prototype),"firstUpdated",this).call(this,t),this._fetchNetworkStatus();var e=(0,m.p)(this.hass,"hassio");this._fetchBackupInfo(e),this._fetchHardwareInfo(e),e&&this._fetchStorageInfo()}},{kind:"method",key:"_fetchBackupInfo",value:(R=(0,o.Z)((0,i.Z)().mark((function t(e){var n;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e){t.next=6;break}return t.next=3,A(this.hass);case 3:t.t0=t.sent,t.next=14;break;case 6:if(!(0,m.p)(this.hass,"backup")){t.next=12;break}return t.next=9,(0,x.ZE)(this.hass).then((function(t){return t.backups}));case 9:t.t1=t.sent,t.next=13;break;case 12:t.t1=[];case 13:t.t0=t.t1;case 14:(n=t.t0).length>0&&(this._latestBackupDate=n.reduce((function(t,e){return t.date>e.date?t:e})).date);case 16:case"end":return t.stop()}}),t,this)}))),function(t){return R.apply(this,arguments)})},{kind:"method",key:"_fetchHardwareInfo",value:(S=(0,o.Z)((0,i.Z)().mark((function t(e){var n,r,a;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,m.p)(this.hass,"hardware")){t.next=7;break}return t.next=3,this.hass.callWS({type:"hardware/info"});case 3:r=t.sent,this._boardName=null==r||null===(n=r.hardware.find((function(t){return null!==t.board})))||void 0===n?void 0:n.name,t.next=12;break;case 7:if(!e){t.next=12;break}return t.next=10,(0,O.AP)(this.hass);case 10:(a=t.sent).board&&(this._boardName=_.d[a.board]);case 12:case"end":return t.stop()}}),t,this)}))),function(t){return S.apply(this,arguments)})},{kind:"method",key:"_fetchStorageInfo",value:(I=(0,o.Z)((0,i.Z)().mark((function t(){var e;return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,(0,O.Sj)(this.hass);case 2:e=t.sent,this._storageInfo={used:e.disk_used,free:e.disk_free,total:e.disk_total};case 4:case"end":return t.stop()}}),t,this)}))),function(){return I.apply(this,arguments)})},{kind:"method",key:"_fetchNetworkStatus",value:(p=(0,o.Z)((0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(0,m.p)(this.hass,"cloud")){t.next=7;break}return t.next=3,(0,Z.LI)(this.hass);case 3:if(!t.sent.logged_in){t.next=7;break}return this._externalAccess=!0,t.abrupt("return");case 7:this._externalAccess=null!==this.hass.config.external_url;case 8:case"end":return t.stop()}}),t,this)}))),function(){return p.apply(this,arguments)})},{kind:"method",key:"_showRestartDialog",value:(n=(0,o.Z)((0,i.Z)().mark((function t(){return(0,i.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:(0,N.s)(this);case 1:case"end":return t.stop()}}),t,this)}))),function(){return n.apply(this,arguments)})},{kind:"get",static:!0,key:"styles",value:function(){return[D.Qx,(0,b.iv)(a||(a=(0,s.Z)([":host(:not([narrow])) ha-card{margin-bottom:max(24px,env(safe-area-inset-bottom))}ha-config-section{margin:auto;margin-top:-32px;max-width:600px}ha-card{overflow:hidden;margin-bottom:24px;margin-bottom:max(24px,env(safe-area-inset-bottom))}ha-card a{text-decoration:none;color:var(--primary-text-color)}.title{font-size:16px;padding:16px;padding-bottom:0}.restart-section{display:flex;align-items:center;flex-direction:column;justify-content:center;margin-bottom:24px}@media all and (max-width:600px){ha-card{border-width:1px 0;border-radius:0;box-shadow:unset}ha-config-section{margin-top:-42px}}ha-navigation-list{--navigation-list-item-title-font-size:16px}"])))]}}]}}),b.oi)},4631:function(t,e,n){n.r(e);n(7151),n(33633),n(25534),n(64827),n(23044),n(1437),n(87520),n(42661),n(78337),n(87065),n(6042),n(19440),n(50897),n(30056),n(12679)}}]);
//# sourceMappingURL=47108-WDwSdCE2ej4.js.map