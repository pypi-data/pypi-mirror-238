/*! For license information please see 5603-CSAcR6CgRc0.js.LICENSE.txt */
export const id=5603;export const ids=[5603];export const modules={35468:(e,i,t)=>{var a=t(17463),s=t(68144),n=t(79932),o=t(14516),d=t(83849),r=(t(57793),t(57292)),c=t(5986),l=(t(96551),t(29311)),h=t(2852),u=t(87480),v=t(48095),f=t(72477);let k=class extends v._{};k.styles=[f.W],k=(0,u.__decorate)([(0,n.Mo)("mwc-fab")],k);(0,a.Z)([(0,n.Mo)("ha-config-ais-dom-devices-dashboard")],(function(e,i){return{F:class extends i{constructor(){super(),e(this),window.addEventListener("location-changed",(()=>{this._searchParms=new URLSearchParams(window.location.search)})),window.addEventListener("popstate",(()=>{this._searchParms=new URLSearchParams(window.location.search)}))}},d:[{kind:"get",static:!0,key:"styles",value:function(){return s.iv`.content{padding:4px}mwc-fab{position:fixed;bottom:16px;right:16px;z-index:1}`}},{kind:"field",decorators:[(0,n.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,n.Cb)()],key:"narrow",value:()=>!1},{kind:"field",decorators:[(0,n.Cb)()],key:"isWide",value:()=>!1},{kind:"field",decorators:[(0,n.Cb)()],key:"devices",value:void 0},{kind:"field",decorators:[(0,n.Cb)()],key:"entries",value:void 0},{kind:"field",decorators:[(0,n.Cb)()],key:"entities",value:void 0},{kind:"field",decorators:[(0,n.Cb)()],key:"areas",value:void 0},{kind:"field",decorators:[(0,n.Cb)()],key:"route",value:void 0},{kind:"field",decorators:[(0,n.Cb)()],key:"_searchParms",value:()=>new URLSearchParams(window.location.search)},{kind:"field",key:"_activeFilters",value(){return(0,o.Z)(((e,i,t)=>{const a=[];return i.forEach(((i,s)=>{switch(s){case"config_entry":{const s=e.find((e=>e.entry_id===i));if(!s)break;const n=(0,c.Lh)(t,s.domain);a.push(`${this.hass.localize("ui.panel.config.integrations.integration")} ${n}${n!==s.title?`: ${s.title}`:""}`);break}}})),a.length?a:void 0}))}},{kind:"field",key:"_devices",value(){return(0,o.Z)(((e,i,t,a,s,n)=>{let o=e;const d={};for(const i of e)d[i.id]=i;const c={};for(const e of t)e.device_id&&(e.device_id in c||(c[e.device_id]=[]),c[e.device_id].push(e));const l={};for(const e of i)l[e.entry_id]=e;const h={};for(const e of a)h[e.area_id]=e;return s.forEach(((e,i)=>{if("config_entry"===i)o=o.filter((i=>i.config_entries.includes(e)))})),o=o.map((e=>({...e,name:(0,r.jL)(e,this.hass,c[e.id]),model:e.model||"<unknown>",manufacturer:e.manufacturer||"<unknown>",area:e.area_id?h[e.area_id].name:this.hass.localize("ui.panel.config.devices.data_table.no_area"),integration:e.config_entries.length?e.config_entries.filter((e=>e in l)).map((e=>n(`component.${l[e].domain}.title`)||l[e].domain)).join(", "):"No integration",sw_version:e.sw_version}))),o}))}},{kind:"field",key:"_columns",value(){return(0,o.Z)((e=>{const i=e?{name:{title:"Device",sortable:!0,filterable:!0,direction:"asc",grows:!0,template:(e,i)=>s.dy` ${e} <div class="secondary"> ${i.area} | ${i.integration} </div> `}}:{name:{title:this.hass.localize("ui.panel.config.devices.data_table.device"),sortable:!0,filterable:!0,grows:!0,direction:"asc"}};return i.manufacturer={title:this.hass.localize("ui.panel.config.devices.data_table.manufacturer"),sortable:!0,hidden:e,filterable:!0,width:"15%"},i.model={title:this.hass.localize("ui.panel.config.devices.data_table.model"),sortable:!0,hidden:e,filterable:!0,width:"15%"},i.area={title:this.hass.localize("ui.panel.config.devices.data_table.area"),sortable:!0,hidden:e,filterable:!0,width:"15%"},i.integration={title:this.hass.localize("ui.panel.config.devices.data_table.integration"),sortable:!0,hidden:e,filterable:!0,width:"15%"},i.sw_version={title:"Wersja",sortable:!0,width:e?"90px":"15%",maxWidth:"90px"},i}))}},{kind:"method",key:"render",value:function(){return s.dy` <hass-tabs-subpage-data-table .hass="${this.hass}" .narrow="${this.narrow}" .backPath="${this._searchParms.has("historyBack")?void 0:"/config"}" .tabs="${l.configSections.devices}" .route="${this.route}" .columns="${this._columns(this.narrow)}" .data="${this._devices(this.devices,this.entries,this.entities,this.areas,this._searchParms,this.hass.localize)}" .activeFilters="${this._activeFilters(this.entries,this._searchParms,this.hass.localize)}" @row-click="${this._handleRowClicked}"> </hass-tabs-subpage-data-table> <mwc-fab ?is-wide="${!0}" icon="hass:plus" title="Dodaj urzÄ…dzenie" @click="${this._addDevice}" class=""> <ha-svg-icon slot="icon" path="${"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"}"></ha-svg-icon> </mwc-fab> `}},{kind:"method",key:"_handleRowClicked",value:function(e){const i=e.detail.id;(0,d.c)(`/config/devices/device/${i}`)}},{kind:"method",key:"_continueFlow",value:function(e){(0,h.t)(this,{continueFlowId:e,dialogClosedCallback:()=>{console.log("OK")}})}},{kind:"method",key:"_addDevice",value:function(){this.hass.callApi("POST","config/config_entries/flow",{handler:"ais_dom_device"}).then((e=>{console.log(e),this._continueFlow(e.flow_id)}))}}]}}),s.oi)},5603:(e,i,t)=>{t.a(e,(async(e,a)=>{try{t.r(i);var s=t(17463),n=t(34541),o=t(47838),d=t(79932),r=t(57066),c=t(81582),l=t(57292),h=t(74186),u=t(18199),v=t(32240),f=(t(35468),e([v]));v=(f.then?(await f)():f)[0];(0,s.Z)([(0,d.Mo)("ha-config-ais-dom-devices")],(function(e,i){class t extends i{constructor(...i){super(...i),e(this)}}return{F:t,d:[{kind:"field",decorators:[(0,d.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,d.Cb)()],key:"narrow",value:void 0},{kind:"field",decorators:[(0,d.Cb)()],key:"isWide",value:void 0},{kind:"field",decorators:[(0,d.Cb)()],key:"showAdvanced",value:void 0},{kind:"field",key:"routerOptions",value:()=>({defaultPage:"dashboard",routes:{dashboard:{tag:"ha-config-ais-dom-devices-dashboard",cache:!0},device:{tag:"ha-config-device-page"}}})},{kind:"field",decorators:[(0,d.Cb)()],key:"_configEntries",value:()=>[]},{kind:"field",decorators:[(0,d.Cb)()],key:"_entityRegistryEntries",value:()=>[]},{kind:"field",decorators:[(0,d.Cb)()],key:"_deviceRegistryEntries",value:()=>[]},{kind:"field",decorators:[(0,d.Cb)()],key:"_areas",value:()=>[]},{kind:"field",key:"_unsubs",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,n.Z)((0,o.Z)(t.prototype),"connectedCallback",this).call(this),this.hass&&this._loadData()}},{kind:"method",key:"disconnectedCallback",value:function(){if((0,n.Z)((0,o.Z)(t.prototype),"disconnectedCallback",this).call(this),this._unsubs){for(;this._unsubs.length;)this._unsubs.pop()();this._unsubs=void 0}}},{kind:"method",key:"firstUpdated",value:function(e){(0,n.Z)((0,o.Z)(t.prototype),"firstUpdated",this).call(this,e),this.addEventListener("hass-reload-entries",(()=>{this._loadData()}))}},{kind:"method",key:"updated",value:function(e){(0,n.Z)((0,o.Z)(t.prototype),"updated",this).call(this,e),!this._unsubs&&e.has("hass")&&this._loadData()}},{kind:"method",key:"updatePageEl",value:function(e){e.hass=this.hass,"device"===this._currentPage&&(e.deviceId=this.routeTail.path.substr(1)),e.entities=this._entityRegistryEntries,e.entries=this._configEntries,e.devices=this._deviceRegistryEntries,e.areas=this._areas,e.narrow=this.narrow,e.isWide=this.isWide,e.showAdvanced=this.showAdvanced,e.route=this.routeTail}},{kind:"method",key:"_loadData",value:function(){(0,c.pB)(this.hass).then((e=>{this._configEntries=e})),this._unsubs||(this._unsubs=[(0,r.sG)(this.hass.connection,(e=>{this._areas=e})),(0,h.LM)(this.hass.connection,(e=>{this._entityRegistryEntries=e})),(0,l.q4)(this.hass.connection,(e=>{this._deviceRegistryEntries=e.filter((e=>"AI-Speaker"===e.manufacturer))}))])}}]}}),u.n);a()}catch(e){a(e)}}))}};
//# sourceMappingURL=5603-CSAcR6CgRc0.js.map