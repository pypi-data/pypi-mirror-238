/*! For license information please see 20123-6y8HwK-DTHk.js.LICENSE.txt */
export const id=20123;export const ids=[20123,66847,60609,39143];export const modules={67625:(e,t,i)=>{i.d(t,{s:()=>g});var a=i(87480),o=i(96908),n=i(79932),s=i(78220),r=i(82612),d=i(443),l=i(68144),c=i(83448);const h=r.Vq?{passive:!0}:void 0;class p extends s.H{constructor(){super(...arguments),this.centerTitle=!1,this.handleTargetScroll=()=>{this.mdcFoundation.handleTargetScroll()},this.handleNavigationClick=()=>{this.mdcFoundation.handleNavigationClick()}}get scrollTarget(){return this._scrollTarget||window}set scrollTarget(e){this.unregisterScrollListener();const t=this.scrollTarget;this._scrollTarget=e,this.updateRootPosition(),this.requestUpdate("scrollTarget",t),this.registerScrollListener()}updateRootPosition(){if(this.mdcRoot){const e=this.scrollTarget===window;this.mdcRoot.style.position=e?"":"absolute"}}render(){let e=l.dy`<span class="mdc-top-app-bar__title"><slot name="title"></slot></span>`;return this.centerTitle&&(e=l.dy`<section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-center">${e}</section>`),l.dy` <header class="mdc-top-app-bar ${(0,c.$)(this.barClasses())}"> <div class="mdc-top-app-bar__row"> <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-start" id="navigation"> <slot name="navigationIcon" @click="${this.handleNavigationClick}"></slot> ${this.centerTitle?null:e} </section> ${this.centerTitle?e:null} <section class="mdc-top-app-bar__section mdc-top-app-bar__section--align-end" id="actions" role="toolbar"> <slot name="actionItems"></slot> </section> </div> </header> <div class="${(0,c.$)(this.contentClasses())}"> <slot></slot> </div> `}createAdapter(){return Object.assign(Object.assign({},(0,s.q)(this.mdcRoot)),{setStyle:(e,t)=>this.mdcRoot.style.setProperty(e,t),getTopAppBarHeight:()=>this.mdcRoot.clientHeight,notifyNavigationIconClicked:()=>{this.dispatchEvent(new Event(d.j2.NAVIGATION_EVENT,{bubbles:!0,cancelable:!0}))},getViewportScrollY:()=>this.scrollTarget instanceof Window?this.scrollTarget.pageYOffset:this.scrollTarget.scrollTop,getTotalActionItems:()=>this._actionItemsSlot.assignedNodes({flatten:!0}).length})}registerListeners(){this.registerScrollListener()}unregisterListeners(){this.unregisterScrollListener()}registerScrollListener(){this.scrollTarget.addEventListener("scroll",this.handleTargetScroll,h)}unregisterScrollListener(){this.scrollTarget.removeEventListener("scroll",this.handleTargetScroll)}firstUpdated(){super.firstUpdated(),this.updateRootPosition(),this.registerListeners()}disconnectedCallback(){super.disconnectedCallback(),this.unregisterListeners()}}(0,a.__decorate)([(0,n.IO)(".mdc-top-app-bar")],p.prototype,"mdcRoot",void 0),(0,a.__decorate)([(0,n.IO)('slot[name="actionItems"]')],p.prototype,"_actionItemsSlot",void 0),(0,a.__decorate)([(0,n.Cb)({type:Boolean})],p.prototype,"centerTitle",void 0),(0,a.__decorate)([(0,n.Cb)({type:Object})],p.prototype,"scrollTarget",null);class f extends p{constructor(){super(...arguments),this.mdcFoundationClass=o.Z,this.prominent=!1,this.dense=!1,this.handleResize=()=>{this.mdcFoundation.handleWindowResize()}}barClasses(){return{"mdc-top-app-bar--dense":this.dense,"mdc-top-app-bar--prominent":this.prominent,"center-title":this.centerTitle}}contentClasses(){return{"mdc-top-app-bar--fixed-adjust":!this.dense&&!this.prominent,"mdc-top-app-bar--dense-fixed-adjust":this.dense&&!this.prominent,"mdc-top-app-bar--prominent-fixed-adjust":!this.dense&&this.prominent,"mdc-top-app-bar--dense-prominent-fixed-adjust":this.dense&&this.prominent}}registerListeners(){super.registerListeners(),window.addEventListener("resize",this.handleResize,h)}unregisterListeners(){super.unregisterListeners(),window.removeEventListener("resize",this.handleResize)}}(0,a.__decorate)([(0,n.Cb)({type:Boolean,reflect:!0})],f.prototype,"prominent",void 0),(0,a.__decorate)([(0,n.Cb)({type:Boolean,reflect:!0})],f.prototype,"dense",void 0);var u=i(43419);class g extends f{constructor(){super(...arguments),this.mdcFoundationClass=u.Z}barClasses(){return Object.assign(Object.assign({},super.barClasses()),{"mdc-top-app-bar--fixed":!0})}registerListeners(){this.scrollTarget.addEventListener("scroll",this.handleTargetScroll,h)}unregisterListeners(){this.scrollTarget.removeEventListener("scroll",this.handleTargetScroll)}}},72043:(e,t,i)=>{i.d(t,{A:()=>r,v:()=>d});var a=i(23158),o=i(25101),n=i(66477);const s=(e,t,i,n)=>{const s=i((0,a.Z)(e,t),n);return s instanceof Date?(0,o.Z)(s,t):s},r=(e,t,i,a,o)=>i.time_zone===n.c_.server?s(e,a.time_zone,t,o):t(e,o),d=(e,t,i,a,o)=>i.time_zone===n.c_.server?s(e,a.time_zone,t,o):t(e,o)},92306:(e,t,i)=>{i.d(t,{v:()=>a});const a=(e,t)=>{const i={};for(const a of e){const e=t(a);e in i?i[e].push(a):i[e]=[a]}return i}},50424:(e,t,i)=>{i.d(t,{n:()=>a});const a=(e,t)=>{const i=new Promise(((t,i)=>{setTimeout((()=>{i(`Timed out in ${e} ms.`)}),e)}));return Promise.race([t,i])}},8330:(e,t,i)=>{i.d(t,{P:()=>a});const a=(e,t,i=!0,a=!0)=>{let o,n=0;const s=(...s)=>{const r=()=>{n=!1===i?0:Date.now(),o=void 0,e(...s)},d=Date.now();n||!1!==i||(n=d);const l=t-(d-n);l<=0||l>t?(o&&(clearTimeout(o),o=void 0),n=d,e(...s)):o||!1===a||(o=window.setTimeout(r,l))};return s.cancel=()=>{clearTimeout(o),o=void 0,n=0},s}},88615:(e,t,i)=>{var a=i(17463),o=i(28461),n=i(79932),s=i(82297),r=i(67365),d=i.n(r),l=i(38976),c=i(47181);const h=s.ZP.extend({mixins:[d()],methods:{selectMonthDate(){const e=this.end||new Date;this.changeLeftMonth({year:e.getFullYear(),month:e.getMonth()+1})}}}),p=s.ZP.extend({props:{timePicker:{type:Boolean,default:!0},twentyfourHours:{type:Boolean,default:!0},openingDirection:{type:String,default:"right"},disabled:{type:Boolean,default:!1},ranges:{type:Boolean,default:!0},startDate:{type:[String,Date],default:()=>new Date},endDate:{type:[String,Date],default:()=>new Date},firstDay:{type:Number,default:1},autoApply:{type:Boolean,default:!1}},render(e){return e(h,{props:{"time-picker":this.timePicker,"auto-apply":this.autoApply,opens:this.openingDirection,"show-dropdowns":!1,"time-picker24-hour":this.twentyfourHours,disabled:this.disabled,ranges:!!this.ranges&&{},"locale-data":{firstDay:this.firstDay}},model:{value:{startDate:this.startDate,endDate:this.endDate},callback:e=>{(0,c.B)(this.$el,"change",e)},expression:"dateRange"},scopedSlots:{input:()=>e("slot",{domProps:{name:"input"}}),header:()=>e("slot",{domProps:{name:"header"}}),ranges:()=>e("slot",{domProps:{name:"ranges"}}),footer:()=>e("slot",{domProps:{name:"footer"}})}})}}),f=(0,o.Z)(s.ZP,p);(0,a.Z)([(0,n.Mo)("date-range-picker")],(function(e,t){return{F:class extends t{constructor(){super(),e(this);const t=document.createElement("style");t.innerHTML=`\n          ${l}\n          .calendars {\n            display: flex;\n            flex-wrap: nowrap !important;\n          }\n          .daterangepicker {\n            top: auto;\n            box-shadow: var(--ha-card-box-shadow, none);\n            background-color: var(--card-background-color);\n            border-radius: var(--ha-card-border-radius, 12px);\n            border-width: var(--ha-card-border-width, 1px);\n            border-style: solid;\n            border-color: var(\n              --ha-card-border-color,\n              var(--divider-color, #e0e0e0)\n            );\n            color: var(--primary-text-color);\n            min-width: initial !important;\n          }\n          .daterangepicker:before {\n            display: none;\n          }\n          .daterangepicker:after {\n            border-bottom: 6px solid var(--card-background-color);\n          }\n          .daterangepicker .calendar-table {\n            background-color: var(--card-background-color);\n            border: none;\n          }\n          .daterangepicker .calendar-table td,\n          .daterangepicker .calendar-table th {\n            background-color: transparent;\n            color: var(--secondary-text-color);\n            border-radius: 0;\n            outline: none;\n            width: 32px;\n            height: 32px;\n          }\n          .daterangepicker td.off,\n          .daterangepicker td.off.end-date,\n          .daterangepicker td.off.in-range,\n          .daterangepicker td.off.start-date {\n            background-color: var(--secondary-background-color);\n            color: var(--disabled-text-color);\n          }\n          .daterangepicker td.in-range {\n            background-color: var(--light-primary-color);\n            color: var(--text-light-primary-color, var(--primary-text-color));\n          }\n          .daterangepicker td.active,\n          .daterangepicker td.active:hover {\n            background-color: var(--primary-color);\n            color: var(--text-primary-color);\n          }\n          .daterangepicker td.start-date.end-date {\n            border-radius: 50%;\n          }\n          .daterangepicker td.start-date {\n            border-radius: 50% 0 0 50%;\n          }\n          .daterangepicker td.end-date {\n            border-radius: 0 50% 50% 0;\n          }\n          .reportrange-text {\n            background: none !important;\n            padding: 0 !important;\n            border: none !important;\n          }\n          .daterangepicker .calendar-table .next span,\n          .daterangepicker .calendar-table .prev span {\n            border: solid var(--primary-text-color);\n            border-width: 0 2px 2px 0;\n          }\n          .daterangepicker .ranges li {\n            outline: none;\n          }\n          .daterangepicker .ranges li:hover {\n            background-color: var(--secondary-background-color);\n          }\n          .daterangepicker .ranges li.active {\n            background-color: var(--primary-color);\n            color: var(--text-primary-color);\n          }\n          .daterangepicker select.ampmselect,\n          .daterangepicker select.hourselect,\n          .daterangepicker select.minuteselect,\n          .daterangepicker select.secondselect {\n            background: transparent;\n            border: 1px solid var(--divider-color);\n            color: var(--primary-color);\n          }\n          .daterangepicker .drp-buttons .btn {\n            border: 1px solid var(--primary-color);\n            background-color: transparent;\n            color: var(--primary-color);\n            border-radius: 4px;\n            padding: 8px;\n            cursor: pointer;\n          }\n          .calendars-container {\n            flex-direction: column;\n            align-items: center;\n          }\n          .drp-calendar.col.right .calendar-table {\n            display: none;\n          }\n          .daterangepicker.show-ranges .drp-calendar.left {\n            border-left: 0px;\n          }\n          .daterangepicker .drp-calendar.left {\n            padding: 8px;\n          }\n          .daterangepicker.show-calendar .ranges {\n            margin-top: 0;\n            padding-top: 8px;\n            border-right: 1px solid var(--divider-color);\n          }\n          @media only screen and (max-width: 800px) {\n            .calendars {\n              flex-direction: column;\n            }\n          }\n          .calendar-table {\n            padding: 0 !important;\n          }\n          .daterangepicker.ltr {\n            direction: ltr;\n            text-align: left;\n          }\n          .vue-daterange-picker{\n            min-width: unset !important;\n            display: block !important;\n          }\n        `;const i=this.shadowRoot;i.appendChild(t),i.addEventListener("click",(e=>e.stopPropagation()))}},d:[]}}),f)},81545:(e,t,i)=>{var a=i(17463),o=i(34541),n=i(47838),s=(i(65666),i(68144)),r=i(79932),d=i(74265);(0,a.Z)([(0,r.Mo)("ha-button-menu")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",key:d.gA,value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"corner",value:()=>"BOTTOM_START"},{kind:"field",decorators:[(0,r.Cb)()],key:"menuCorner",value:()=>"START"},{kind:"field",decorators:[(0,r.Cb)({type:Number})],key:"x",value:()=>null},{kind:"field",decorators:[(0,r.Cb)({type:Number})],key:"y",value:()=>null},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"multi",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"activatable",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"fixed",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({type:Boolean,attribute:"no-anchor"})],key:"noAnchor",value:()=>!1},{kind:"field",decorators:[(0,r.IO)("mwc-menu",!0)],key:"_menu",value:void 0},{kind:"get",key:"items",value:function(){var e;return null===(e=this._menu)||void 0===e?void 0:e.items}},{kind:"get",key:"selected",value:function(){var e;return null===(e=this._menu)||void 0===e?void 0:e.selected}},{kind:"method",key:"focus",value:function(){var e,t;null!==(e=this._menu)&&void 0!==e&&e.open?this._menu.focusItemAtIndex(0):null===(t=this._triggerButton)||void 0===t||t.focus()}},{kind:"method",key:"render",value:function(){return s.dy` <div @click="${this._handleClick}"> <slot name="trigger" @slotchange="${this._setTriggerAria}"></slot> </div> <mwc-menu .corner="${this.corner}" .menuCorner="${this.menuCorner}" .fixed="${this.fixed}" .multi="${this.multi}" .activatable="${this.activatable}" .y="${this.y}" .x="${this.x}"> <slot></slot> </mwc-menu> `}},{kind:"method",key:"firstUpdated",value:function(e){(0,o.Z)((0,n.Z)(i.prototype),"firstUpdated",this).call(this,e),"rtl"===document.dir&&this.updateComplete.then((()=>{this.querySelectorAll("mwc-list-item").forEach((e=>{const t=document.createElement("style");t.innerHTML="span.material-icons:first-of-type { margin-left: var(--mdc-list-item-graphic-margin, 32px) !important; margin-right: 0px !important;}",e.shadowRoot.appendChild(t)}))}))}},{kind:"method",key:"_handleClick",value:function(){this.disabled||(this._menu.anchor=this.noAnchor?null:this,this._menu.show())}},{kind:"get",key:"_triggerButton",value:function(){return this.querySelector('ha-icon-button[slot="trigger"], mwc-button[slot="trigger"]')}},{kind:"method",key:"_setTriggerAria",value:function(){this._triggerButton&&(this._triggerButton.ariaHasPopup="menu")}},{kind:"get",static:!0,key:"styles",value:function(){return s.iv`:host{display:inline-block;position:relative}::slotted([disabled]){color:var(--disabled-text-color)}`}}]}}),s.oi)},22098:(e,t,i)=>{var a=i(17463),o=i(68144),n=i(79932);(0,a.Z)([(0,n.Mo)("ha-card")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,n.Cb)()],key:"header",value:void 0},{kind:"field",decorators:[(0,n.Cb)({type:Boolean,reflect:!0})],key:"raised",value:()=>!1},{kind:"get",static:!0,key:"styles",value:function(){return o.iv`:host{background:var(--ha-card-background,var(--card-background-color,#fff));box-shadow:var(--ha-card-box-shadow,none);box-sizing:border-box;border-radius:var(--ha-card-border-radius,12px);border-width:var(--ha-card-border-width,1px);border-style:solid;border-color:var(--ha-card-border-color,var(--divider-color,#e0e0e0));color:var(--primary-text-color);display:block;transition:all .3s ease-out;position:relative}:host([raised]){border:none;box-shadow:var(--ha-card-box-shadow,0px 2px 1px -1px rgba(0,0,0,.2),0px 1px 1px 0px rgba(0,0,0,.14),0px 1px 3px 0px rgba(0,0,0,.12))}.card-header,:host ::slotted(.card-header){color:var(--ha-card-header-color,--primary-text-color);font-family:var(--ha-card-header-font-family,inherit);font-size:var(--ha-card-header-font-size,24px);letter-spacing:-.012em;line-height:48px;padding:12px 16px 16px;display:block;margin-block-start:0px;margin-block-end:0px;font-weight:400}:host ::slotted(.card-content:not(:first-child)),slot:not(:first-child)::slotted(.card-content){padding-top:0px;margin-top:-8px}:host ::slotted(.card-content){padding:16px}:host ::slotted(.card-actions){border-top:1px solid var(--divider-color,#e8e8e8);padding:5px 16px}`}},{kind:"method",key:"render",value:function(){return o.dy` ${this.header?o.dy`<h1 class="card-header">${this.header}</h1>`:o.Ld} <slot></slot> `}}]}}),o.oi)},84431:(e,t,i)=>{var a=i(17463),o=i(68144),n=i(56887),s=i(21270),r=i(96762),d=i(79932);(0,a.Z)([(0,d.Mo)("ha-check-list-item")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",static:!0,key:"styles",value:()=>[r.W,s.W,o.iv`:host{--mdc-theme-secondary:var(--primary-color)}:host([graphic=avatar]) .mdc-deprecated-list-item__graphic,:host([graphic=control]) .mdc-deprecated-list-item__graphic,:host([graphic=large]) .mdc-deprecated-list-item__graphic,:host([graphic=medium]) .mdc-deprecated-list-item__graphic{margin-inline-end:var(--mdc-list-item-graphic-margin,16px);margin-inline-start:0px;direction:var(--direction)}`]}]}}),n.F)},39143:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(17463),o=(i(14271),i(63436),i(44577),i(59401)),n=i(59281),s=i(59429),r=i(93752),d=i(79021),l=i(68144),c=i(79932),h=i(72043),p=i(26410),f=i(12198),u=i(44583),g=i(65810),v=i(87744),m=(i(88615),i(52039),i(3555),i(10983),e([p,f,u]));[p,f,u]=m.then?(await m)():m;const b="M19,19H5V8H19M16,1V3H8V1H6V3H5C3.89,3 3,3.89 3,5V19A2,2 0 0,0 5,21H19A2,2 0 0,0 21,19V5C21,3.89 20.1,3 19,3H18V1M17,12H12V17H17V12Z";(0,a.Z)([(0,c.Mo)("ha-date-range-picker")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,c.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,c.Cb)()],key:"startDate",value:void 0},{kind:"field",decorators:[(0,c.Cb)()],key:"endDate",value:void 0},{kind:"field",decorators:[(0,c.Cb)()],key:"ranges",value:void 0},{kind:"field",decorators:[(0,c.SB)()],key:"_ranges",value:void 0},{kind:"field",decorators:[(0,c.Cb)()],key:"autoApply",value:()=>!1},{kind:"field",decorators:[(0,c.Cb)()],key:"timePicker",value:()=>!0},{kind:"field",decorators:[(0,c.Cb)({type:Boolean})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,c.Cb)({type:Boolean})],key:"_hour24format",value:()=>!1},{kind:"field",decorators:[(0,c.Cb)({type:String})],key:"_rtlDirection",value:()=>"ltr"},{kind:"field",decorators:[(0,c.Cb)({type:Boolean})],key:"minimal",value:()=>!1},{kind:"field",decorators:[(0,c.Cb)()],key:"openingDirection",value:void 0},{kind:"field",decorators:[(0,c.SB)()],key:"_calcedOpeningDirection",value:void 0},{kind:"method",key:"willUpdate",value:function(e){var t,i;if(!this.hasUpdated&&void 0===this.ranges||e.has("hass")&&(null===(t=this.hass)||void 0===t?void 0:t.localize)!==(null===(i=e.get("hass"))||void 0===i?void 0:i.localize)){const e=new Date,t=(0,p.Bt)(this.hass.locale),i=(0,h.A)(e,o.Z,this.hass.locale,this.hass.config,{weekStartsOn:t}),a=(0,h.A)(e,n.Z,this.hass.locale,this.hass.config,{weekStartsOn:t});this._ranges={[this.hass.localize("ui.components.date-range-picker.ranges.today")]:[(0,h.A)(e,s.Z,this.hass.locale,this.hass.config,{weekStartsOn:t}),(0,h.A)(e,r.Z,this.hass.locale,this.hass.config,{weekStartsOn:t})],[this.hass.localize("ui.components.date-range-picker.ranges.yesterday")]:[(0,h.A)((0,d.Z)(e,-1),s.Z,this.hass.locale,this.hass.config,{weekStartsOn:t}),(0,h.A)((0,d.Z)(e,-1),r.Z,this.hass.locale,this.hass.config,{weekStartsOn:t})],[this.hass.localize("ui.components.date-range-picker.ranges.this_week")]:[i,a],[this.hass.localize("ui.components.date-range-picker.ranges.last_week")]:[(0,d.Z)(i,-7),(0,d.Z)(a,-7)]}}}},{kind:"method",key:"updated",value:function(e){if(e.has("hass")){const t=e.get("hass");t&&t.locale===this.hass.locale||(this._hour24format=!(0,g.y)(this.hass.locale),this._rtlDirection=(0,v.Zu)(this.hass))}}},{kind:"method",key:"render",value:function(){return l.dy` <date-range-picker ?disabled="${this.disabled}" ?auto-apply="${this.autoApply}" time-picker="${this.timePicker}" twentyfour-hours="${this._hour24format}" start-date="${this.startDate}" end-date="${this.endDate}" ?ranges="${!1!==this.ranges}" opening-direction="${this.openingDirection||this._calcedOpeningDirection}" first-day="${(0,p.Bt)(this.hass.locale)}"> <div slot="input" class="date-range-inputs" @click="${this._handleClick}"> ${this.minimal?l.dy`<ha-icon-button .label="${this.hass.localize("ui.components.date-range-picker.select_date_range")}" .path="${b}"></ha-icon-button>`:l.dy`<ha-svg-icon .path="${b}"></ha-svg-icon> <ha-textfield .value="${this.timePicker?(0,u.o0)(this.startDate,this.hass.locale,this.hass.config):(0,f.p6)(this.startDate,this.hass.locale,this.hass.config)}" .label="${this.hass.localize("ui.components.date-range-picker.start_date")}" .disabled="${this.disabled}" @click="${this._handleInputClick}" readonly="readonly"></ha-textfield> <ha-textfield .value="${this.timePicker?(0,u.o0)(this.endDate,this.hass.locale,this.hass.config):(0,f.p6)(this.endDate,this.hass.locale,this.hass.config)}" .label="${this.hass.localize("ui.components.date-range-picker.end_date")}" .disabled="${this.disabled}" @click="${this._handleInputClick}" readonly="readonly"></ha-textfield>`} </div> ${!1!==this.ranges&&(this.ranges||this._ranges)?l.dy`<div slot="ranges" class="date-range-ranges" .dir="${this._rtlDirection}"> <mwc-list @action="${this._setDateRange}" activatable> ${Object.keys(this.ranges||this._ranges).map((e=>l.dy`<mwc-list-item>${e}</mwc-list-item>`))} </mwc-list> </div>`:l.Ld} <div slot="footer" class="date-range-footer"> <mwc-button @click="${this._cancelDateRange}">${this.hass.localize("ui.common.cancel")}</mwc-button> <mwc-button @click="${this._applyDateRange}">${this.hass.localize("ui.components.date-range-picker.select")}</mwc-button> </div> </date-range-picker> `}},{kind:"method",key:"_setDateRange",value:function(e){const t=Object.values(this.ranges||this._ranges)[e.detail.index],i=this._dateRangePicker;i.clickRange(t),i.clickedApply()}},{kind:"method",key:"_cancelDateRange",value:function(){this._dateRangePicker.clickCancel()}},{kind:"method",key:"_applyDateRange",value:function(){this._dateRangePicker.clickedApply()}},{kind:"get",key:"_dateRangePicker",value:function(){return this.shadowRoot.querySelector("date-range-picker").vueComponent.$children[0]}},{kind:"method",key:"_handleInputClick",value:function(){this._dateRangePicker.open&&(this._dateRangePicker.open=!1)}},{kind:"method",key:"_handleClick",value:function(){if(!this._dateRangePicker.open&&!this.openingDirection){const e=this.getBoundingClientRect().x;let t;t=e>2*window.innerWidth/3?"left":e<window.innerWidth/3?"right":"center",this._calcedOpeningDirection=t}}},{kind:"get",static:!0,key:"styles",value:function(){return l.iv`ha-svg-icon{margin-right:8px;margin-inline-end:8px;margin-inline-start:initial;direction:var(--direction)}ha-icon-button{direction:var(--direction)}.date-range-inputs{display:flex;align-items:center}.date-range-ranges{border-right:1px solid var(--divider-color)}.date-range-footer{display:flex;justify-content:flex-end;padding:8px;border-top:1px solid var(--divider-color)}ha-textfield{display:inline-block;max-width:250px;min-width:220px}ha-textfield:last-child{margin-left:8px;margin-inline-start:8px;margin-inline-end:initial;direction:var(--direction)}@media only screen and (max-width:800px){.date-range-ranges{border-right:none;border-bottom:1px solid var(--divider-color)}}@media only screen and (max-width:500px){ha-textfield{min-width:inherit}ha-svg-icon{display:none}}`}}]}}),l.oi);t()}catch(e){t(e)}}))},10983:(e,t,i)=>{i.d(t,{$:()=>r});var a=i(17463),o=(i(20210),i(68144)),n=i(79932),s=i(30153);i(52039);let r=(0,a.Z)([(0,n.Mo)("ha-icon-button")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,n.Cb)({type:Boolean,reflect:!0})],key:"disabled",value:()=>!1},{kind:"field",decorators:[(0,n.Cb)({type:String})],key:"path",value:void 0},{kind:"field",decorators:[(0,n.Cb)({type:String})],key:"label",value:void 0},{kind:"field",decorators:[(0,n.Cb)({type:String,attribute:"aria-haspopup"})],key:"ariaHasPopup",value:void 0},{kind:"field",decorators:[(0,n.Cb)({type:Boolean})],key:"hideTitle",value:()=>!1},{kind:"field",decorators:[(0,n.IO)("mwc-icon-button",!0)],key:"_button",value:void 0},{kind:"method",key:"focus",value:function(){var e;null===(e=this._button)||void 0===e||e.focus()}},{kind:"field",static:!0,key:"shadowRootOptions",value:()=>({mode:"open",delegatesFocus:!0})},{kind:"method",key:"render",value:function(){return o.dy` <mwc-icon-button aria-label="${(0,s.o)(this.label)}" title="${(0,s.o)(this.hideTitle?void 0:this.label)}" aria-haspopup="${(0,s.o)(this.ariaHasPopup)}" .disabled="${this.disabled}"> ${this.path?o.dy`<ha-svg-icon .path="${this.path}"></ha-svg-icon>`:o.dy`<slot></slot>`} </mwc-icon-button> `}},{kind:"get",static:!0,key:"styles",value:function(){return o.iv`:host{display:inline-block;outline:0}:host([disabled]){pointer-events:none}mwc-icon-button{--mdc-theme-on-primary:currentColor;--mdc-theme-text-disabled-on-light:var(--disabled-text-color)}`}}]}}),o.oi)},81312:(e,t,i)=>{var a=i(17463),o=i(34541),n=i(47838),s=i(68144),r=i(79932),d=i(47181),l=i(38346),c=i(49594),h=i(82160),p=i(50424);const f=JSON.parse('{"version":"7.3.67","parts":[{"file":"58ce751bfb601c28addea4dbdfee24226e4e26b1"},{"start":"account-switch-","file":"6fe9065fea10add5c0c6e48354166d037ac50b20"},{"start":"alpha-t-c","file":"d7d106c388bfda2f151cc05b575c6407a2321358"},{"start":"arrow-down-box","file":"07d46da6788757104d63cc6dfd69a5574fa9ea0e"},{"start":"bac","file":"a69c2429be94dc38246377a9f0b8bb0d7208c49a"},{"start":"battery-mi","file":"a4bd09088298857870205aad48d71ef5ecf14162"},{"start":"bo","file":"ea1b8f25379b641ca6ab4a89b3bb012a1898f125"},{"start":"briefcase-d","file":"a488fc5c297ba0d1eab0b7550c859ba5eb332d64"},{"start":"calendar-st","file":"a0916c7eca5a3e1154f040f8e1131481f554470b"},{"start":"car-ou","file":"4530f3f42b83c2fd05d41beb9ed32394dd236b86"},{"start":"cellphone-me","file":"18001e19a5b2dc0aa3829423dbe7a8cfcb3faedf"},{"start":"city-variant-","file":"8cf347559af0ec77cb1a1fbc9cf4f26c71e199a2"},{"start":"cloud-d","file":"aa0ca15dca285dcaf2d68fc1905a5886bff8e737"},{"start":"cog-sync-","file":"12d257426150b4727a785f64ace3cda63ad0837d"},{"start":"cookie-o","file":"e9a86cfd4033dbb9152bc25846a327e0272f8867"},{"start":"currency-tr","file":"5131d4536a8d7f548abb80d0ce20e6b8ef3da456"},{"start":"det","file":"d84e77bed2fec3dded9590d3a223f90a77850404"},{"start":"e","file":"c50a17e014e7dc1dda66612c9f4262e362046942"},{"start":"emoticon-r","file":"fa93bbb9f394ae9dad00dd24d63b2b8abc51eb57"},{"start":"fan-o","file":"fcf07b2bb103855d7881ea7785be0d9356a91169"},{"start":"file-set","file":"9e3206e4b3fc6a9516d852501f2a0f2d87dc38be"},{"start":"flip-t","file":"b732f8191887ed827ee9522c5be6e2b313d41a93"},{"start":"football-h","file":"a2953da9f03edc844d932976096ab3d6bb700b03"},{"start":"gas-station-","file":"5e9382d02a8816f0580987453669f4984e890764"},{"start":"google-s","file":"7fbeae05187b80048f4e6c8b15b417b8b915f31e"},{"start":"head-l","file":"6a014f724c5e039ebab09a43fda1b86b0a6d5b60"},{"start":"home-v","file":"a9431e7dae87b1867647a2f84c24c587aace2901"},{"start":"incognito-o","file":"43bf39792d61eb1233b56e4c27063ba787a6abc3"},{"start":"l","file":"be619036639cbb2a4eeee0ec39f4d180e8b1b61b"},{"start":"lightbulb-night-","file":"341f70f7b271dfb175d02bf888b28d235a4e76c5"},{"start":"map-clock-","file":"5415140032324eb36efbb9ff4a1c1620e1e09cee"},{"start":"microsoft-p","file":"2b3ac173c56a374495f6832c5bba32ae886e6cff"},{"start":"movie-open-plu","file":"a748347ba838db9f493261933486ee2b5ab8edb6"},{"start":"numeric-10-c","file":"137c0b16170d81671cd5515981f45eb52f661fd9"},{"start":"palette-s","file":"5de2e50c3ff206321071caf8d66f586be45bb9eb"},{"start":"phone-bluetooth-","file":"f634d315e85b52f05338ef94afa5e177506646e6"},{"start":"podi","file":"40f323ce90754fd2fe1ae5943ede7eec7cd415d8"},{"start":"puzzle-heart-","file":"96951c0eed3f62d2b9e964426dc5b62c3a9a66f8"},{"start":"relation-only-one-to-zero-or-o","file":"e256296bf39da5bdf1542ade4bbf8c7787d0c771"},{"start":"run","file":"63c07fd3a05a51a8ee8793a9493003ab03a55b26"},{"start":"set-left-","file":"3f22521dc9253cfc8b6d5e27e572a54a947006db"},{"start":"size-xxs","file":"8f8ad2f98fec00bb74b733c7f3104c0bf54451c5"},{"start":"sort-v","file":"504b0477945091d0dec0a1019ea3e84381d94dd5"},{"start":"sticker-ci","file":"c07c3d33aa7ce443bd3d45dffd88627e778b3bc9"},{"start":"sync","file":"6aaa668c62e648ba83547c2a6a966860dcfabfc4"},{"start":"tex","file":"ca7c219223cc867e80ab379ac7315629a2e75538"},{"start":"timer-st","file":"4ca8681e7117bc34e70f0ad97faee59dfd121cae"},{"start":"truck-ou","file":"015c125a80491ef47bab3cd6c3cd481b20ebf9da"},{"start":"view-d","file":"63b32ed0ba333f1070f0f113cbf4581879e43ebc"},{"start":"weather-night-","file":"555b752999d9858994f4eb2e289a8e7144951ec0"},{"start":"wifi-st","file":"20dbfd4ce7231736e91b0360b85a857d47407ba7"}]}'),u=(0,h.MT)("hass-icon-db","mdi-icon-store"),g=["mdi","hass","hassio","hademo"];let v=[];i(52039);const m={},b={};(async()=>{const e=await(0,h.U2)("_version",u);e?e!==f.version&&(await(0,h.ZH)(u),(0,h.t8)("_version",f.version,u)):(0,h.t8)("_version",f.version,u)})();const y=(0,l.D)((()=>(async e=>{const t=Object.keys(e),i=await Promise.all(Object.values(e));u("readwrite",(a=>{i.forEach(((i,o)=>{Object.entries(i).forEach((([e,t])=>{a.put(t,e)})),delete e[t[o]]}))}))})(b)),2e3),_={};(0,a.Z)([(0,r.Mo)("ha-icon")],(function(e,t){class a extends t{constructor(...t){super(...t),e(this)}}return{F:a,d:[{kind:"field",decorators:[(0,r.Cb)()],key:"icon",value:void 0},{kind:"field",decorators:[(0,r.SB)()],key:"_path",value:void 0},{kind:"field",decorators:[(0,r.SB)()],key:"_secondaryPath",value:void 0},{kind:"field",decorators:[(0,r.SB)()],key:"_viewBox",value:void 0},{kind:"field",decorators:[(0,r.SB)()],key:"_legacy",value:()=>!1},{kind:"method",key:"willUpdate",value:function(e){(0,o.Z)((0,n.Z)(a.prototype),"willUpdate",this).call(this,e),e.has("icon")&&(this._path=void 0,this._secondaryPath=void 0,this._viewBox=void 0,this._loadIcon())}},{kind:"method",key:"render",value:function(){return this.icon?this._legacy?s.dy` <iron-icon .icon="${this.icon}"></iron-icon>`:s.dy`<ha-svg-icon .path="${this._path}" .secondaryPath="${this._secondaryPath}" .viewBox="${this._viewBox}"></ha-svg-icon>`:s.Ld}},{kind:"method",key:"_loadIcon",value:async function(){if(!this.icon)return;const e=this.icon,[t,a]=this.icon.split(":",2);let o,n=a;if(!t||!n)return;if(!g.includes(t)){const i=c.g[t];return i?void(i&&"function"==typeof i.getIcon&&this._setCustomPath(i.getIcon(n),e)):void(this._legacy=!0)}if(this._legacy=!1,n in m){const e=m[n];let i;e.newName?(i=`Icon ${t}:${n} was renamed to ${t}:${e.newName}, please change your config, it will be removed in version ${e.removeIn}.`,n=e.newName):i=`Icon ${t}:${n} was removed from MDI, please replace this icon with an other icon in your config, it will be removed in version ${e.removeIn}.`,console.warn(i),(0,d.B)(this,"write_log",{level:"warning",message:i})}if(n in _)return void(this._path=_[n]);if("home-assistant"===n){const t=(await i.e(30008).then(i.bind(i,30008))).mdiHomeAssistant;return this.icon===e&&(this._path=t),void(_[n]=t)}try{o=await(e=>new Promise(((t,i)=>{v.push([e,t,i]),v.length>1||(0,p.n)(1e3,u("readonly",(e=>{for(const[t,i,a]of v)(0,h.RV)(e.get(t)).then((e=>i(e))).catch((e=>a(e)));v=[]}))).catch((e=>{for(const[,,t]of v)t(e);v=[]}))})))(n)}catch(e){o=void 0}if(o)return this.icon===e&&(this._path=o),void(_[n]=o);const s=(e=>{let t;for(const i of f.parts){if(void 0!==i.start&&e<i.start)break;t=i}return t.file})(n);if(s in b)return void this._setPath(b[s],n,e);const r=fetch(`/static/mdi/${s}.json`).then((e=>e.json()));b[s]=r,this._setPath(r,n,e),y()}},{kind:"method",key:"_setCustomPath",value:async function(e,t){const i=await e;this.icon===t&&(this._path=i.path,this._secondaryPath=i.secondaryPath,this._viewBox=i.viewBox)}},{kind:"method",key:"_setPath",value:async function(e,t,i){const a=await e;this.icon===i&&(this._path=a[t]),_[t]=a[t]}},{kind:"get",static:!0,key:"styles",value:function(){return s.iv`:host{fill:currentcolor}`}}]}}),s.oi)},48932:(e,t,i)=>{var a=i(17463),o=i(34541),n=i(47838),s=i(68144),r=i(79932),d=i(47181),l=i(6936);i(10983);(0,a.Z)([(0,r.Mo)("ha-menu-button")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"hassio",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)()],key:"narrow",value:void 0},{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.SB)()],key:"_hasNotifications",value:()=>!1},{kind:"field",decorators:[(0,r.SB)()],key:"_show",value:()=>!1},{kind:"field",key:"_alwaysVisible",value:()=>!1},{kind:"field",key:"_attachNotifOnConnect",value:()=>!1},{kind:"field",key:"_unsubNotifications",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,o.Z)((0,n.Z)(i.prototype),"connectedCallback",this).call(this),this._attachNotifOnConnect&&(this._attachNotifOnConnect=!1,this._subscribeNotifications())}},{kind:"method",key:"disconnectedCallback",value:function(){(0,o.Z)((0,n.Z)(i.prototype),"disconnectedCallback",this).call(this),this._unsubNotifications&&(this._attachNotifOnConnect=!0,this._unsubNotifications(),this._unsubNotifications=void 0)}},{kind:"method",key:"render",value:function(){if(!this._show)return s.Ld;const e=this._hasNotifications&&(this.narrow||"always_hidden"===this.hass.dockedSidebar);return s.dy` <ha-icon-button .label="${this.hass.localize("ui.sidebar.sidebar_toggle")}" .path="${"M3,6H21V8H3V6M3,11H21V13H3V11M3,16H21V18H3V16Z"}" @click="${this._toggleMenu}"></ha-icon-button> ${e?s.dy`<div class="dot"></div>`:""} `}},{kind:"method",key:"firstUpdated",value:function(e){(0,o.Z)((0,n.Z)(i.prototype),"firstUpdated",this).call(this,e),this.hassio&&(this._alwaysVisible=(Number(window.parent.frontendVersion)||0)<20190710)}},{kind:"method",key:"willUpdate",value:function(e){if((0,o.Z)((0,n.Z)(i.prototype),"willUpdate",this).call(this,e),!e.has("narrow")&&!e.has("hass"))return;const t=e.has("hass")?e.get("hass"):this.hass,a=(e.has("narrow")?e.get("narrow"):this.narrow)||"always_hidden"===(null==t?void 0:t.dockedSidebar),s=this.narrow||"always_hidden"===this.hass.dockedSidebar;this.hasUpdated&&a===s||(this._show=s||this._alwaysVisible,s?this._subscribeNotifications():this._unsubNotifications&&(this._unsubNotifications(),this._unsubNotifications=void 0))}},{kind:"method",key:"_subscribeNotifications",value:function(){if(this._unsubNotifications)throw new Error("Already subscribed");this._unsubNotifications=(0,l.r)(this.hass.connection,(e=>{this._hasNotifications=e.length>0}))}},{kind:"method",key:"_toggleMenu",value:function(){(0,d.B)(this,"hass-toggle-menu")}},{kind:"get",static:!0,key:"styles",value:function(){return s.iv`:host{position:relative}.dot{pointer-events:none;position:absolute;background-color:var(--accent-color);width:12px;height:12px;top:9px;right:7px;border-radius:50%;border:2px solid var(--app-header-background-color)}`}}]}}),s.oi)},52039:(e,t,i)=>{i.d(t,{C:()=>s});var a=i(17463),o=i(68144),n=i(79932);let s=(0,a.Z)([(0,n.Mo)("ha-svg-icon")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,n.Cb)()],key:"path",value:void 0},{kind:"field",decorators:[(0,n.Cb)()],key:"secondaryPath",value:void 0},{kind:"field",decorators:[(0,n.Cb)()],key:"viewBox",value:void 0},{kind:"method",key:"render",value:function(){return o.YP` <svg viewBox="${this.viewBox||"0 0 24 24"}" preserveAspectRatio="xMidYMid meet" focusable="false" role="img" aria-hidden="true"> <g> ${this.path?o.YP`<path class="primary-path" d="${this.path}"></path>`:o.Ld} ${this.secondaryPath?o.YP`<path class="secondary-path" d="${this.secondaryPath}"></path>`:o.Ld} </g> </svg>`}},{kind:"get",static:!0,key:"styles",value:function(){return o.iv`:host{display:var(--ha-icon-display,inline-flex);align-items:center;justify-content:center;position:relative;vertical-align:middle;fill:var(--icon-primary-color,currentcolor);width:var(--mdc-icon-size,24px);height:var(--mdc-icon-size,24px)}svg{width:100%;height:100%;pointer-events:none;display:block}path.primary-path{opacity:var(--icon-primary-opactity,1)}path.secondary-path{fill:var(--icon-secondary-color,currentcolor);opacity:var(--icon-secondary-opactity,.5)}`}}]}}),o.oi)},3555:(e,t,i)=>{var a=i(17463),o=i(34541),n=i(47838),s=i(42977),r=i(31338),d=i(68144),l=i(79932);(0,a.Z)([(0,l.Mo)("ha-textfield")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,l.Cb)({type:Boolean})],key:"invalid",value:void 0},{kind:"field",decorators:[(0,l.Cb)({attribute:"error-message"})],key:"errorMessage",value:void 0},{kind:"field",decorators:[(0,l.Cb)({type:Boolean})],key:"icon",value:void 0},{kind:"field",decorators:[(0,l.Cb)({type:Boolean})],key:"iconTrailing",value:void 0},{kind:"field",decorators:[(0,l.Cb)()],key:"autocomplete",value:void 0},{kind:"field",decorators:[(0,l.Cb)()],key:"autocorrect",value:void 0},{kind:"field",decorators:[(0,l.Cb)({attribute:"input-spellcheck"})],key:"inputSpellcheck",value:void 0},{kind:"field",decorators:[(0,l.IO)("input")],key:"formElement",value:void 0},{kind:"method",key:"updated",value:function(e){(0,o.Z)((0,n.Z)(i.prototype),"updated",this).call(this,e),(e.has("invalid")&&(this.invalid||void 0!==e.get("invalid"))||e.has("errorMessage"))&&(this.setCustomValidity(this.invalid?this.errorMessage||"Invalid":""),this.reportValidity()),e.has("autocomplete")&&(this.autocomplete?this.formElement.setAttribute("autocomplete",this.autocomplete):this.formElement.removeAttribute("autocomplete")),e.has("autocorrect")&&(this.autocorrect?this.formElement.setAttribute("autocorrect",this.autocorrect):this.formElement.removeAttribute("autocorrect")),e.has("inputSpellcheck")&&(this.inputSpellcheck?this.formElement.setAttribute("spellcheck",this.inputSpellcheck):this.formElement.removeAttribute("spellcheck"))}},{kind:"method",key:"renderIcon",value:function(e,t=!1){const i=t?"trailing":"leading";return d.dy` <span class="mdc-text-field__icon mdc-text-field__icon--${i}" tabindex="${t?1:-1}"> <slot name="${i}Icon"></slot> </span> `}},{kind:"field",static:!0,key:"styles",value:()=>[r.W,d.iv`.mdc-text-field__input{width:var(--ha-textfield-input-width,100%)}.mdc-text-field:not(.mdc-text-field--with-leading-icon){padding:var(--text-field-padding,0px 16px)}.mdc-text-field__affix--suffix{padding-left:var(--text-field-suffix-padding-left,12px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,12px);padding-inline-end:var(--text-field-suffix-padding-right,0px);direction:var(--direction)}.mdc-text-field--with-leading-icon{padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,16px);direction:var(--direction)}.mdc-text-field--with-leading-icon.mdc-text-field--with-trailing-icon{padding-left:var(--text-field-suffix-padding-left,0px);padding-right:var(--text-field-suffix-padding-right,0px);padding-inline-start:var(--text-field-suffix-padding-left,0px);padding-inline-end:var(--text-field-suffix-padding-right,0px)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--suffix{color:var(--secondary-text-color)}.mdc-text-field__icon{color:var(--secondary-text-color)}.mdc-text-field__icon--leading{margin-inline-start:16px;margin-inline-end:8px;direction:var(--direction)}.mdc-text-field__icon--trailing{padding:var(--textfield-icon-trailing-padding,12px)}.mdc-floating-label:not(.mdc-floating-label--float-above){text-overflow:ellipsis;width:inherit;padding-right:30px;padding-inline-end:30px;padding-inline-start:initial;box-sizing:border-box;direction:var(--direction)}input{text-align:var(--text-field-text-align,start)}::-ms-reveal{display:none}:host([no-spinner]) input::-webkit-inner-spin-button,:host([no-spinner]) input::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}:host([no-spinner]) input[type=number]{-moz-appearance:textfield}.mdc-text-field__ripple{overflow:hidden}.mdc-text-field{overflow:var(--text-field-overflow)}.mdc-floating-label{inset-inline-start:16px!important;inset-inline-end:initial!important;transform-origin:var(--float-start);direction:var(--direction);text-align:var(--float-start)}.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label{max-width:calc(100% - 48px - var(--text-field-suffix-padding-left,0px));inset-inline-start:calc(48px + var(--text-field-suffix-padding-left,0px))!important;inset-inline-end:initial!important;direction:var(--direction)}.mdc-text-field__input[type=number]{direction:var(--direction)}.mdc-text-field__affix--prefix{padding-right:var(--text-field-prefix-padding-right,2px)}.mdc-text-field:not(.mdc-text-field--disabled) .mdc-text-field__affix--prefix{color:var(--mdc-text-field-label-ink-color)}`,"rtl"===document.dir?d.iv`.mdc-floating-label,.mdc-text-field--with-leading-icon,.mdc-text-field--with-leading-icon.mdc-text-field--filled .mdc-floating-label,.mdc-text-field__affix--suffix,.mdc-text-field__icon--leading,.mdc-text-field__input[type=number]{direction:rtl}`:d.iv``]}]}}),s.P)},36226:(e,t,i)=>{var a=i(17463),o=i(67625),n=i(71711),s=i(68144),r=i(79932);(0,a.Z)([(0,r.Mo)("ha-top-app-bar-fixed")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",static:!0,key:"styles",value:()=>[n.W,s.iv`.mdc-top-app-bar__row{height:var(--header-height);border-bottom:var(--app-header-border-bottom)}.mdc-top-app-bar--fixed-adjust{padding-top:var(--header-height)}.mdc-top-app-bar{--mdc-typography-headline6-font-weight:400;color:var(--app-header-text-color,var(--mdc-theme-on-primary,#fff));background-color:var(--app-header-background-color,var(--mdc-theme-primary))}`]}]}}),o.s)},81582:(e,t,i)=>{i.d(t,{DJ:()=>n,LZ:()=>a,Nn:()=>c,Ny:()=>h,Pk:()=>f,Q4:()=>o,RQ:()=>r,SO:()=>d,T0:()=>p,iJ:()=>l,pB:()=>s});const a=32143==i.j?["migration_error","setup_error","setup_retry"]:null,o=32143==i.j?["not_loaded","loaded","setup_error","setup_retry"]:null,n=(e,t,i)=>{const a={type:"config_entries/subscribe"};return i&&i.type&&(a.type_filter=i.type),e.connection.subscribeMessage((e=>t(e)),a)},s=(e,t)=>{const i={};return t&&(t.type&&(i.type_filter=t.type),t.domain&&(i.domain=t.domain)),e.callWS({type:"config_entries/get",...i})},r=(e,t)=>e.callWS({type:"config_entries/get_single",entry_id:t}),d=(e,t,i)=>e.callWS({type:"config_entries/update",entry_id:t,...i}),l=(e,t)=>e.callApi("DELETE",`config/config_entries/entry/${t}`),c=(e,t)=>e.callApi("POST",`config/config_entries/entry/${t}/reload`),h=(e,t)=>e.callWS({type:"config_entries/disable",entry_id:t,disabled_by:"user"}),p=(e,t)=>e.callWS({type:"config_entries/disable",entry_id:t,disabled_by:null}),f=(e,t)=>{const i=[...e],a=e=>{const i=t[e.domain];return"helper"===(null==i?void 0:i.integration_type)?-1:1};return i.sort(((e,t)=>a(t)-a(e)))}},49594:(e,t,i)=>{i.d(t,{g:()=>s});const a=window;"customIconsets"in a||(a.customIconsets={});const o=a.customIconsets,n=window;"customIcons"in n||(n.customIcons={});const s=new Proxy(n.customIcons,{get:(e,t)=>{var i;return null!==(i=e[t])&&void 0!==i?i:o[t]?{getIcon:o[t]}:void 0}})},55424:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.d(t,{Bm:()=>x,Cj:()=>S,G9:()=>E,Jj:()=>O,KU:()=>$,P:()=>D,UB:()=>I,ZC:()=>P,_Z:()=>z,b:()=>V,gy:()=>T,iK:()=>C,jB:()=>N,kJ:()=>U,o1:()=>w,rl:()=>Z,vE:()=>H,xZ:()=>A,yH:()=>M});var o=i(24112),n=i(74774),s=i(63390),r=i(32182),d=i(38588),l=i(79021),c=i(39244),h=i(59429),p=i(93752),f=i(59699),u=i(97330),g=i(72043),v=i(49684),m=i(92306),b=i(81582),y=i(38014),_=e([v]);v=(_.then?(await _)():_)[0];const k=[],x=()=>({stat_energy_from:"",stat_cost:null,entity_energy_price:null,number_energy_price:null}),w=()=>({stat_energy_to:"",stat_compensation:null,entity_energy_price:null,number_energy_price:null}),C=()=>({type:"grid",flow_from:[],flow_to:[],cost_adjustment_day:0}),Z=()=>({type:"solar",stat_energy_from:"",config_entry_solar_forecast:null}),D=()=>({type:"battery",stat_energy_from:"",stat_energy_to:""}),$=()=>({type:"gas",stat_energy_from:"",stat_cost:null,entity_energy_price:null,number_energy_price:null}),S=()=>({type:"water",stat_energy_from:"",stat_cost:null,entity_energy_price:null,number_energy_price:null}),A=e=>e.callWS({type:"energy/info"}),T=async e=>(await e.loadBackendTranslation("issues","energy"),e.callWS({type:"energy/validate"})),P=e=>e.callWS({type:"energy/get_prefs"}),z=async(e,t)=>{const i=e.callWS({type:"energy/save_prefs",...t});return L(e),i},B=async(e,t,i,a,o,n="hour")=>e.callWS({type:"energy/fossil_energy_consumption",start_time:t.toISOString(),end_time:null==o?void 0:o.toISOString(),energy_statistic_ids:i,co2_statistic_id:a,period:n}),O=e=>(0,m.v)(e.energy_sources,(e=>e.type)),M=(e,t,i)=>{const a=[];for(const o of e.energy_sources)if(!i||i.includes(o.type))if("solar"!==o.type)if("gas"!==o.type&&"water"!==o.type)if("battery"!==o.type){for(const e of o.flow_from){a.push(e.stat_energy_from),e.stat_cost&&a.push(e.stat_cost);const i=t.cost_sensors[e.stat_energy_from];i&&a.push(i)}for(const e of o.flow_to){a.push(e.stat_energy_to),e.stat_compensation&&a.push(e.stat_compensation);const i=t.cost_sensors[e.stat_energy_to];i&&a.push(i)}}else a.push(o.stat_energy_from),a.push(o.stat_energy_to);else{a.push(o.stat_energy_from),o.stat_cost&&a.push(o.stat_cost);const e=t.cost_sensors[o.stat_energy_from];e&&a.push(e)}else a.push(o.stat_energy_from);return a},R=async(e,t,i,a,h)=>{const[p,f]=await Promise.all([(0,b.pB)(e,{domain:"co2signal"}),A(e)]),u=p.length?p[0]:void 0;let v;if(u)for(const t of Object.values(e.entities)){if("co2signal"!==t.platform)continue;const i=e.states[t.entity_id];if(i&&"%"===i.attributes.unit_of_measurement){v=i.entity_id;break}}const m=[];for(const e of t.energy_sources)if("grid"===e.type)for(const t of e.flow_from)m.push(t.stat_energy_from);const _=M(t,f,["grid","solar","battery","gas"]),k=M(t,f,["water"]),x=[..._,...k],w=(0,o.Z)(a||new Date,i),C=w>35?"month":w>2?"day":"hour",Z=e.config.unit_system.length||"",D={energy:"kWh",volume:"km"===Z?"m続":"ft続"},$={volume:"km"===Z?"L":"gal"},S=_.length?(0,y.dL)(e,i,a,_,C,D,["change"]):{},T=k.length?(0,y.dL)(e,i,a,k,C,$,["change"]):{};let P,z,O,R,L,I={},N={};h&&(z=(0,g.v)(i,n.Z,e.locale,e.config)&&(0,g.v)(a||new Date,s.Z,e.locale,e.config)?(0,g.A)(i,r.Z,e.locale,e.config,-(0,g.v)(a||new Date,d.Z,e.locale,e.config,i)-1):(0,g.A)(i,l.Z,e.locale,e.config,-1*(w+1)),O=(0,c.Z)(i,-1),_.length&&(I=(0,y.dL)(e,z,O,_,C,D,["change"])),k.length&&(N=(0,y.dL)(e,z,O,k,C,$,["change"]))),void 0!==v&&(R=B(e,i,m,v,a,w>35?"month":w>2?"day":"hour"),h&&(L=B(e,z,m,v,O,w>35?"month":w>2?"day":"hour")));const j={},E=x.length?(0,y.Py)(e,x):[],[H,V,U,F,W,q,K]=await Promise.all([S,T,I,N,E,R,L]),Y={...H,...V};h&&(P={...U,...F}),x.length&&W.forEach((e=>{j[e.statistic_id]=e}));return{start:i,end:a,startCompare:z,endCompare:O,info:f,prefs:t,stats:Y,statsMetadata:j,statsCompare:P,co2SignalConfigEntry:u,co2SignalEntity:v,fossilEnergyConsumption:q,fossilEnergyConsumptionCompare:K}},L=e=>{k.forEach((t=>{const i=I(e,{key:t});i.clearPrefs(),i._active&&i.refresh()}))},I=(e,t={})=>{let i="_energy";if(t.key){if(!t.key.startsWith("energy_"))throw new Error("Key need to start with energy_");i=`_${t.key}`}if(e.connection[i])return e.connection[i];k.push(t.key);const a=(0,u._)(e.connection,i,(async()=>{if(a.prefs||(a.prefs=await P(e)),a._refreshTimeout&&clearTimeout(a._refreshTimeout),a._active&&(!a.end||a.end>new Date)){const e=new Date;e.getMinutes()>=20&&e.setHours(e.getHours()+1),e.setMinutes(20,0,0),a._refreshTimeout=window.setTimeout((()=>a.refresh()),e.getTime()-Date.now())}return R(e,a.prefs,a.start,a.end,a.compare)})),o=a.subscribe;a.subscribe=e=>{const t=o(e);return a._active++,()=>{a._active--,a._active<1&&(clearTimeout(a._refreshTimeout),a._refreshTimeout=void 0),t()}},a._active=0,a.prefs=t.prefs;const n=new Date,s=(0,v.Zs)(n,e.locale,e.config).split(":")[0];a.start=(0,g.A)("0"===s?(0,l.Z)(n,-1):n,h.Z,e.locale,e.config),a.end=(0,g.A)("0"===s?(0,l.Z)(n,-1):n,p.Z,e.locale,e.config);const r=()=>{a._updatePeriodTimeout=window.setTimeout((()=>{a.start=(0,g.A)(new Date,h.Z,e.locale,e.config),a.end=(0,g.A)(new Date,p.Z,e.locale,e.config),r()}),(0,f.Z)((0,g.A)(n,p.Z,e.locale,e.config),1).getTime()-Date.now())};return r(),a.clearPrefs=()=>{a.prefs=void 0},a.setPeriod=(t,i)=>{var o;a.start=t,a.end=i,a.start.getTime()!==(0,g.A)(new Date,h.Z,e.locale,e.config).getTime()||(null===(o=a.end)||void 0===o?void 0:o.getTime())!==(0,g.A)(new Date,p.Z,e.locale,e.config).getTime()||a._updatePeriodTimeout?a._updatePeriodTimeout&&(clearTimeout(a._updatePeriodTimeout),a._updatePeriodTimeout=void 0):r()},a.setCompare=e=>{a.compare=e},a},N=e=>e.callWS({type:"energy/solar_forecast"}),j=["volume","energy"],E=(e,t={},i)=>{for(const a of e.energy_sources){if("gas"!==a.type)continue;if(i&&i===a.stat_energy_from)continue;const e=t[a.stat_energy_from];if(j.includes(null==e?void 0:e.unit_class))return e.unit_class}},H=(e,t,i={})=>{const a=E(t,i);if(void 0!==a)return"energy"===a?"kWh":"km"===e.config.unit_system.length?"m続":"ft続"},V=e=>"km"===e.config.unit_system.length?"L":"gal",U="/docs/energy/faq/#troubleshooting-missing-entities";a()}catch(e){a(e)}}))},6936:(e,t,i)=>{i.d(t,{r:()=>a});const a=(e,t)=>{const i=new o,a=e.subscribeMessage((e=>t(i.processMessage(e))),{type:"persistent_notification/subscribe"});return()=>{a.then((e=>null==e?void 0:e()))}};class o{constructor(){this.notifications=void 0,this.notifications={}}processMessage(e){if("removed"===e.type)for(const t of Object.keys(e.notifications))delete this.notifications[t];else this.notifications={...this.notifications,...e.notifications};return Object.values(this.notifications)}}},73826:(e,t,i)=>{i.d(t,{f:()=>r});var a=i(17463),o=i(34541),n=i(47838),s=i(79932);const r=e=>(0,a.Z)(null,(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,s.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",key:"hassSubscribeRequiredHostProps",value:void 0},{kind:"field",key:"__unsubs",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,o.Z)((0,n.Z)(i.prototype),"connectedCallback",this).call(this),this.__checkSubscribed()}},{kind:"method",key:"disconnectedCallback",value:function(){if((0,o.Z)((0,n.Z)(i.prototype),"disconnectedCallback",this).call(this),this.__unsubs){for(;this.__unsubs.length;){const e=this.__unsubs.pop();e instanceof Promise?e.then((e=>e())):e()}this.__unsubs=void 0}}},{kind:"method",key:"updated",value:function(e){if((0,o.Z)((0,n.Z)(i.prototype),"updated",this).call(this,e),e.has("hass"))this.__checkSubscribed();else if(this.hassSubscribeRequiredHostProps)for(const t of e.keys())if(this.hassSubscribeRequiredHostProps.includes(t))return void this.__checkSubscribed()}},{kind:"method",key:"hassSubscribe",value:function(){return[]}},{kind:"method",key:"__checkSubscribed",value:function(){var e;void 0!==this.__unsubs||!this.isConnected||void 0===this.hass||null!==(e=this.hassSubscribeRequiredHostProps)&&void 0!==e&&e.some((e=>void 0===this[e]))||(this.__unsubs=this.hassSubscribe())}}]}}),e)},40003:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.r(t);var o=i(17463),n=i(68144),s=i(79932),r=(i(48932),i(11654)),d=i(23754),l=i(10009),c=(i(36226),e([d,l]));[d,l]=c.then?(await c)():c;const h={views:[{strategy:{type:"energy"}}]};(0,o.Z)([(0,s.Mo)("ha-panel-energy")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,s.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.Cb)({type:Boolean,reflect:!0})],key:"narrow",value:void 0},{kind:"field",decorators:[(0,s.SB)()],key:"_viewIndex",value:()=>0},{kind:"field",decorators:[(0,s.SB)()],key:"_lovelace",value:void 0},{kind:"method",key:"willUpdate",value:function(e){if(this.hasUpdated||this.hass.loadFragmentTranslation("lovelace"),!e.has("hass"))return;const t=e.get("hass");(null==t?void 0:t.locale)!==this.hass.locale&&this._setLovelace(),t&&t.localize!==this.hass.localize&&this._reloadView()}},{kind:"method",key:"render",value:function(){return n.dy` <div class="header"> <div class="toolbar"> <ha-menu-button slot="navigationIcon" .hass="${this.hass}" .narrow="${this.narrow}"></ha-menu-button> ${this.narrow?n.Ld:n.dy`<div class="main-title"> ${this.hass.localize("panel.energy")} </div>`} <hui-energy-period-selector .hass="${this.hass}" collectionKey="energy_dashboard"></hui-energy-period-selector> </div> </div> <hui-view id="view" .hass="${this.hass}" .narrow="${this.narrow}" .lovelace="${this._lovelace}" .index="${this._viewIndex}" @reload-energy-panel="${this._reloadView}"></hui-view> `}},{kind:"method",key:"_setLovelace",value:function(){this._lovelace={config:h,rawConfig:h,editMode:!1,urlPath:"energy",mode:"generated",locale:this.hass.locale,enableFullEditMode:()=>{},saveConfig:async()=>{},deleteConfig:async()=>{},setEditMode:()=>{}}}},{kind:"method",key:"_reloadView",value:function(){const e=this._lovelace.config;this._lovelace={...this._lovelace,config:{...e,views:[{...e.views[0]}]}}}},{kind:"get",static:!0,key:"styles",value:function(){return[r.Qx,n.iv`:host hui-energy-period-selector{width:100%;padding-left:32px;padding-inline-start:32px;--disabled-text-color:rgba(var(--rgb-text-primary-color), 0.5);direction:var(--direction)}:host([narrow]) hui-energy-period-selector{padding-left:0px;padding-inline-start:0px}:host{-ms-user-select:none;-webkit-user-select:none;-moz-user-select:none}.header{background-color:var(--app-header-background-color);color:var(--app-header-text-color,#fff);border-bottom:var(--app-header-border-bottom,none);position:fixed;top:0;width:var(--mdc-top-app-bar-width,100%);padding-top:env(safe-area-inset-top);z-index:4;transition:box-shadow .2s linear;display:flex;flex-direction:row}:host([scrolled]) .header{box-shadow:var(--mdc-top-app-bar-fixed-box-shadow,0px 2px 4px -1px rgba(0,0,0,.2),0px 4px 5px 0px rgba(0,0,0,.14),0px 1px 10px 0px rgba(0,0,0,.12))}.toolbar{height:var(--header-height);display:flex;flex:1;align-items:center;font-size:20px;padding:0px 12px;font-weight:400;box-sizing:border-box}@media (max-width:599px){.toolbar{padding:0 4px}}.main-title{margin:0 0 0 24px;line-height:20px;flex-grow:1}#view{position:relative;display:flex;padding-top:calc(var(--header-height) + env(safe-area-inset-top));min-height:100vh;box-sizing:border-box;padding-left:env(safe-area-inset-left);padding-right:env(safe-area-inset-right);padding-bottom:env(safe-area-inset-bottom)}hui-view{background:var(--lovelace-background,var(--primary-background-color))}#view>*{flex:1 1 100%;max-width:100%}`]}}]}}),n.oi);a()}catch(e){a(e)}}))},23754:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(17463),o=i(34541),n=i(47838),s=(i(14271),i(59429)),r=i(93752),d=i(43340),l=i(59401),c=i(59281),h=i(13250),p=i(1905),f=i(24892),u=i(57436),g=i(69388),v=i(70451),m=i(24112),b=i(74774),y=i(63390),_=i(38588),k=i(32182),x=i(79021),w=i(70390),C=i(68144),Z=i(79932),D=i(14516),$=i(72043),S=i(26410),A=i(12198),T=i(38346),P=(i(81545),i(84431),i(39143)),z=(i(14471),i(17623),i(55424)),B=i(73826),O=i(44281),M=e([S,A,P,z]);[S,A,P,z]=M.then?(await M)():M;const R="M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z";(0,a.Z)([(0,Z.Mo)("hui-energy-period-selector")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,Z.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,Z.Cb)()],key:"collectionKey",value:void 0},{kind:"field",decorators:[(0,Z.Cb)({type:Boolean,reflect:!0})],key:"narrow",value:void 0},{kind:"field",decorators:[(0,Z.SB)()],key:"_startDate",value:void 0},{kind:"field",decorators:[(0,Z.SB)()],key:"_endDate",value:void 0},{kind:"field",decorators:[(0,Z.SB)()],key:"_ranges",value:()=>({})},{kind:"field",decorators:[(0,Z.SB)()],key:"_compare",value:()=>!1},{kind:"field",key:"_resizeObserver",value:void 0},{kind:"method",key:"hassSubscribe",value:function(){return[(0,z.UB)(this.hass,{key:this.collectionKey}).subscribe((e=>this._updateDates(e)))]}},{kind:"method",key:"_measure",value:function(){this.narrow=this.offsetWidth<450}},{kind:"method",key:"_attachObserver",value:async function(){this._resizeObserver||(await(0,O.j)(),this._resizeObserver=new ResizeObserver((0,T.D)((()=>this._measure()),250,!1))),this._resizeObserver.observe(this)}},{kind:"method",key:"firstUpdated",value:function(){this._attachObserver()}},{kind:"method",key:"connectedCallback",value:function(){(0,o.Z)((0,n.Z)(i.prototype),"connectedCallback",this).call(this),this.updateComplete.then((()=>this._attachObserver()))}},{kind:"method",key:"disconnectedCallback",value:function(){this._resizeObserver&&this._resizeObserver.disconnect()}},{kind:"method",key:"willUpdate",value:function(e){var t,a;if((0,o.Z)((0,n.Z)(i.prototype),"willUpdate",this).call(this,e),this.hasUpdated||this._measure(),!this.hasUpdated||e.has("hass")&&(null===(t=this.hass)||void 0===t?void 0:t.localize)!==(null===(a=e.get("hass"))||void 0===a?void 0:a.localize)){const e=new Date,t=(0,S.Bt)(this.hass.locale);this._ranges={[this.hass.localize("ui.components.date-range-picker.ranges.today")]:[(0,$.A)(e,s.Z,this.hass.locale,this.hass.config,{weekStartsOn:t}),(0,$.A)(e,r.Z,this.hass.locale,this.hass.config,{weekStartsOn:t})],[this.hass.localize("ui.components.date-range-picker.ranges.yesterday")]:[(0,$.A)((0,$.A)(e,d.Z,this.hass.locale,this.hass.config,1),s.Z,this.hass.locale,this.hass.config,{weekStartsOn:t}),(0,$.A)((0,$.A)(e,d.Z,this.hass.locale,this.hass.config,1),r.Z,this.hass.locale,this.hass.config,{weekStartsOn:t})],[this.hass.localize("ui.components.date-range-picker.ranges.this_week")]:[(0,$.A)(e,l.Z,this.hass.locale,this.hass.config,{weekStartsOn:t}),(0,$.A)(e,c.Z,this.hass.locale,this.hass.config,{weekStartsOn:t})],[this.hass.localize("ui.components.date-range-picker.ranges.this_month")]:[(0,$.A)(e,h.Z,this.hass.locale,this.hass.config),(0,$.A)(e,p.Z,this.hass.locale,this.hass.config)],[this.hass.localize("ui.components.date-range-picker.ranges.this_quarter")]:[(0,$.A)(e,f.Z,this.hass.locale,this.hass.config),(0,$.A)(e,u.Z,this.hass.locale,this.hass.config)],[this.hass.localize("ui.components.date-range-picker.ranges.this_year")]:[(0,$.A)(e,g.Z,this.hass.locale,this.hass.config),(0,$.A)(e,v.Z,this.hass.locale,this.hass.config)]}}}},{kind:"method",key:"render",value:function(){if(!this.hass||!this._startDate)return C.Ld;const e=this._simpleRange(this._startDate,this._endDate,this.hass.locale,this.hass.config);return C.dy` <div class="row"> <div class="label"> ${"day"===e?this.narrow?(0,A.mn)(this._startDate,this.hass.locale,this.hass.config):(0,A.p6)(this._startDate,this.hass.locale,this.hass.config):"month"===e?(0,A.NC)(this._startDate,this.hass.locale,this.hass.config):"year"===e?(0,A.yQ)(this._startDate,this.hass.locale,this.hass.config):`${(0,A.ud)(this._startDate,this.hass.locale,this.hass.config)}  ${(0,A.ud)(this._endDate||new Date,this.hass.locale,this.hass.config)}`} </div> <div class="time-handle"> <ha-icon-button-prev .label="${this.hass.localize("ui.panel.lovelace.components.energy_period_selector.previous")}" @click="${this._pickPrevious}"></ha-icon-button-prev> <ha-icon-button-next .label="${this.hass.localize("ui.panel.lovelace.components.energy_period_selector.next")}" @click="${this._pickNext}"></ha-icon-button-next> <ha-date-range-picker .hass="${this.hass}" .startDate="${this._startDate}" .endDate="${this._endDate||new Date}" .ranges="${this._ranges}" @change="${this._dateRangeChanged}" .timePicker="${!1}" minimal></ha-date-range-picker> </div> ${this.narrow?C.Ld:C.dy`<mwc-button dense outlined @click="${this._pickToday}"> ${this.hass.localize("ui.panel.lovelace.components.energy_period_selector.today")} </mwc-button>`} <ha-button-menu> <ha-icon-button slot="trigger" .label="${this.hass.localize("ui.common.menu")}" .path="${R}"></ha-icon-button> <ha-check-list-item left @request-selected="${this._toggleCompare}" .selected="${this._compare}"> ${this.hass.localize("ui.panel.lovelace.components.energy_period_selector.compare")} </ha-check-list-item> </ha-button-menu> </div> `}},{kind:"field",key:"_simpleRange",value:()=>(0,D.Z)(((e,t,i,a)=>{if(0===(0,m.Z)(t,e))return"day";if((0,$.v)(e,b.Z,i,a)&&(0,$.v)(t,y.Z,i,a)){if(0===(0,$.v)(t,_.Z,i,a,e))return"month";if(2===(0,$.v)(t,_.Z,i,a,e)&&e.getMonth()%3==0)return"quarter"}return(0,$.v)(e,b.Z,i,a)&&(0,$.v)(t,y.Z,i,a)&&11===(0,$.v)(t,_.Z,i,a,e)?"year":"other"}))},{kind:"method",key:"_updateCollectionPeriod",value:function(){const e=(0,z.UB)(this.hass,{key:this.collectionKey});e.setPeriod(this._startDate,this._endDate),e.refresh()}},{kind:"method",key:"_dateRangeChanged",value:function(e){const t=(0,S.Bt)(this.hass.locale);this._startDate=(0,$.A)(e.detail.startDate,s.Z,this.hass.locale,this.hass.config,{weekStartsOn:t}),this._endDate=(0,$.A)(e.detail.endDate,r.Z,this.hass.locale,this.hass.config,{weekStartsOn:t}),this._updateCollectionPeriod()}},{kind:"method",key:"_pickToday",value:function(){if(!this._startDate)return;const e=this._simpleRange(this._startDate,this._endDate,this.hass.locale,this.hass.config),t=new Date;if("month"===e)this._startDate=(0,$.A)(t,h.Z,this.hass.locale,this.hass.config),this._endDate=(0,$.A)(t,p.Z,this.hass.locale,this.hass.config);else if("quarter"===e)this._startDate=(0,$.A)(t,f.Z,this.hass.locale,this.hass.config),this._endDate=(0,$.A)(t,u.Z,this.hass.locale,this.hass.config);else if("year"===e)this._startDate=(0,$.A)(t,g.Z,this.hass.locale,this.hass.config),this._endDate=(0,$.A)(t,v.Z,this.hass.locale,this.hass.config);else{const e=(0,S.Bt)(this.hass.locale),i=(0,$.A)(this._endDate,l.Z,this.hass.locale,this.hass.config,{weekStartsOn:e}),a=(0,$.A)(this._endDate,c.Z,this.hass.locale,this.hass.config,{weekStartsOn:e});if(this._startDate.getTime()===i.getTime()&&this._endDate.getTime()===a.getTime())this._startDate=(0,$.A)(t,l.Z,this.hass.locale,this.hass.config,{weekStartsOn:e}),this._endDate=(0,$.A)(t,c.Z,this.hass.locale,this.hass.config,{weekStartsOn:e});else{const i=(0,$.v)(this._endDate,m.Z,this.hass.locale,this.hass.config,this._startDate);this._startDate=(0,$.A)((0,$.A)(t,d.Z,this.hass.locale,this.hass.config,i),s.Z,this.hass.locale,this.hass.config,{weekStartsOn:e}),this._endDate=(0,$.A)(t,r.Z,this.hass.locale,this.hass.config,{weekStartsOn:e})}}this._updateCollectionPeriod()}},{kind:"method",key:"_pickPrevious",value:function(){this._shift(!1)}},{kind:"method",key:"_pickNext",value:function(){this._shift(!0)}},{kind:"method",key:"_shift",value:function(e){if(!this._startDate)return;let t,i;if((0,$.v)(this._startDate,b.Z,this.hass.locale,this.hass.config)&&(0,$.v)(this._endDate,y.Z,this.hass.locale,this.hass.config)){const a=((0,$.v)(this._endDate,_.Z,this.hass.locale,this.hass.config,this._startDate)+1)*(e?1:-1);t=(0,$.A)(this._startDate,k.Z,this.hass.locale,this.hass.config,a),i=(0,$.A)((0,$.A)(this._endDate,k.Z,this.hass.locale,this.hass.config,a),p.Z,this.hass.locale,this.hass.config)}else{const a=((0,$.v)(this._endDate,m.Z,this.hass.locale,this.hass.config,this._startDate)+1)*(e?1:-1);t=(0,$.A)(this._startDate,x.Z,this.hass.locale,this.hass.config,a),i=(0,$.A)(this._endDate,x.Z,this.hass.locale,this.hass.config,a)}this._startDate=t,this._endDate=i,this._updateCollectionPeriod()}},{kind:"method",key:"_updateDates",value:function(e){this._compare=void 0!==e.startCompare,this._startDate=e.start,this._endDate=e.end||(0,w.Z)()}},{kind:"method",key:"_toggleCompare",value:function(e){if("interaction"!==e.detail.source)return;this._compare=e.detail.selected;const t=(0,z.UB)(this.hass,{key:this.collectionKey});t.setCompare(this._compare),t.refresh()}},{kind:"get",static:!0,key:"styles",value:function(){return C.iv`.row{display:flex;align-items:center}:host .time-handle{display:flex;justify-content:flex-end;align-items:center}:host([narrow]) .time-handle{margin-left:auto}.label{display:flex;align-items:center;justify-content:flex-end;font-size:20px;margin-left:auto}:host([narrow]) .label{margin-left:unset}mwc-button{margin-left:8px;flex-shrink:0;--mdc-button-outline-color:currentColor;--primary-color:currentColor;--mdc-theme-primary:currentColor;--mdc-theme-on-primary:currentColor;--mdc-button-disabled-outline-color:var(--disabled-text-color);--mdc-button-disabled-ink-color:var(--disabled-text-color)}`}}]}}),(0,B.f)(C.oi));t()}catch(e){t(e)}}))},11654:(e,t,i)=>{i.d(t,{$c:()=>r,Qx:()=>n,k1:()=>o,yu:()=>s});var a=i(68144);const o=a.iv`button.link{background:0 0;color:inherit;border:none;padding:0;font:inherit;text-align:left;text-decoration:underline;cursor:pointer;outline:0}`,n=a.iv`:host{font-family:var(--paper-font-body1_-_font-family);-webkit-font-smoothing:var(--paper-font-body1_-_-webkit-font-smoothing);font-size:var(--paper-font-body1_-_font-size);font-weight:var(--paper-font-body1_-_font-weight);line-height:var(--paper-font-body1_-_line-height)}app-header div[sticky]{height:48px}app-toolbar [main-title]{margin-left:20px}h1{font-family:var(--paper-font-headline_-_font-family);-webkit-font-smoothing:var(--paper-font-headline_-_-webkit-font-smoothing);white-space:var(--paper-font-headline_-_white-space);overflow:var(--paper-font-headline_-_overflow);text-overflow:var(--paper-font-headline_-_text-overflow);font-size:var(--paper-font-headline_-_font-size);font-weight:var(--paper-font-headline_-_font-weight);line-height:var(--paper-font-headline_-_line-height)}h2{font-family:var(--paper-font-title_-_font-family);-webkit-font-smoothing:var(--paper-font-title_-_-webkit-font-smoothing);white-space:var(--paper-font-title_-_white-space);overflow:var(--paper-font-title_-_overflow);text-overflow:var(--paper-font-title_-_text-overflow);font-size:var(--paper-font-title_-_font-size);font-weight:var(--paper-font-title_-_font-weight);line-height:var(--paper-font-title_-_line-height)}h3{font-family:var(--paper-font-subhead_-_font-family);-webkit-font-smoothing:var(--paper-font-subhead_-_-webkit-font-smoothing);white-space:var(--paper-font-subhead_-_white-space);overflow:var(--paper-font-subhead_-_overflow);text-overflow:var(--paper-font-subhead_-_text-overflow);font-size:var(--paper-font-subhead_-_font-size);font-weight:var(--paper-font-subhead_-_font-weight);line-height:var(--paper-font-subhead_-_line-height)}a{color:var(--primary-color)}.secondary{color:var(--secondary-text-color)}.error{color:var(--error-color)}.warning{color:var(--error-color)}mwc-button.warning{--mdc-theme-primary:var(--error-color)}${o} .card-actions a{text-decoration:none}.card-actions .warning{--mdc-theme-primary:var(--error-color)}.layout.horizontal,.layout.vertical{display:flex}.layout.inline{display:inline-flex}.layout.horizontal{flex-direction:row}.layout.vertical{flex-direction:column}.layout.wrap{flex-wrap:wrap}.layout.no-wrap{flex-wrap:nowrap}.layout.center,.layout.center-center{align-items:center}.layout.bottom{align-items:flex-end}.layout.center-center,.layout.center-justified{justify-content:center}.flex{flex:1;flex-basis:.000000001px}.flex-auto{flex:1 1 auto}.flex-none{flex:none}.layout.justified{justify-content:space-between}`,s=a.iv`ha-dialog{--mdc-dialog-min-width:400px;--mdc-dialog-max-width:600px;--mdc-dialog-max-width:min(600px, 95vw);--justify-action-buttons:space-between}ha-dialog .form{color:var(--primary-text-color)}a{color:var(--primary-color)}@media all and (max-width:450px),all and (max-height:500px){ha-dialog{--mdc-dialog-min-width:calc(
        100vw - env(safe-area-inset-right) - env(safe-area-inset-left)
      );--mdc-dialog-max-width:calc(
        100vw - env(safe-area-inset-right) - env(safe-area-inset-left)
      );--mdc-dialog-min-height:100%;--mdc-dialog-max-height:100%;--vertical-align-dialog:flex-end;--ha-dialog-border-radius:0}}ha-button.warning,mwc-button.warning{--mdc-theme-primary:var(--error-color)}.error{color:var(--error-color)}`,r=a.iv`.ha-scrollbar::-webkit-scrollbar{width:.4rem;height:.4rem}.ha-scrollbar::-webkit-scrollbar-thumb{-webkit-border-radius:4px;border-radius:4px;background:var(--scrollbar-thumb-color)}.ha-scrollbar{overflow-y:auto;scrollbar-color:var(--scrollbar-thumb-color) transparent;scrollbar-width:thin}`;a.iv`body{background-color:var(--primary-background-color);color:var(--primary-text-color);height:calc(100vh - 32px);width:100vw}`}};
//# sourceMappingURL=20123-6y8HwK-DTHk.js.map