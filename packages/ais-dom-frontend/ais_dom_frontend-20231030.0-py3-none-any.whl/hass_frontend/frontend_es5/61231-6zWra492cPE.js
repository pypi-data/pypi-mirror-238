/*! For license information please see 61231-6zWra492cPE.js.LICENSE.txt */
"use strict";(self.webpackChunkhome_assistant_frontend=self.webpackChunkhome_assistant_frontend||[]).push([[61231],{14095:function(e,t,a){var i,n=a(88962),r=(a(1449),a(65660),a(26110)),o=a(98235),s=a(9672),l=a(69491),d=a(50856);(0,s.k)({_template:(0,d.d)(i||(i=(0,n.Z)(['\n    <style>\n      :host {\n        display: inline-block;\n        position: relative;\n        width: 400px;\n        border: 1px solid;\n        padding: 2px;\n        -moz-appearance: textarea;\n        -webkit-appearance: textarea;\n        overflow: hidden;\n      }\n\n      .mirror-text {\n        visibility: hidden;\n        word-wrap: break-word;\n        @apply --iron-autogrow-textarea;\n      }\n\n      .fit {\n        @apply --layout-fit;\n      }\n\n      textarea {\n        position: relative;\n        outline: none;\n        border: none;\n        resize: none;\n        background: inherit;\n        color: inherit;\n        /* see comments in template */\n        width: 100%;\n        height: 100%;\n        font-size: inherit;\n        font-family: inherit;\n        line-height: inherit;\n        text-align: inherit;\n        @apply --iron-autogrow-textarea;\n      }\n\n      textarea::-webkit-input-placeholder {\n        @apply --iron-autogrow-textarea-placeholder;\n      }\n\n      textarea:-moz-placeholder {\n        @apply --iron-autogrow-textarea-placeholder;\n      }\n\n      textarea::-moz-placeholder {\n        @apply --iron-autogrow-textarea-placeholder;\n      }\n\n      textarea:-ms-input-placeholder {\n        @apply --iron-autogrow-textarea-placeholder;\n      }\n    </style>\n\n    \x3c!-- the mirror sizes the input/textarea so it grows with typing --\x3e\n    \x3c!-- use &#160; instead &nbsp; of to allow this element to be used in XHTML --\x3e\n    <div id="mirror" class="mirror-text" aria-hidden="true">&nbsp;</div>\n\n    \x3c!-- size the input/textarea with a div, because the textarea has intrinsic size in ff --\x3e\n    <div class="textarea-container fit">\n      <textarea id="textarea" name$="[[name]]" aria-label$="[[label]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" autocapitalize$="[[autocapitalize]]" inputmode$="[[inputmode]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" required$="[[required]]" disabled$="[[disabled]]" rows$="[[rows]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]"></textarea>\n    </div>\n']))),is:"iron-autogrow-textarea",behaviors:[o.x,r.a],properties:{value:{observer:"_valueChanged",type:String,notify:!0},bindValue:{observer:"_bindValueChanged",type:String,notify:!0},rows:{type:Number,value:1,observer:"_updateCached"},maxRows:{type:Number,value:0,observer:"_updateCached"},autocomplete:{type:String,value:"off"},autofocus:{type:Boolean,value:!1},autocapitalize:{type:String,value:"none"},inputmode:{type:String},placeholder:{type:String},readonly:{type:String},required:{type:Boolean},minlength:{type:Number},maxlength:{type:Number},label:{type:String}},listeners:{input:"_onInput"},get textarea(){return this.$.textarea},get selectionStart(){return this.$.textarea.selectionStart},get selectionEnd(){return this.$.textarea.selectionEnd},set selectionStart(e){this.$.textarea.selectionStart=e},set selectionEnd(e){this.$.textarea.selectionEnd=e},attached:function(){navigator.userAgent.match(/iP(?:[oa]d|hone)/)&&!navigator.userAgent.match(/OS 1[3456789]/)&&(this.$.textarea.style.marginLeft="-3px")},validate:function(){var e=this.$.textarea.validity.valid;return e&&(this.required&&""===this.value?e=!1:this.hasValidator()&&(e=o.x.validate.call(this,this.value))),this.invalid=!e,this.fire("iron-input-validate"),e},_bindValueChanged:function(e){this.value=e},_valueChanged:function(e){var t=this.textarea;t&&(t.value!==e&&(t.value=e||0===e?e:""),this.bindValue=e,this.$.mirror.innerHTML=this._valueForMirror(),this.fire("bind-value-changed",{value:this.bindValue}))},_onInput:function(e){var t=(0,l.vz)(e).path;this.value=t?t[0].value:e.target.value},_constrain:function(e){var t;for(e=e||[""],t=this.maxRows>0&&e.length>this.maxRows?e.slice(0,this.maxRows):e.slice(0);this.rows>0&&t.length<this.rows;)t.push("");return t.join("<br/>")+"&#160;"},_valueForMirror:function(){var e=this.textarea;if(e)return this.tokens=e&&e.value?e.value.replace(/&/gm,"&amp;").replace(/"/gm,"&quot;").replace(/'/gm,"&#39;").replace(/</gm,"&lt;").replace(/>/gm,"&gt;").split("\n"):[""],this._constrain(this.tokens)},_updateCached:function(){this.$.mirror.innerHTML=this._constrain(this.tokens)}});a(2178),a(98121),a(65911);var p,u=a(21006),c=a(66668);(0,s.k)({_template:(0,d.d)(p||(p=(0,n.Z)(['\n    <style>\n      :host {\n        display: block;\n      }\n\n      :host([hidden]) {\n        display: none !important;\n      }\n\n      label {\n        pointer-events: none;\n      }\n    </style>\n\n    <paper-input-container no-label-float$="[[noLabelFloat]]" always-float-label="[[_computeAlwaysFloatLabel(alwaysFloatLabel,placeholder)]]" auto-validate$="[[autoValidate]]" disabled$="[[disabled]]" invalid="[[invalid]]">\n\n      <label hidden$="[[!label]]" aria-hidden="true" for$="[[_inputId]]" slot="label">[[label]]</label>\n\n      <iron-autogrow-textarea class="paper-input-input" slot="input" id$="[[_inputId]]" aria-labelledby$="[[_ariaLabelledBy]]" aria-describedby$="[[_ariaDescribedBy]]" bind-value="{{value}}" invalid="{{invalid}}" validator$="[[validator]]" disabled$="[[disabled]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" required$="[[required]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]" autocapitalize$="[[autocapitalize]]" rows$="[[rows]]" max-rows$="[[maxRows]]" on-change="_onChange"></iron-autogrow-textarea>\n\n      <template is="dom-if" if="[[errorMessage]]">\n        <paper-input-error aria-live="assertive" slot="add-on">[[errorMessage]]</paper-input-error>\n      </template>\n\n      <template is="dom-if" if="[[charCounter]]">\n        <paper-input-char-counter slot="add-on"></paper-input-char-counter>\n      </template>\n\n    </paper-input-container>\n']))),is:"paper-textarea",behaviors:[c.d0,u.V],properties:{_ariaLabelledBy:{observer:"_ariaLabelledByChanged",type:String},_ariaDescribedBy:{observer:"_ariaDescribedByChanged",type:String},value:{type:String},rows:{type:Number,value:1},maxRows:{type:Number,value:0}},get selectionStart(){return this.$.input.textarea.selectionStart},set selectionStart(e){this.$.input.textarea.selectionStart=e},get selectionEnd(){return this.$.input.textarea.selectionEnd},set selectionEnd(e){this.$.input.textarea.selectionEnd=e},_ariaLabelledByChanged:function(e){this._focusableElement.setAttribute("aria-labelledby",e)},_ariaDescribedByChanged:function(e){this._focusableElement.setAttribute("aria-describedby",e)},get _focusableElement(){return this.inputElement.textarea}})},54091:function(e,t,a){a.r(t),a.d(t,{HuiDialogReportProblemToAis:function(){return Z},ReportProblemToAisWs:function(){return S}});var i,n,r,o,s,l,d,p,u,c,h,m=a(99312),b=a(81043),v=a(88962),g=a(33368),y=a(71650),_=a(82390),f=a(69205),x=a(70906),w=a(91808),k=(a(47704),a(63436),a(44577),a(53973),a(51095),a(14095),a(68144)),$=a(79932),z=(a(31206),a(34821)),A=a(11654),S=function(e,t,a,i){return e.callWS({type:"ais_cloud/report_ais_problem",problem_type:t,problem_desc:a,problem_data:i})},Z=(0,w.Z)([(0,$.Mo)("hui-dialog-report-problem-to-ais")],(function(e,t){var a,w,Z=function(t){(0,f.Z)(i,t);var a=(0,x.Z)(i);function i(){var t;(0,y.Z)(this,i);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return t=a.call.apply(a,[this].concat(r)),e((0,_.Z)(t)),t}return(0,g.Z)(i)}(t);return{F:Z,d:[{kind:"field",decorators:[(0,$.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,$.Cb)({attribute:!1})],key:"_params",value:void 0},{kind:"field",decorators:[(0,$.Cb)()],key:"_loading",value:function(){return!1}},{kind:"field",decorators:[(0,$.Cb)()],key:"_problemDescription",value:function(){return""}},{kind:"field",decorators:[(0,$.Cb)()],key:"_aisAnswer",value:void 0},{kind:"field",key:"_aisMediaInfo",value:void 0},{kind:"method",key:"showDialog",value:function(e){this._params=e,this._aisMediaInfo=this.hass.states["media_player.wbudowany_glosnik"],this._aisAnswer=void 0,this._problemDescription=""}},{kind:"method",key:"closeDialog",value:function(){this._params=void 0,this._aisAnswer=void 0,this._problemDescription=""}},{kind:"method",key:"render",value:function(){var e,t,a,h,m;return this._params?(0,k.dy)(n||(n=(0,v.Z)([' <ha-dialog open hideActions .heading="','" @closed="','"> '," "," </ha-dialog>"])),(0,z.i)(this.hass,"Zgłoszenie problemu ze źródłem multimediów"),this.closeDialog,this._loading?(0,k.dy)(r||(r=(0,v.Z)(["<ha-circular-progress active></ha-circular-progress>"]))):(0,k.dy)(o||(o=(0,v.Z)([""]))),this._loading?(0,k.dy)(c||(c=(0,v.Z)([" <p> Wysyłam zgłoszenie do AIS </p>"]))):(0,k.dy)(s||(s=(0,v.Z)(["<p> Problem z odtwarzaniem ",", <b></b>",' <span class="aisUrl"> <br>z adresu URL <ha-icon icon="mdi:web"></ha-icon>: <b></b>',' </span> </p> <div class="img404"><img src="','"></div> ',""])),null===(e=this._aisMediaInfo)||void 0===e?void 0:e.attributes.source,null===(t=this._aisMediaInfo)||void 0===t?void 0:t.attributes.media_title,null===(a=this._aisMediaInfo)||void 0===a?void 0:a.attributes.media_content_id,null===(h=this._aisMediaInfo)||void 0===h?void 0:h.attributes.media_stream_image,this._aisAnswer?(0,k.dy)(d||(d=(0,v.Z)([' <div style="text-align:center"> ',' </div> <div class="sendProblemToAisButton"> <mwc-button raised @click="','"> <ha-icon icon="hass:close-thick"></ha-icon>  OK </mwc-button> </div> '])),this._aisAnswer.error?(0,k.dy)(p||(p=(0,v.Z)([" <h2> Podczas przesyłania zgłoszenia wystąpił problem </h2> <p> "," </p> <p> Sprawdz połączenie z Internetem i spróbuj ponownie później. </p> "])),null===(m=this._aisAnswer)||void 0===m?void 0:m.message):(0,k.dy)(u||(u=(0,v.Z)([" <h2> Przesłano zgłoszenie do AIS, o numerze: "," </h2> <p> "," </p> "])),this._aisAnswer.report_id,this._aisAnswer.message),this.closeDialog):(0,k.dy)(l||(l=(0,v.Z)([' <p> Wyślij zgłoszenie do AI-Speaker. Postaramy się jak najszybciej naprawić ten problem. </p> <paper-textarea label="Dodatkowy opis dla AI-Speaker" placeholder="Tu możesz np. podać nowy adres zasobu, jeżeli go znasz." name="description" .value="','" @value-changed="','"></paper-textarea> <div class="sendProblemToAisButton"> <mwc-button raised @click="','"> <ha-icon icon="hass:email-send"></ha-icon>  Wyślij zgłoszenie do AI-Speaker </mwc-button> </div>'])),this._problemDescription,this._handleProblemDescriptionChange,this._handleReportProblemToAis))):(0,k.dy)(i||(i=(0,v.Z)([""])))}},{kind:"method",key:"_reportProblemToAis",value:(w=(0,b.Z)((0,m.Z)().mark((function e(){var t,a,i;return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this._loading=!0,t={message:"",email:"",report_id:0,error:!1},e.prev=2,e.next=5,S(this.hass,"media_source",this._problemDescription,(null===(a=this._aisMediaInfo)||void 0===a?void 0:a.attributes.media_title)+" "+(null===(i=this._aisMediaInfo)||void 0===i?void 0:i.attributes.media_content_id));case 5:t=e.sent,e.next=13;break;case 8:e.prev=8,e.t0=e.catch(2),t.message=e.t0.message,t.error=!0,this._loading=!1;case 13:return this._loading=!1,e.abrupt("return",t);case 15:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(){return w.apply(this,arguments)})},{kind:"method",key:"_handleReportProblemToAis",value:(a=(0,b.Z)((0,m.Z)().mark((function e(){return(0,m.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._reportProblemToAis();case 2:this._aisAnswer=e.sent;case 3:case"end":return e.stop()}}),e,this)}))),function(){return a.apply(this,arguments)})},{kind:"method",key:"_handleProblemDescriptionChange",value:function(e){this._problemDescription=e.detail.value}},{kind:"get",static:!0,key:"styles",value:function(){return[A.yu,(0,k.iv)(h||(h=(0,v.Z)(["ha-dialog{--dialog-content-padding:0 24px 20px}div.sendProblemToAisButton{text-align:center;margin:10px}div.img404{text-align:center}img{max-width:500px;max-height:300px;-webkit-filter:grayscale(100%);filter:grayscale(100%)}span.aisUrl{word-wrap:break-word}ha-circular-progress{--mdc-theme-primary:var(--primary-color);display:flex;justify-content:center;margin-top:40px;margin-bottom:20px}"])))]}}]}}),k.oi)}}]);
//# sourceMappingURL=61231-6zWra492cPE.js.map