export const id=77565;export const ids=[77565];export const modules={91168:(e,t,i)=>{i.d(t,{Z:()=>n});const a=e=>e<10?`0${e}`:e;function n(e){const t=Math.floor(e/3600),i=Math.floor(e%3600/60),n=Math.floor(e%3600%60);return t>0?`${t}:${a(i)}:${a(n)}`:i>0?`${i}:${a(n)}`:n>0?""+n:null}},72015:(e,t,i)=>{i.d(t,{$:()=>s,P:()=>r});var a=i(22311),n=i(56007);const s={alarm_control_panel:["armed_away","armed_custom_bypass","armed_home","armed_night","armed_vacation","arming","disarmed","disarming","pending","triggered"],automation:["on","off"],binary_sensor:["on","off"],button:[],calendar:["on","off"],camera:["idle","recording","streaming"],cover:["closed","closing","open","opening"],device_tracker:["home","not_home"],fan:["on","off"],humidifier:["on","off"],input_boolean:["on","off"],input_button:[],lawn_mower:["error","paused","mowing","docked"],light:["on","off"],lock:["jammed","locked","locking","unlocked","unlocking"],media_player:["off","on","idle","playing","paused","standby","buffering"],person:["home","not_home"],plant:["ok","problem"],remote:["on","off"],scene:[],schedule:["on","off"],script:["on","off"],siren:["on","off"],sun:["above_horizon","below_horizon"],switch:["on","off"],timer:["active","idle","paused"],update:["on","off"],vacuum:["cleaning","docked","error","idle","paused","returning"],weather:["clear-night","cloudy","exceptional","fog","hail","lightning-rainy","lightning","partlycloudy","pouring","rainy","snowy-rainy","snowy","sunny","windy-variant","windy"]},o={alarm_control_panel:{code_format:["number","text"]},binary_sensor:{device_class:["battery","battery_charging","co","cold","connectivity","door","garage_door","gas","heat","light","lock","moisture","motion","moving","occupancy","opening","plug","power","presence","problem","running","safety","smoke","sound","tamper","update","vibration","window"]},button:{device_class:["restart","update"]},camera:{frontend_stream_type:["hls","web_rtc"]},climate:{hvac_action:["off","idle","preheating","heating","cooling","drying","fan"]},cover:{device_class:["awning","blind","curtain","damper","door","garage","gate","shade","shutter","window"]},device_tracker:{source_type:["bluetooth","bluetooth_le","gps","router"]},fan:{direction:["forward","reverse"]},humidifier:{device_class:["humidifier","dehumidifier"],action:["off","idle","humidifying","drying"]},media_player:{device_class:["tv","speaker","receiver"],media_content_type:["album","app","artist","channel","channels","composer","contibuting_artist","episode","game","genre","image","movie","music","playlist","podcast","season","track","tvshow","url","video"],repeat:["off","one","all"]},number:{device_class:["temperature"]},sensor:{device_class:["apparent_power","aqi","battery","carbon_dioxide","carbon_monoxide","current","date","duration","energy","frequency","gas","humidity","illuminance","monetary","nitrogen_dioxide","nitrogen_monoxide","nitrous_oxide","ozone","ph","pm1","pm10","pm25","power_factor","power","pressure","reactive_power","signal_strength","sulphur_dioxide","temperature","timestamp","volatile_organic_compounds","volatile_organic_compounds_parts","voltage"],state_class:["measurement","total","total_increasing"]},switch:{device_class:["outlet","switch"]},update:{device_class:["firmware"]},water_heater:{away_mode:["on","off"]}},r=(e,t=void 0)=>{const i=(0,a.N)(e),r=[];switch(!t&&i in s?r.push(...s[i]):t&&i in o&&t in o[i]&&r.push(...o[i][t]),i){case"climate":t?"fan_mode"===t?r.push(...e.attributes.fan_modes):"preset_mode"===t?r.push(...e.attributes.preset_modes):"swing_mode"===t&&r.push(...e.attributes.swing_modes):r.push(...e.attributes.hvac_modes);break;case"device_tracker":case"person":t||r.push("home","not_home");break;case"event":"event_type"===t&&r.push(...e.attributes.event_types);break;case"fan":"preset_mode"===t&&r.push(...e.attributes.preset_modes);break;case"humidifier":"mode"===t&&r.push(...e.attributes.available_modes);break;case"input_select":case"select":t||r.push(...e.attributes.options);break;case"light":"effect"===t&&e.attributes.effect_list?r.push(...e.attributes.effect_list):"color_mode"===t&&e.attributes.supported_color_modes&&r.push(...e.attributes.supported_color_modes);break;case"media_player":"sound_mode"===t?r.push(...e.attributes.sound_mode_list):"source"===t&&r.push(...e.attributes.source_list);break;case"remote":"current_activity"===t&&r.push(...e.attributes.activity_list);break;case"sensor":t||"enum"!==e.attributes.device_class||r.push(...e.attributes.options);break;case"vacuum":"fan_speed"===t&&r.push(...e.attributes.fan_speed_list);break;case"water_heater":t&&"operation_mode"!==t||r.push(...e.attributes.operation_list)}return t||r.push(...n.V_),[...new Set(r)]}},6315:(e,t,i)=>{var a=i(17463),n=i(34541),s=i(47838),o=i(68144),r=i(79932),l=i(83448),d=i(57966),c=i(91168),h=i(22311),u=i(91741),m=i(72015),g=i(18457),b=i(56007),p=i(40958);i(91937),i(87037);const v=["alarm_control_panel","device_tracker","person"];(0,a.Z)([(0,r.Mo)("ha-state-label-badge")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"state",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"name",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"icon",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"image",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"showName",value:void 0},{kind:"field",decorators:[(0,r.SB)()],key:"_timerTimeRemaining",value:void 0},{kind:"field",key:"_connected",value:void 0},{kind:"field",key:"_updateRemaining",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,n.Z)((0,s.Z)(i.prototype),"connectedCallback",this).call(this),this._connected=!0,this.startInterval(this.state)}},{kind:"method",key:"disconnectedCallback",value:function(){(0,n.Z)((0,s.Z)(i.prototype),"disconnectedCallback",this).call(this),this._connected=!1,this.clearInterval()}},{kind:"method",key:"render",value:function(){var e,t;const i=this.state;if(!i)return o.dy` <ha-label-badge class="warning" label="${this.hass.localize("state_badge.default.error")}" description="${this.hass.localize("state_badge.default.entity_not_found")}"> <ha-svg-icon .path="${"M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z"}"></ha-svg-icon> </ha-label-badge> `;const a=(0,h.N)(i),n=null===(e=this.hass)||void 0===e?void 0:e.entities[i.entity_id],s=this.icon||this._computeShowIcon(a,i,n),r=this.icon?"":this.image?this.image:i.attributes.entity_picture_local||i.attributes.entity_picture,d=r||s?void 0:this._computeValue(a,i,n);return o.dy` <ha-label-badge class="${(0,l.$)({[a]:!0,"has-unit_of_measurement":"unit_of_measurement"in i.attributes})}" .image="${r}" .label="${this._computeLabel(a,i,this._timerTimeRemaining)}" .description="${!1===this.showName?void 0:null!==(t=this.name)&&void 0!==t?t:(0,u.C)(i)}"> ${!r&&s?o.dy`<ha-state-icon .icon="${this.icon}" .state="${i}"></ha-state-icon>`:""} ${!d||r||s?"":o.dy`<span class="${d&&d.length>4?"big":""}">${d}</span>`} </ha-label-badge> `}},{kind:"method",key:"updated",value:function(e){(0,n.Z)((0,s.Z)(i.prototype),"updated",this).call(this,e),this._connected&&e.has("state")&&this.startInterval(this.state)}},{kind:"method",key:"_computeValue",value:function(e,t,i){switch(e){case"alarm_control_panel":case"binary_sensor":case"device_tracker":case"person":case"scene":case"sun":case"timer":case"updater":return null;case"sensor":if("moon"===(null==i?void 0:i.platform))return null;default:return t.state===b.lz||t.state===b.nZ?"â€”":(0,g.SL)(t)?(0,g.uf)(t.state,this.hass.locale,(0,g.l4)(t,i)):this.hass.formatEntityState(t)}}},{kind:"method",key:"_computeShowIcon",value:function(e,t,i){if(t.state===b.nZ)return!1;switch(e){case"alarm_control_panel":case"binary_sensor":case"device_tracker":case"updater":case"person":case"scene":case"sun":case"timer":return!0;case"sensor":return"moon"===(null==i?void 0:i.platform);default:return!1}}},{kind:"method",key:"_computeLabel",value:function(e,t,i=0){if((0,b.rk)(t.state))return this.hass.localize(`state_badge.default.${t.state}`);const a=(n=e,s=t.state,(0,d.z)(v)(n)&&(0,d.z)(m.$[n])(s)?`${n}.${s}`:null);var n,s;return a?this.hass.localize(`state_badge.${a}`):"person"===e||"device_tracker"===e?t.state:"timer"===e?(0,c.Z)(i):t.attributes.unit_of_measurement||null}},{kind:"method",key:"clearInterval",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){this._updateRemaining&&(clearInterval(this._updateRemaining),this._updateRemaining=void 0)}))},{kind:"method",key:"startInterval",value:function(e){this.clearInterval(),e&&"timer"===(0,h.N)(e)&&(this.calculateTimerRemaining(e),"active"===e.state&&(this._updateRemaining=window.setInterval((()=>this.calculateTimerRemaining(this.state)),1e3)))}},{kind:"method",key:"calculateTimerRemaining",value:function(e){this._timerTimeRemaining=(0,p.mK)(e)}},{kind:"get",static:!0,key:"styles",value:function(){return o.iv`:host{cursor:pointer}.big{font-size:70%}ha-label-badge{--ha-label-badge-color:var(--label-badge-yellow)}ha-label-badge.has-unit_of_measurement{--ha-label-badge-label-text-transform:none}ha-label-badge.binary_sensor,ha-label-badge.updater{--ha-label-badge-color:var(--label-badge-blue)}.red{--ha-label-badge-color:var(--label-badge-red)}.blue{--ha-label-badge-color:var(--label-badge-blue)}.green{--ha-label-badge-color:var(--label-badge-green)}.yellow{--ha-label-badge-color:var(--label-badge-yellow)}.grey{--ha-label-badge-color:var(--label-badge-grey)}.warning{--ha-label-badge-color:var(--label-badge-yellow)}`}}]}}),o.oi)},91937:(e,t,i)=>{var a=i(17463),n=i(34541),s=i(47838),o=i(68144),r=i(79932),l=i(83448);(0,a.Z)([(0,r.Mo)("ha-label-badge")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.Cb)()],key:"label",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"description",value:void 0},{kind:"field",decorators:[(0,r.Cb)()],key:"image",value:void 0},{kind:"method",key:"render",value:function(){return o.dy` <div class="badge-container"> <div class="label-badge" id="badge"> <div class="value"> <slot></slot> </div> ${this.label?o.dy` <div class="${(0,l.$)({label:!0,big:this.label.length>5})}"> <span>${this.label}</span> </div> `:""} </div> ${this.description?o.dy`<div class="title">${this.description}</div>`:""} </div> `}},{kind:"get",static:!0,key:"styles",value:function(){return[o.iv`.badge-container{display:inline-block;text-align:center;vertical-align:top;padding:var(--ha-label-badge-padding,0 0 0 0)}.label-badge{position:relative;display:block;margin:0 auto;width:var(--ha-label-badge-size,2.5em);text-align:center;height:var(--ha-label-badge-size,2.5em);line-height:var(--ha-label-badge-size,2.5em);font-size:var(--ha-label-badge-font-size,1.5em);border-radius:var(--ha-label-badge-border-radius,50%);border:.1em solid var(--ha-label-badge-color,var(--primary-color));color:var(--label-badge-text-color,#4c4c4c);white-space:nowrap;background-color:var(--label-badge-background-color,#fff);background-size:cover;transition:border .3s ease-in-out}.label-badge .label.big span{font-size:90%;padding:10% 12% 7% 12%}.label-badge .value{font-size:90%;overflow:hidden;text-overflow:ellipsis}.label-badge .label{position:absolute;bottom:-1em;left:-.2em;right:-.2em;line-height:1em;font-size:.5em}.label-badge .label span{box-sizing:border-box;max-width:100%;display:inline-block;background-color:var(--ha-label-badge-color,var(--primary-color));color:var(--ha-label-badge-label-color,#fff);border-radius:1em;padding:9% 16% 8% 16%;font-weight:500;overflow:hidden;text-transform:uppercase;text-overflow:ellipsis;transition:background-color .3s ease-in-out;text-transform:var(--ha-label-badge-label-text-transform,uppercase)}.badge-container .title{margin-top:1em;font-size:var(--ha-label-badge-title-font-size,.9em);width:var(--ha-label-badge-title-width,5em);font-weight:var(--ha-label-badge-title-font-weight,400);overflow:hidden;text-overflow:ellipsis;line-height:normal}`]}},{kind:"method",key:"updated",value:function(e){(0,n.Z)((0,s.Z)(i.prototype),"updated",this).call(this,e),e.has("image")&&(this.shadowRoot.getElementById("badge").style.backgroundImage=this.image?`url(${this.image})`:"")}}]}}),o.oi)},22814:(e,t,i)=>{i.d(t,{Cp:()=>o,TZ:()=>r,W2:()=>s,YY:()=>l,iI:()=>n,oT:()=>a});const a=e=>e.map((e=>{if("string"!==e.type)return e;switch(e.name){case"username":return{...e,autocomplete:"username"};case"password":return{...e,autocomplete:"current-password"};case"code":return{...e,autocomplete:"one-time-code"};default:return e}})),n=(e,t)=>e.callWS({type:"auth/sign_path",path:t}),s=async(e,t,i,a)=>e.callWS({type:"config/auth_provider/homeassistant/create",user_id:t,username:i,password:a}),o=(e,t,i)=>e.callWS({type:"config/auth_provider/homeassistant/change_password",current_password:t,new_password:i}),r=(e,t,i)=>e.callWS({type:"config/auth_provider/homeassistant/admin_change_password",user_id:t,password:i}),l=e=>e.callWS({type:"auth/delete_all_refresh_tokens"})},9893:(e,t,i)=>{i.d(t,{IT:()=>l,PN:()=>o,Qo:()=>a,V0:()=>d,cs:()=>r,kb:()=>s});const a="custom:",n=window;"customCards"in n||(n.customCards=[]),"customTileFeatures"in n||(n.customTileFeatures=[]);const s=n.customCards,o=n.customTileFeatures,r=e=>s.find((t=>t.type===e)),l=e=>e.startsWith(a),d=e=>e.slice(a.length)},40958:(e,t,i)=>{i.d(t,{rv:()=>d,eF:()=>s,WH:()=>r,aT:()=>n,mK:()=>l,mZ:()=>o});var a=i(91168);const n=e=>e.callWS({type:"timer/list"}),s=(e,t)=>e.callWS({type:"timer/create",...t}),o=(e,t,i)=>e.callWS({type:"timer/update",timer_id:t,...i}),r=(e,t)=>e.callWS({type:"timer/delete",timer_id:t}),l=e=>{if(!e.attributes.remaining)return;let t=function(e){const t=e.split(":").map(Number);return 3600*t[0]+60*t[1]+t[2]}(e.attributes.remaining);if("active"===e.state){const i=(new Date).getTime(),a=new Date(e.last_changed).getTime();t=Math.max(t-(i-a)/1e3,0)}return t},d=(e,t,i)=>{if(!t)return null;if("idle"===t.state||0===i)return e.formatEntityState(t);let n=(0,a.Z)(i||0);return"paused"===t.state&&(n=`${n} (${e.formatEntityState(t)})`),n}},4289:(e,t,i)=>{i.d(t,{Fr:()=>r,wt:()=>o});var a=i(17463),n=i(68144),s=i(79932);i(91937),i(52039);const o=e=>{const t=document.createElement("hui-error-badge");return t.setConfig(e),t},r=e=>({type:"error",error:e});(0,a.Z)([(0,s.Mo)("hui-error-badge")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",key:"hass",value:void 0},{kind:"field",decorators:[(0,s.SB)()],key:"_config",value:void 0},{kind:"method",key:"setConfig",value:function(e){this._config=e}},{kind:"method",key:"render",value:function(){return this._config?n.dy` <ha-label-badge label="Error" description="${this._config.error}"> <ha-svg-icon .path="${"M13 14H11V9H13M13 18H11V16H13M1 21H23L12 2L1 21Z"}"></ha-svg-icon> </ha-label-badge> `:n.Ld}},{kind:"get",static:!0,key:"styles",value:function(){return n.iv`:host{--ha-label-badge-color:var(--label-badge-red, #fce588)}`}}]}}),n.oi)},39431:(e,t,i)=>{i.d(t,{J:()=>m});var a=i(17463),n=i(68144),s=i(79932),o=i(30153),r=(i(6315),i(93491)),l=i(17616),d=i(22193);(0,a.Z)([(0,s.Mo)("hui-state-label-badge")],(function(e,t){return{F:class extends t{constructor(...t){super(...t),e(this)}},d:[{kind:"field",decorators:[(0,s.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,s.Cb)()],key:"_config",value:void 0},{kind:"method",key:"setConfig",value:function(e){this._config=e}},{kind:"method",key:"render",value:function(){if(!this._config||!this.hass)return n.Ld;const e=this.hass.states[this._config.entity];return n.dy` <ha-state-label-badge .hass="${this.hass}" .state="${e}" .name="${this._config.name}" .icon="${this._config.icon}" .image="${this._config.image}" .showName="${this._config.show_name}" @action="${this._handleAction}" .actionHandler="${(0,r.K)({hasHold:(0,d._)(this._config.hold_action),hasDoubleClick:(0,d._)(this._config.double_tap_action)})}" tabindex="${(0,o.o)((0,d._)(this._config.tap_action)||this._config.entity?"0":void 0)}"></ha-state-label-badge> `}},{kind:"method",key:"_handleAction",value:function(e){(0,l.G)(this,this.hass,this._config,e.detail.action)}},{kind:"get",static:!0,key:"styles",value:function(){return n.iv`ha-state-label-badge:focus{outline:0;background:var(--divider-color);border-radius:4px}ha-state-label-badge{display:inline-block;padding:4px 2px 4px 2px;margin:-4px -2px -4px -2px}`}}]}}),n.oi);var c=i(7778);const h=new Set(["error","state-label"]),u={"entity-filter":()=>i.e(68045).then(i.bind(i,68045))},m=e=>(0,c.Tw)("badge",e,h,u,void 0,"state-label")},51153:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.d(t,{Do:()=>y,Z6:()=>f,l$:()=>v});i(67324),i(95646),i(20710);var n=i(10175),s=i(80251),o=i(89894),r=i(14888),l=(i(69377),i(95035)),d=i(6169),c=(i(41043),i(57464),i(24617),i(82778)),h=(i(18990),i(44921)),u=i(22720),m=i(7778),g=e([n,s,o,r,l,d,c,h,u]);[n,s,o,r,l,d,c,h,u]=g.then?(await g)():g;const b=new Set(["ais-easy-picker","ais-button","ais-files-list","entity","entities","button","entity-button","glance","grid","light","sensor","thermostat","weather-forecast","ais-zigbee2mqtt","ais-mini-media-player","ais-expansion-panel","tile"]),p={"alarm-panel":()=>Promise.all([i.e(42850),i.e(77639)]).then(i.bind(i,77639)),area:()=>Promise.all([i.e(97282),i.e(15896)]).then(i.bind(i,95795)),calendar:()=>Promise.resolve().then(i.bind(i,80251)),conditional:()=>i.e(68857).then(i.bind(i,68857)),"empty-state":()=>i.e(67284).then(i.bind(i,67284)),"energy-compare":()=>Promise.all([i.e(19667),i.e(61046)]).then(i.bind(i,61046)),"energy-carbon-consumed-gauge":()=>Promise.all([i.e(19667),i.e(23629),i.e(19490)]).then(i.bind(i,19490)),"energy-date-selection":()=>Promise.all([i.e(42850),i.e(41985),i.e(19667),i.e(2413),i.e(92867),i.e(60609),i.e(39143),i.e(10346)]).then(i.bind(i,10346)),"energy-devices-graph":()=>Promise.all([i.e(19667),i.e(69519),i.e(47420)]).then(i.bind(i,47420)),"energy-distribution":()=>Promise.all([i.e(19667),i.e(9928)]).then(i.bind(i,9928)),"energy-gas-graph":()=>Promise.all([i.e(19667),i.e(45409),i.e(60609),i.e(41305)]).then(i.bind(i,41305)),"energy-water-graph":()=>Promise.all([i.e(19667),i.e(45409),i.e(60609),i.e(89127)]).then(i.bind(i,89127)),"energy-grid-neutrality-gauge":()=>Promise.all([i.e(19667),i.e(31491),i.e(32176)]).then(i.bind(i,32176)),"energy-solar-consumed-gauge":()=>Promise.all([i.e(19667),i.e(22893),i.e(85930)]).then(i.bind(i,85930)),"energy-self-sufficiency-gauge":()=>Promise.all([i.e(19667),i.e(24007),i.e(61724)]).then(i.bind(i,61724)),"energy-solar-graph":()=>Promise.all([i.e(19667),i.e(45409),i.e(60609),i.e(70310)]).then(i.bind(i,70310)),"energy-sources-table":()=>Promise.all([i.e(19667),i.e(89481),i.e(16938)]).then(i.bind(i,16938)),"energy-usage-graph":()=>Promise.all([i.e(19667),i.e(45409),i.e(60609),i.e(9897)]).then(i.bind(i,9897)),"entity-filter":()=>i.e(33688).then(i.bind(i,33688)),error:()=>Promise.all([i.e(77426),i.e(55796)]).then(i.bind(i,55796)),gauge:()=>i.e(43283).then(i.bind(i,43283)),"history-graph":()=>Promise.all([i.e(69519),i.e(25825),i.e(38026)]).then(i.bind(i,38026)),"horizontal-stack":()=>i.e(89173).then(i.bind(i,89173)),humidifier:()=>i.e(68558).then(i.bind(i,68558)),iframe:()=>i.e(95018).then(i.bind(i,95018)),logbook:()=>Promise.all([i.e(99528),i.e(40967),i.e(62675)]).then(i.bind(i,8436)),map:()=>Promise.all([i.e(13786),i.e(60076)]).then(i.bind(i,60076)),markdown:()=>i.e(51282).then(i.bind(i,51282)),"media-control":()=>Promise.all([i.e(62962),i.e(88387)]).then(i.bind(i,88387)),"picture-elements":()=>Promise.all([i.e(97282),i.e(69028),i.e(78899)]).then(i.bind(i,83358)),"picture-entity":()=>Promise.all([i.e(97282),i.e(11604)]).then(i.bind(i,41500)),"picture-glance":()=>Promise.all([i.e(97282),i.e(70087)]).then(i.bind(i,66621)),picture:()=>i.e(45338).then(i.bind(i,45338)),"plant-status":()=>i.e(48723).then(i.bind(i,48723)),"recovery-mode":()=>Promise.all([i.e(3762),i.e(47398),i.e(50437)]).then(i.bind(i,50437)),"todo-list":()=>Promise.all([i.e(42850),i.e(3762),i.e(41985),i.e(20400)]).then(i.bind(i,20400)),"shopping-list":()=>Promise.all([i.e(42850),i.e(3762),i.e(41985),i.e(74827)]).then(i.bind(i,74827)),starting:()=>i.e(47873).then(i.bind(i,47873)),"statistics-graph":()=>i.e(95396).then(i.bind(i,95396)),statistic:()=>i.e(99897).then(i.bind(i,99897)),"vertical-stack":()=>i.e(26136).then(i.bind(i,26136)),"ais-list":()=>i.e(60335).then(i.bind(i,60335)),"ais-auto-entities":()=>i.e(21466).then(i.bind(i,21466)),"ais-monster":()=>i.e(89806).then(i.bind(i,89806)),"ais-fold-entity-row":()=>i.e(50293).then(i.bind(i,50293)),"ais-now-playing-poster":()=>i.e(48315).then(i.bind(i,48315)),"ais-light":()=>i.e(40892).then(i.bind(i,40892))},v=e=>(0,m.Xm)("card",e,b,p,void 0,void 0),f=e=>(0,m.Tw)("card",e,b,p,void 0,void 0),y=e=>(0,m.ED)(e,"card",b,p);a()}catch(e){a(e)}}))},7778:(e,t,i)=>{i.d(t,{ED:()=>u,N2:()=>o,Pc:()=>s,Tw:()=>c,Xm:()=>h});var a=i(47181),n=i(9893);const s=e=>{const t=document.createElement("hui-error-card");return customElements.get("hui-error-card")?t.setConfig(e):(Promise.all([i.e(77426),i.e(55796)]).then(i.bind(i,55796)),customElements.whenDefined("hui-error-card").then((()=>{customElements.upgrade(t),t.setConfig(e)}))),t},o=(e,t)=>({type:"error",error:e,origConfig:t}),r=(e,t)=>{const i=document.createElement(e);return i.setConfig(t),i},l=(e,t)=>s(o(e,t)),d=e=>(0,n.IT)(e)?(0,n.V0)(e):void 0,c=(e,t,i,a,n,s)=>{try{return h(e,t,i,a,n,s)}catch(i){return console.error(e,t.type,i),l(i.message,t)}},h=(e,t,i,n,s,o)=>{if(!t||"object"!=typeof t)throw new Error("Config is not an object");if(!(t.type||o||s&&"entity"in t))throw new Error("No card type configured");const c=t.type?d(t.type):void 0;if(c)return((e,t)=>{if(customElements.get(e))return r(e,t);const i=l(`Custom element doesn't exist: ${e}.`,t);if(!e.includes("-"))return i;i.style.display="None";const n=window.setTimeout((()=>{i.style.display=""}),2e3);return customElements.whenDefined(e).then((()=>{clearTimeout(n),(0,a.B)(i,"ll-rebuild")})),i})(c,t);let h;if(s&&!t.type&&t.entity){h=`${s[t.entity.split(".",1)[0]]||s._domain_not_found}-entity`}else h=t.type||o;if(void 0===h)throw new Error("No type specified");const u=`hui-${h}-${e}`;if(n&&h in n)return n[h](),((e,t)=>{if(customElements.get(e))return r(e,t);const i=document.createElement(e);return customElements.whenDefined(e).then((()=>{try{customElements.upgrade(i),i.setConfig(t)}catch(e){(0,a.B)(i,"ll-rebuild")}})),i})(u,t);if(i&&i.has(h))return r(u,t);throw new Error(`Unknown type encountered: ${h}`)},u=async(e,t,i,a)=>{const n=d(e);if(n){const e=customElements.get(n);if(e)return e;if(!n.includes("-"))throw new Error(`Custom element not found: ${n}`);return new Promise(((e,t)=>{setTimeout((()=>t(new Error(`Custom element not found: ${n}`))),2e3),customElements.whenDefined(n).then((()=>e(customElements.get(n))))}))}const s=`hui-${e}-${t}`,o=customElements.get(s);if(i&&i.has(e))return o;if(a&&e in a)return o||a[e]().then((()=>customElements.get(s)));throw new Error(`Unknown type: ${e}`)}},89026:(e,t,i)=>{i.d(t,{Q:()=>o,t:()=>s});var a=i(7778);const n={picture:()=>i.e(69130).then(i.bind(i,69130)),buttons:()=>Promise.all([i.e(42109),i.e(32587)]).then(i.bind(i,32587)),graph:()=>i.e(28922).then(i.bind(i,28922))},s=e=>(0,a.Tw)("header-footer",e,void 0,n,void 0,void 0),o=e=>(0,a.ED)(e,"header-footer",void 0,n)},37482:(e,t,i)=>{i.a(e,(async(e,a)=>{try{i.d(t,{T:()=>f,m:()=>v});var n=i(70808),s=i(12141),o=i(31479),r=i(23266),l=i(65716),d=i(99931),c=i(83896),h=i(45340),u=(i(56427),i(23658),i(7778)),m=e([n,s,o,r,l,d,c,h]);[n,s,o,r,l,d,c,h]=m.then?(await m)():m;const g=new Set(["media-player-entity","scene-entity","script-entity","sensor-entity","simple-entity","toggle-entity","button","call-service"]),b={"button-entity":()=>i.e(85611).then(i.bind(i,85611)),"climate-entity":()=>i.e(35642).then(i.bind(i,35642)),"cover-entity":()=>i.e(16755).then(i.bind(i,16755)),"date-entity":()=>Promise.all([i.e(42850),i.e(17489)]).then(i.bind(i,17489)),"datetime-entity":()=>Promise.all([i.e(42850),i.e(3762),i.e(13960),i.e(79344),i.e(32511),i.e(2728)]).then(i.bind(i,98208)),"event-entity":()=>Promise.resolve().then(i.bind(i,70808)),"group-entity":()=>i.e(81534).then(i.bind(i,81534)),"input-button-entity":()=>i.e(83968).then(i.bind(i,83968)),"humidifier-entity":()=>i.e(41102).then(i.bind(i,41102)),"input-datetime-entity":()=>Promise.all([i.e(42850),i.e(3762),i.e(13960),i.e(22350)]).then(i.bind(i,22350)),"input-number-entity":()=>Promise.all([i.e(42850),i.e(12335)]).then(i.bind(i,33906)),"input-select-entity":()=>Promise.all([i.e(3762),i.e(13960),i.e(25675)]).then(i.bind(i,25675)),"input-text-entity":()=>Promise.all([i.e(42850),i.e(73943)]).then(i.bind(i,73943)),"lock-entity":()=>i.e(61596).then(i.bind(i,61596)),"number-entity":()=>Promise.all([i.e(42850),i.e(66778)]).then(i.bind(i,66778)),"select-entity":()=>Promise.all([i.e(3762),i.e(13960),i.e(35994)]).then(i.bind(i,35994)),"text-entity":()=>Promise.all([i.e(42850),i.e(97600)]).then(i.bind(i,97600)),"time-entity":()=>Promise.all([i.e(42850),i.e(3762),i.e(13960),i.e(13678),i.e(3775)]).then(i.bind(i,35246)),"timer-entity":()=>i.e(31203).then(i.bind(i,31203)),conditional:()=>i.e(97749).then(i.bind(i,97749)),"weather-entity":()=>i.e(71850).then(i.bind(i,71850)),divider:()=>i.e(41930).then(i.bind(i,41930)),section:()=>i.e(94832).then(i.bind(i,94832)),weblink:()=>i.e(44689).then(i.bind(i,44689)),cast:()=>i.e(25840).then(i.bind(i,25840)),buttons:()=>Promise.all([i.e(42109),i.e(82137)]).then(i.bind(i,82137)),attribute:()=>Promise.resolve().then(i.bind(i,45340)),text:()=>i.e(63459).then(i.bind(i,63459))},p={_domain_not_found:"simple",alert:"toggle",automation:"toggle",button:"button",climate:"climate",cover:"cover",date:"date",datetime:"datetime",event:"event",fan:"toggle",group:"group",humidifier:"humidifier",input_boolean:"toggle",input_button:"input-button",input_number:"input-number",input_select:"input-select",input_text:"input-text",light:"toggle",lock:"lock",media_player:"media-player",number:"number",remote:"toggle",scene:"scene",script:"script",select:"select",sensor:"sensor",siren:"toggle",switch:"toggle",text:"text",time:"time",timer:"timer",vacuum:"toggle",water_heater:"climate",input_datetime:"input-datetime",weather:"weather"},v=e=>(0,u.Tw)("row",e,g,b,p,void 0),f=e=>(0,u.ED)(e,"row",g,b);a()}catch(e){a(e)}}))},76196:(e,t,i)=>{i.d(t,{o:()=>f});var a=i(17463),n=i(34541),s=i(47838),o=i(68144),r=i(79932),l=i(83448),d=i(47181),c=i(87744),h=i(96151),u=(i(6315),i(52039),i(50467));const m=(e,t)=>{let i=0;for(let t=0;t<e.length;t++){if(e[t]<5){i=t;break}e[t]<e[i]&&(i=t)}return e[i]+=t,i};let g=(0,a.Z)(null,(function(e,t){class a extends t{constructor(){super(),e(this),this.addEventListener("iron-resize",(e=>e.stopPropagation()))}}return{F:a,d:[{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"lovelace",value:void 0},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"narrow",value:void 0},{kind:"field",decorators:[(0,r.Cb)({type:Number})],key:"index",value:void 0},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"isStrategy",value:()=>!1},{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"cards",value:()=>[]},{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"badges",value:()=>[]},{kind:"field",decorators:[(0,r.SB)()],key:"_columns",value:void 0},{kind:"field",key:"_createColumnsIteration",value:()=>0},{kind:"field",key:"_mqls",value:void 0},{kind:"field",key:"_mqlListenerRef",value:void 0},{kind:"method",key:"connectedCallback",value:function(){(0,n.Z)((0,s.Z)(a.prototype),"connectedCallback",this).call(this),this._initMqls()}},{kind:"method",key:"disconnectedCallback",value:function(){var e;(0,n.Z)((0,s.Z)(a.prototype),"disconnectedCallback",this).call(this),null===(e=this._mqls)||void 0===e||e.forEach((e=>{e.removeListener(this._mqlListenerRef)})),this._mqlListenerRef=void 0,this._mqls=void 0}},{kind:"method",key:"setConfig",value:function(e){}},{kind:"method",key:"render",value:function(){var e,t;return o.dy` ${this.badges.length>0?o.dy`<div class="badges">${this.badges}</div>`:""} <div id="columns" class="${null!==(e=this.lovelace)&&void 0!==e&&e.editMode?"edit-mode":""}"></div> ${null!==(t=this.lovelace)&&void 0!==t&&t.editMode?o.dy` <ha-fab .label="${this.hass.localize("ui.panel.lovelace.editor.edit_card.add")}" extended @click="${this._addCard}" class="${(0,l.$)({rtl:(0,c.HE)(this.hass)})}"> <ha-svg-icon slot="icon" .path="${"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z"}"></ha-svg-icon> </ha-fab> `:""} `}},{kind:"method",key:"_initMqls",value:function(){this._mqls=[300,600,900,1200].map((e=>{const t=window.matchMedia(`(min-width: ${e}px)`);return this._mqlListenerRef||(this._mqlListenerRef=this._updateColumns.bind(this)),t.addListener(this._mqlListenerRef),t}))}},{kind:"get",key:"mqls",value:function(){return this._mqls||this._initMqls(),this._mqls}},{kind:"method",key:"willUpdate",value:function(e){var t;if((0,n.Z)((0,s.Z)(a.prototype),"willUpdate",this).call(this,e),null!==(t=this.lovelace)&&void 0!==t&&t.editMode&&i.e(49826).then(i.bind(i,49826)),e.has("hass")){const t=e.get("hass");if(this.hass.dockedSidebar!==(null==t?void 0:t.dockedSidebar))return void this._updateColumns()}if(e.has("narrow"))return void this._updateColumns();const o=e.get("lovelace");(e.has("cards")||e.has("lovelace")&&o&&(o.config!==this.lovelace.config||o.editMode!==this.lovelace.editMode))&&this._createColumns()}},{kind:"method",key:"_addCard",value:function(){(0,d.B)(this,"ll-create-card")}},{kind:"method",key:"_createRootElement",value:function(e){const t=this.shadowRoot.getElementById("columns");for(;t.lastChild;)t.removeChild(t.lastChild);e.forEach((e=>t.appendChild(e)))}},{kind:"method",key:"_createColumns",value:async function(){if(!this._columns)return;this._createColumnsIteration++;const e=this._createColumnsIteration,t=[],i=[];for(let e=0;e<Math.min(this._columns,this.cards.length);e++){const e=document.createElement("div");e.classList.add("column"),t.push(0),i.push(e)}let a,n;this.hasUpdated?this._createRootElement(i):this.updateComplete.then((()=>{this._createRootElement(i)}));for(const[s,o]of this.cards.entries()){let r;void 0===a&&(a=(0,h.y)().then((()=>{a=void 0,n=void 0}))),void 0===n?n=new Date:(new Date).getTime()-n.getTime()>16&&(r=a);const l=(0,u.N)(o),[d]=await Promise.all([l,r]);if(e!==this._createColumnsIteration)return;this._addCardToColumn(i[m(t,d)],s,this.lovelace.editMode)}i.forEach((e=>{e.lastChild||e.parentElement.removeChild(e)}))}},{kind:"method",key:"_addCardToColumn",value:function(e,t,i){const a=this.cards[t];if(!i||this.isStrategy)a.editMode=!1,e.appendChild(a);else{const i=document.createElement("hui-card-options");i.hass=this.hass,i.lovelace=this.lovelace,i.path=[this.index,t],a.editMode=!0,i.appendChild(a),e.appendChild(i)}}},{kind:"method",key:"_updateColumns",value:function(){const e=this.mqls.reduce(((e,t)=>e+Number(t.matches)),0),t=Math.max(1,e-Number(!this.narrow&&"docked"===this.hass.dockedSidebar));t!==this._columns&&(this._columns=t,this._createColumns())}},{kind:"get",static:!0,key:"styles",value:function(){return o.iv`:host{display:block;padding-top:4px}.badges{margin:8px 16px;font-size:85%;text-align:center}#columns{display:flex;flex-direction:row;justify-content:center;margin-left:4px;margin-right:4px}#columns.edit-mode{margin-bottom:72px}.column{flex:1 0 0;max-width:500px;min-width:0}.column:has(>*){flex-grow:1}.column:not(:has(>:not([hidden]))){flex-grow:0}.column>:not([hidden]){display:block;margin:var(--masonry-view-card-margin,4px 4px 8px)}ha-fab{position:fixed;right:calc(16px + env(safe-area-inset-right));bottom:calc(16px + env(safe-area-inset-bottom));z-index:1}ha-fab.rtl{right:auto;left:calc(16px + env(safe-area-inset-left))}@media (max-width:500px){.column>*{margin-left:0;margin-right:0}}@media (max-width:599px){.column{max-width:600px}}`}}]}}),o.oi);customElements.define("hui-masonry-view",g);var b=i(7778);const p=new Set(["masonry"]),v={panel:()=>i.e(48480).then(i.bind(i,48480)),sidebar:()=>i.e(60999).then(i.bind(i,60999))},f=e=>(0,b.Tw)("view",e,p,v)},97504:(e,t,i)=>{i.d(t,{F:()=>s,L:()=>n});var a=i(47181);const n=()=>Promise.all([i.e(42850),i.e(28597),i.e(41985),i.e(81480),i.e(17333),i.e(20671),i.e(37168),i.e(68175),i.e(58710)]).then(i.bind(i,52408)),s=(e,t)=>{(0,a.B)(e,"show-dialog",{dialogTag:"hui-dialog-create-card",dialogImport:n,dialogParams:t})}},62765:(e,t,i)=>{i.d(t,{K:()=>n,k:()=>s});var a=i(47181);const n=()=>i.e(95050).then(i.bind(i,95050)),s=(e,t)=>{(0,a.B)(e,"show-dialog",{dialogTag:"hui-dialog-delete-card",dialogImport:n,dialogParams:t})}},18678:(e,t,i)=>{i.d(t,{I:()=>n,x:()=>s});var a=i(47181);const n=()=>Promise.all([i.e(28597),i.e(77426),i.e(68331),i.e(21948),i.e(38206)]).then(i.bind(i,24932)),s=(e,t)=>{(0,a.B)(e,"show-dialog",{dialogTag:"hui-dialog-edit-card",dialogImport:n,dialogParams:t})}},54324:(e,t,i)=>{i.d(t,{BN:()=>n,LG:()=>s,PT:()=>g,Uo:()=>h,Y7:()=>l,YI:()=>u,Z0:()=>a,c5:()=>d,f1:()=>o,mA:()=>m,qD:()=>r,wI:()=>c});const a=(e,t,i)=>{const[a]=t,n=[];return e.views.forEach(((t,s)=>{if(s!==a)return void n.push(e.views[s]);const o=t.cards?[...t.cards,i]:[i];n.push({...t,cards:o})})),{...e,views:n}},n=(e,t,i)=>{const[a]=t,n=[];return e.views.forEach(((t,s)=>{if(s!==a)return void n.push(e.views[s]);const o=t.cards?[...t.cards,...i]:[...i];n.push({...t,cards:o})})),{...e,views:n}},s=(e,t,i)=>{const[a,n]=t,s=[];return e.views.forEach(((t,o)=>{o===a?s.push({...t,cards:(t.cards||[]).map(((e,t)=>t===n?i:e))}):s.push(e.views[o])})),{...e,views:s}},o=(e,t)=>{const[i,a]=t,n=[];return e.views.forEach(((t,s)=>{s===i?n.push({...t,cards:(t.cards||[]).filter(((e,t)=>t!==a))}):n.push(e.views[s])})),{...e,views:n}},r=(e,t,i)=>{const[a,n]=t,s=[];return e.views.forEach(((t,o)=>{if(o!==a)return void s.push(e.views[o]);const r=t.cards?[...t.cards.slice(0,n),i,...t.cards.slice(n)]:[i];s.push({...t,cards:r})})),{...e,views:s}},l=(e,t,i)=>{const a=e.views[t[0]].cards[t[1]],n=e.views[i[0]].cards[i[1]],s=e.views[t[0]],o={...s,cards:s.cards.map(((e,i)=>i===t[1]?n:e))},r=t[0]===i[0]?o:e.views[i[0]],l={...r,cards:r.cards.map(((e,t)=>t===i[1]?a:e))};return{...e,views:e.views.map(((e,a)=>a===i[0]?l:a===t[0]?o:e))}},d=(e,t,i)=>{const a=e.views[t[0]],n=t[1],s=Math.max(Math.min(i-1,a.cards.length-1),0),o=[...a.cards],r=o[n];o.splice(n,1),o.splice(s,0,r);const l={...a,cards:o};return{...e,views:e.views.map(((e,i)=>i===t[0]?l:e))}},c=(e,t,i)=>{if(t[0]===i[0])throw new Error("You cannot move a card to the view it is in.");const a=e.views[t[0]],n=a.cards[t[1]],s={...a,cards:(a.cards||[]).filter(((e,i)=>i!==t[1]))},o=e.views[i[0]],r=o.cards?[...o.cards,n]:[n],l={...o,cards:r};return{...e,views:e.views.map(((e,a)=>a===i[0]?l:a===t[0]?s:e))}},h=(e,t,i)=>{if(i.path&&t.views.some((e=>e.path===i.path)))throw new Error(e.localize("ui.panel.lovelace.editor.edit_view.error_same_url"));return{...t,views:t.views.concat(i)}},u=(e,t,i,a)=>{if(a.path&&t.views.some(((e,t)=>e.path===a.path&&t!==i)))throw new Error(e.localize("ui.panel.lovelace.editor.edit_view.error_same_url"));return{...t,views:t.views.map(((e,t)=>t===i?a:e))}},m=(e,t,i)=>{const a=e.views[t],n=e.views[i];return{...e,views:e.views.map(((e,s)=>s===i?a:s===t?n:e))}},g=(e,t)=>({...e,views:e.views.filter(((e,i)=>i!==t))})},93949:(e,t,i)=>{i.d(t,{R:()=>l});var a=i(26765),n=i(81796);const s=(e,t,i)=>{const a={message:t.localize("ui.common.successfully_deleted")};i&&(a.action={action:i,text:t.localize("ui.common.undo")}),(0,n.C)(e,a)};var o=i(62765),r=i(54324);async function l(e,t,i,n){const l=i.config.views[n[0]].cards[n[1]];(0,o.k)(e,{cardConfig:l,deleteCard:async()=>{try{const a=(0,r.f1)(i.config,n);await i.saveConfig(a);s(e,t,(async()=>{await i.saveConfig((0,r.qD)(a,n,l))}))}catch(t){(0,a.showAlertDialog)(e,{text:`Deleting failed: ${t.message}`})}}})}},57102:(e,t,i)=>{i.d(t,{mQ:()=>l,to:()=>o,ar:()=>r});const a="custom:",n={dashboard:{"original-states":()=>i.e(1529).then(i.bind(i,1529))},view:{"original-states":()=>Promise.all([i.e(19667),i.e(7616)]).then(i.bind(i,7616)),energy:()=>Promise.all([i.e(19667),i.e(1242)]).then(i.bind(i,1242))}},s=async(e,t,i,s)=>{const o=i.type;if(!o)return t("No strategy type found");try{const t=await(async(e,t)=>{var i;if(t in n[e]){await n[e][t]();const i=`${t}-${e}-strategy`;return customElements.get(i)}if(!t.startsWith(a))throw new Error("Unknown strategy");const s=`ll-strategy-${t.slice(7)}`,o=`ll-strategy-${e}-${t.slice(7)}`;if(!0===await Promise.race([customElements.whenDefined(s),customElements.whenDefined(o),new Promise((e=>{setTimeout((()=>e(!0)),5e3)}))]))throw new Error(`Timeout waiting for strategy element ${o} to be registered`);return null!==(i=customElements.get(o))&&void 0!==i?i:customElements.get(s)})(e,o);if((e=>!("generate"in e))(t)){if("dashboard"===e&&"generateDashboard"in t)return await t.generateDashboard({config:{strategy:i,views:[]},hass:s});if("view"===e&&"generateView"in t)return await t.generateView({config:{views:[]},view:{strategy:i},hass:s})}const r={...i,...i.options};return delete r.options,await t.generate(r,s)}catch(e){return"timeout"!==e.message&&console.error(e),t(e)}},o=async(e,t)=>s("dashboard",(e=>({views:[{title:"Error",cards:[{type:"markdown",content:`Error loading the dashboard strategy:\n> ${e}`}]}]})),e,t),r=async(e,t)=>s("view",(e=>({cards:[{type:"markdown",content:`Error loading the view strategy:\n> ${e}`}]})),e,t),l=async(e,t)=>{const i=e.strategy?await o(e.strategy,t):{...e};return i.views=await Promise.all(i.views.map((e=>e.strategy?r(e.strategy,t):e))),i}},13192:(e,t,i)=>{i.d(t,{Jh:()=>n,Zx:()=>a,cW:()=>o,rQ:()=>s});const a="masonry",n="panel",s="sidebar",o=[n,s]},10009:(e,t,i)=>{i.a(e,(async(e,t)=>{try{var a=i(17463),n=i(34541),s=i(47838),o=i(68144),r=i(79932),l=i(62877),d=(i(6315),i(52039),i(4289)),c=i(90271),h=i(39431),u=i(51153),m=i(7778),g=i(76196),b=i(97504),p=i(18678),v=i(93949),f=i(54324),y=i(57102),_=i(13192),w=e([u]);u=(w.then?(await w)():w)[0];(0,a.Z)([(0,r.Mo)("hui-view")],(function(e,t){class i extends t{constructor(...t){super(...t),e(this)}}return{F:i,d:[{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,r.Cb)({attribute:!1})],key:"lovelace",value:void 0},{kind:"field",decorators:[(0,r.Cb)({type:Boolean})],key:"narrow",value:void 0},{kind:"field",decorators:[(0,r.Cb)({type:Number})],key:"index",value:void 0},{kind:"field",decorators:[(0,r.SB)()],key:"_cards",value:()=>[]},{kind:"field",decorators:[(0,r.SB)()],key:"_badges",value:()=>[]},{kind:"field",key:"_layoutElementType",value:void 0},{kind:"field",key:"_layoutElement",value:void 0},{kind:"field",key:"_viewConfigTheme",value:void 0},{kind:"method",key:"createCardElement",value:function(e){const t=(0,u.Z6)(e);try{t.hass=this.hass}catch(t){return(0,m.Pc)((0,m.N2)(t.message,e))}return t.addEventListener("ll-rebuild",(i=>{this.lovelace.editMode||(i.stopPropagation(),this._rebuildCard(t,e))}),{once:!0}),t}},{kind:"method",key:"createBadgeElement",value:function(e){const t=(0,h.J)(e);try{t.hass=this.hass}catch(e){return(0,d.wt)((0,d.Fr)(e.message))}return t.addEventListener("ll-badge-rebuild",(()=>{this._rebuildBadge(t,e)}),{once:!0}),t}},{kind:"method",key:"createRenderRoot",value:function(){return this}},{kind:"method",key:"willUpdate",value:function(e){(0,n.Z)((0,s.Z)(i.prototype),"willUpdate",this).call(this,e);const t=e.get("lovelace");(e.has("index")||e.has("lovelace")&&(!t||this.lovelace.config.views[this.index]!==t.config.views[this.index]))&&this._initializeConfig()}},{kind:"method",key:"update",value:function(e){if((0,n.Z)((0,s.Z)(i.prototype),"update",this).call(this,e),this._layoutElement){if(e.has("hass")){this._badges.forEach((e=>{try{e.hass=this.hass}catch(t){this._rebuildBadge(e,(0,d.Fr)(t.message))}})),this._cards.forEach((e=>{try{e.hass=this.hass}catch(t){this._rebuildCard(e,(0,m.N2)(t.message,null))}})),this._layoutElement.hass=this.hass;const t=e.get("hass");t&&this.hass.themes===t.themes&&this.hass.selectedTheme===t.selectedTheme||(0,l.R)(this,this.hass.themes,this._viewConfigTheme)}e.has("narrow")&&(this._layoutElement.narrow=this.narrow),e.has("lovelace")&&(this._layoutElement.lovelace=this.lovelace),e.has("_cards")&&(this._layoutElement.cards=this._cards),e.has("_badges")&&(this._layoutElement.badges=this._badges)}}},{kind:"method",key:"_initializeConfig",value:async function(){let e=this.lovelace.config.views[this.index],t=!1;e.strategy&&(t=!0,e=await(0,y.ar)(e.strategy,this.hass)),e={...e,type:e.panel?_.Jh:e.type||_.Zx};let i=!1;if(this._layoutElement&&this._layoutElementType===e.type||(i=!0,this._createLayoutElement(e)),this._createBadges(e),this._createCards(e),this._layoutElement.isStrategy=t,this._layoutElement.hass=this.hass,this._layoutElement.narrow=this.narrow,this._layoutElement.lovelace=this.lovelace,this._layoutElement.index=this.index,this._layoutElement.cards=this._cards,this._layoutElement.badges=this._badges,(0,l.R)(this,this.hass.themes,e.theme),this._viewConfigTheme=e.theme,i){for(;this.lastChild;)this.removeChild(this.lastChild);this.appendChild(this._layoutElement)}}},{kind:"method",key:"_createLayoutElement",value:function(e){this._layoutElement=(0,g.o)(e),this._layoutElementType=e.type,this._layoutElement.addEventListener("ll-create-card",(()=>{(0,b.F)(this,{lovelaceConfig:this.lovelace.config,saveConfig:this.lovelace.saveConfig,path:[this.index]})})),this._layoutElement.addEventListener("ll-edit-card",(e=>{(0,p.x)(this,{lovelaceConfig:this.lovelace.config,saveConfig:this.lovelace.saveConfig,path:e.detail.path})})),this._layoutElement.addEventListener("ll-delete-card",(e=>{if(e.detail.confirm)(0,v.R)(this,this.hass,this.lovelace,e.detail.path);else{const t=(0,f.f1)(this.lovelace.config,e.detail.path);this.lovelace.saveConfig(t)}}))}},{kind:"method",key:"_createBadges",value:function(e){if(!e||!e.badges||!Array.isArray(e.badges))return void(this._badges=[]);const t=(0,c.A)(e.badges);this._badges=t.map((e=>{const t=(0,h.J)(e);try{t.hass=this.hass}catch(e){return(0,d.wt)((0,d.Fr)(e.message))}return t}))}},{kind:"method",key:"_createCards",value:function(e){e&&e.cards&&Array.isArray(e.cards)?this._cards=e.cards.map((e=>{const t=this.createCardElement(e);try{t.hass=this.hass}catch(t){return(0,m.Pc)((0,m.N2)(t.message,e))}return t})):this._cards=[]}},{kind:"method",key:"_rebuildCard",value:function(e,t){let i=this.createCardElement(t);try{i.hass=this.hass}catch(e){i=(0,m.Pc)((0,m.N2)(e.message,t))}e.parentElement&&e.parentElement.replaceChild(i,e),this._cards=this._cards.map((t=>t===e?i:t))}},{kind:"method",key:"_rebuildBadge",value:function(e,t){let i=this.createBadgeElement(t);try{i.hass=this.hass}catch(e){i=(0,d.wt)((0,d.Fr)(e.message))}e.parentElement&&e.parentElement.replaceChild(i,e),this._badges=this._badges.map((t=>t===e?i:t))}}]}}),o.fl);t()}catch(e){t(e)}}))}};
//# sourceMappingURL=77565-f0ykbmDcjCs.js.map